(self.webpackChunke_learning_platform=self.webpackChunke_learning_platform||[]).push([[302],{302:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AdministrarUsuariosModule:()=>b});var n=r(1116),o=r(9282),i=r(1462),a=r(2754),s=r(4762),c=r(2408),l=r(5366),u=r(2231);let d=(()=>{class t{constructor(t){this._userGateway=t}getAllUsers(){return this._userGateway.getAllUsers()}createUser(t){return this._userGateway.createUser(t)}updateUser(t,e){return this._userGateway.updateUser(t,e)}deleteUser(t){return this._userGateway.deleteUser(t)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(u.L))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function g(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"tbody"),l.TgZ(1,"tr"),l.TgZ(2,"td"),l._uU(3),l.qZA(),l.TgZ(4,"td"),l._uU(5),l.qZA(),l.TgZ(6,"td"),l._uU(7),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.qZA(),l.TgZ(10,"td"),l.TgZ(11,"button",17),l.NdJ("click",function(){const e=l.CHM(t).$implicit,r=l.oxw(),n=l.MAs(30);return r.openEditar(n,e)}),l._UZ(12,"i",18),l.qZA(),l.TgZ(13,"button",19),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw().eliminar(e)}),l._UZ(14,"i",20),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(3),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.codigo),l.xp6(2),l.Oqu(t.grado),l.xp6(2),l.Oqu(t.rol)}}function Z(t,e){1&t&&(l.TgZ(0,"div",26),l.TgZ(1,"label"),l._uU(2,"Email"),l.qZA(),l._UZ(3,"input",35),l.qZA())}function m(t,e){1&t&&(l.TgZ(0,"div",26),l.TgZ(1,"label"),l._uU(2,"Contrase\xf1a"),l.qZA(),l._UZ(3,"input",36),l.qZA())}function p(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",37),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).guardarEstudiante()}),l._uU(1,"Guardar"),l.qZA()}}function f(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"button",37),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).actualizarEstudiante()}),l._uU(1,"Actualizar"),l.qZA()}}function h(t,e){if(1&t&&(l.TgZ(0,"div",21),l.TgZ(1,"h4",22),l._uU(2,"Estudiante create/update"),l.qZA(),l.TgZ(3,"button",23),l.NdJ("click",function(){return e.$implicit.dismiss("Cross click")}),l.TgZ(4,"span",24),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",25),l.TgZ(7,"form"),l.TgZ(8,"div",26),l.TgZ(9,"form",27),l.TgZ(10,"div",26),l.TgZ(11,"label"),l._uU(12,"Nombre"),l.qZA(),l._UZ(13,"input",28),l.qZA(),l.TgZ(14,"div",26),l.TgZ(15,"label"),l._uU(16,"Codigo"),l.qZA(),l._UZ(17,"input",29),l.qZA(),l.YNc(18,Z,4,0,"div",30),l.YNc(19,m,4,0,"div",30),l.TgZ(20,"div",26),l.TgZ(21,"label"),l._uU(22,"Grado"),l.qZA(),l._UZ(23,"input",31),l.qZA(),l.TgZ(24,"div",26),l.TgZ(25,"label"),l._uU(26,"Rol"),l.qZA(),l._UZ(27,"input",32),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",33),l.YNc(29,p,2,0,"button",34),l.YNc(30,f,2,0,"button",34),l.qZA()),2&t){const t=l.oxw();l.xp6(9),l.Q6J("formGroup",t.managerUsersForm),l.xp6(9),l.Q6J("ngIf",!t.actualizar),l.xp6(1),l.Q6J("ngIf",!t.actualizar),l.xp6(10),l.Q6J("ngIf",!t.actualizar),l.xp6(1),l.Q6J("ngIf",t.actualizar)}}const A=[{path:"",component:(()=>{class t{constructor(t,e){this.modalService=t,this.userService=e,this.closeResult="",this.collection={count:15,data:[]},this.actualizar=!1,this.managerUsersForm=new i.cw({id:new i.NI("",i.kI.required),nombre:new i.NI("",i.kI.required),codigo:new i.NI("",i.kI.required),grado:new i.NI("",i.kI.required),rol:new i.NI("",i.kI.required),email:new i.NI("",i.kI.required),"contrase\xf1a":new i.NI("",i.kI.required),estado:new i.NI(!0,i.kI.required)})}ngOnInit(){this.userService.getAllUsers().subscribe(t=>{this.collection.data=t},t=>{console.error(t)}),this.config={itemsPerPage:6,currentPage:1,totalItems:this.collection.data.length}}pageChanged(t){this.config.currentPage=t}eliminar(t){this.userService.deleteUser(t.id)}guardarEstudiante(){const t=(0,s._T)(this.managerUsersForm.value,["id"]);t.estado=!0,this.userService.createUser(t).then(t=>{this.managerUsersForm.reset(),this.modalService.dismissAll()}).catch(t=>{console.error(t)})}actualizarEstudiante(){const t=this.managerUsersForm.value,{id:e}=t,r=(0,s._T)(t,["id"]);this.userService.updateUser(e,r).then(t=>{this.managerUsersForm.reset(),this.modalService.dismissAll()}).catch(t=>{console.error(t)})}openEditar(t,e){this.actualizar=!0,this.managerUsersForm.setValue(class{static toWelcome(t){return JSON.parse(t)}static welcomeToJson(t){return JSON.stringify(t)}static fromObjectToJson(t){return JSON.parse(JSON.stringify(t))}}.fromObjectToJson(e)),this.openModal(t)}openSave(t){this.actualizar=!1,this.managerUsersForm.reset(),this.openModal(t)}openModal(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===c.If.ESC?"by pressing ESC":t===c.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(c.FF),l.Y36(d))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-administrar-usuarios"]],decls:31,vars:4,consts:[[1,"col-9"],[1,"content"],["type","button",1,"btn","btn-success",3,"click"],[1,"fa","fa-user-plus"],[1,"card","card-cascade","narrower"],[1,"view","gradient-card-header","purple-gradient","narrower","py-3","mb-4","d-flex","justify-content-center","align-items-center"],[1,"white-text","mx-3"],[1,"px-4"],[1,"table-wrapper"],[1,"table","table-hover","mb-0"],[1,"th-md"],[4,"ngFor","ngForOf"],[1,"my-0"],[1,"my-4"],[1,"pagination","pagination-circle","pg-red","mb-0"],[2,"text-align","center",3,"pageChange"],["content",""],["type","button",1,"btn","btn-primary",2,"margin-right","1vw",3,"click"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[3,"formGroup"],["type","text","formControlName","nombre",1,"form-control"],["type","text","formControlName","codigo",1,"form-control"],["class","form-group",4,"ngIf"],["type","text","formControlName","grado",1,"form-control"],["type","text","formControlName","rol",1,"form-control"],[1,"modal-footer"],["type","button","class","btn btn-outline-dark",3,"click",4,"ngIf"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","contrase\xf1a",1,"form-control"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"button",2),l.NdJ("click",function(){l.CHM(t);const r=l.MAs(30);return e.openSave(r)}),l._UZ(3,"i",3),l.qZA(),l.TgZ(4,"article",4),l.TgZ(5,"section",5),l.TgZ(6,"span",6),l._uU(7,"Lista de Estudiantes"),l.qZA(),l.qZA(),l.TgZ(8,"section",7),l.TgZ(9,"section",8),l.TgZ(10,"table",9),l.TgZ(11,"thead"),l.TgZ(12,"tr"),l.TgZ(13,"th",10),l._uU(14,"Nombre"),l.qZA(),l.TgZ(15,"th",10),l._uU(16,"Codigo"),l.qZA(),l.TgZ(17,"th",10),l._uU(18,"Grado"),l.qZA(),l.TgZ(19,"th",10),l._uU(20,"Rol"),l.qZA(),l.TgZ(21,"th",10),l._uU(22,"Opciones"),l.qZA(),l.qZA(),l.qZA(),l.YNc(23,g,15,4,"tbody",11),l.ALo(24,"paginate"),l.qZA(),l.qZA(),l._UZ(25,"hr",12),l.TgZ(26,"nav",13),l.TgZ(27,"ul",14),l.TgZ(28,"pagination-controls",15),l.NdJ("pageChange",function(t){return e.pageChanged(t)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(29,h,31,5,"ng-template",null,16,l.W1O),l.qZA(),l.qZA()}2&t&&(l.xp6(23),l.Q6J("ngForOf",l.xi3(24,1,e.collection.data,e.config)))},directives:[n.sg,o.LS,i._Y,i.JL,i.F,i.sg,i.Fj,i.JJ,i.u,n.O5],pipes:[o._s],styles:[".col-9[_ngcontent-%COMP%]{margin-left:18vw!important;margin-top:-45vw!important;height:40vw!important;position:absolute;width:80%!important}"]}),t})()}];let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[a.Bz.forChild(A)],a.Bz]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[n.ez,q,i.u5,i.UX,o.JX]]}),t})()}}]);