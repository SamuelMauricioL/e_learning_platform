(self.webpackChunke_learning_platform=self.webpackChunke_learning_platform||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},1116:(t,e,n)=>{"use strict";n.d(e,{mr:()=>w,Ov:()=>Pt,ez:()=>Ft,K0:()=>u,JJ:()=>Dt,x:()=>A,Do:()=>E,V_:()=>h,Ye:()=>S,S$:()=>v,sg:()=>wt,O5:()=>Et,tP:()=>Ct,b0:()=>_,Zx:()=>Nt,lw:()=>c,Tn:()=>k,EM:()=>jt,JF:()=>Bt,p6:()=>W,Mn:()=>N,ol:()=>D,UT:()=>R,NF:()=>Vt,PM:()=>Ut,w_:()=>a,bD:()=>Mt,q:()=>o,Mx:()=>vt,HT:()=>s});var r=n(5366);let i=null;function o(){return i}function s(t){i||(i=t)}class a{}const u=new r.OlP("DocumentToken");let c=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return(0,r.LFG)(f)}const h=new r.OlP("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(u))},t.\u0275prov=(0,r.Yz7)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f((0,r.LFG)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=(0,r.LFG)(u).location;return new _((0,r.LFG)(c),e&&e.origin||"")}const w=new r.OlP("appBaseHref");let _=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c),r.LFG(w,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c),r.LFG(w,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(v),r.LFG(c))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=(0,r.Yz7)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new S((0,r.LFG)(v),(0,r.LFG)(c))}function C(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),x=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),A=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),k=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),O=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),P=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function D(t,e,n){const i=(0,r.cg1)(t),o=G([i[r.wAp.DayPeriodsFormat],i[r.wAp.DayPeriodsStandalone]],e);return G(o,n)}function N(t,e,n){const i=(0,r.cg1)(t),o=G([i[r.wAp.DaysFormat],i[r.wAp.DaysStandalone]],e);return G(o,n)}function R(t,e,n){const i=(0,r.cg1)(t),o=G([i[r.wAp.MonthsFormat],i[r.wAp.MonthsStandalone]],e);return G(o,n)}function L(t,e){return G((0,r.cg1)(t)[r.wAp.DateFormat],e)}function F(t,e){return G((0,r.cg1)(t)[r.wAp.TimeFormat],e)}function M(t,e){return G((0,r.cg1)(t)[r.wAp.DateTimeFormat],e)}function V(t,e){const n=(0,r.cg1)(t),i=n[r.wAp.NumberSymbols][e];if(void 0===i){if(e===P.CurrencyDecimal)return n[r.wAp.NumberSymbols][P.Decimal];if(e===P.CurrencyGroup)return n[r.wAp.NumberSymbols][P.Group]}return i}function U(t,e){return(0,r.cg1)(t)[r.wAp.NumberFormats][e]}const j=r.kL8;function q(t){if(!t[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function G(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function B(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const z=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,H={},$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Z=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),K=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Y=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function W(t,e,n,r){let i=function(t){if(ct(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return J(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(z))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!ct(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Q(n,e)||e;let o,s=[];for(;e;){if(o=$.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=ut(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(ut(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(at[t])return at[t];let e;switch(t){case"G":case"GG":case"GGG":e=nt(Y.Eras,k.Abbreviated);break;case"GGGG":e=nt(Y.Eras,k.Wide);break;case"GGGGG":e=nt(Y.Eras,k.Narrow);break;case"y":e=et(K.FullYear,1,0,!1,!0);break;case"yy":e=et(K.FullYear,2,0,!0,!0);break;case"yyy":e=et(K.FullYear,3,0,!1,!0);break;case"yyyy":e=et(K.FullYear,4,0,!1,!0);break;case"Y":e=st(1);break;case"YY":e=st(2,!0);break;case"YYY":e=st(3);break;case"YYYY":e=st(4);break;case"M":case"L":e=et(K.Month,1,1);break;case"MM":case"LL":e=et(K.Month,2,1);break;case"MMM":e=nt(Y.Months,k.Abbreviated);break;case"MMMM":e=nt(Y.Months,k.Wide);break;case"MMMMM":e=nt(Y.Months,k.Narrow);break;case"LLL":e=nt(Y.Months,k.Abbreviated,A.Standalone);break;case"LLLL":e=nt(Y.Months,k.Wide,A.Standalone);break;case"LLLLL":e=nt(Y.Months,k.Narrow,A.Standalone);break;case"w":e=ot(1);break;case"ww":e=ot(2);break;case"W":e=ot(1,!0);break;case"d":e=et(K.Date,1);break;case"dd":e=et(K.Date,2);break;case"c":case"cc":e=et(K.Day,1);break;case"ccc":e=nt(Y.Days,k.Abbreviated,A.Standalone);break;case"cccc":e=nt(Y.Days,k.Wide,A.Standalone);break;case"ccccc":e=nt(Y.Days,k.Narrow,A.Standalone);break;case"cccccc":e=nt(Y.Days,k.Short,A.Standalone);break;case"E":case"EE":case"EEE":e=nt(Y.Days,k.Abbreviated);break;case"EEEE":e=nt(Y.Days,k.Wide);break;case"EEEEE":e=nt(Y.Days,k.Narrow);break;case"EEEEEE":e=nt(Y.Days,k.Short);break;case"a":case"aa":case"aaa":e=nt(Y.DayPeriods,k.Abbreviated);break;case"aaaa":e=nt(Y.DayPeriods,k.Wide);break;case"aaaaa":e=nt(Y.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=nt(Y.DayPeriods,k.Abbreviated,A.Standalone,!0);break;case"bbbb":e=nt(Y.DayPeriods,k.Wide,A.Standalone,!0);break;case"bbbbb":e=nt(Y.DayPeriods,k.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":e=nt(Y.DayPeriods,k.Abbreviated,A.Format,!0);break;case"BBBB":e=nt(Y.DayPeriods,k.Wide,A.Format,!0);break;case"BBBBB":e=nt(Y.DayPeriods,k.Narrow,A.Format,!0);break;case"h":e=et(K.Hours,1,-12);break;case"hh":e=et(K.Hours,2,-12);break;case"H":e=et(K.Hours,1);break;case"HH":e=et(K.Hours,2);break;case"m":e=et(K.Minutes,1);break;case"mm":e=et(K.Minutes,2);break;case"s":e=et(K.Seconds,1);break;case"ss":e=et(K.Seconds,2);break;case"S":e=et(K.FractionalSeconds,1);break;case"SS":e=et(K.FractionalSeconds,2);break;case"SSS":e=et(K.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=rt(Z.Short);break;case"ZZZZZ":e=rt(Z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=rt(Z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=rt(Z.Long);break;default:return null}return at[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function J(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Q(t,e){const n=function(t){return(0,r.cg1)(t)[r.wAp.LocaleId]}(t);if(H[n]=H[n]||{},H[n][e])return H[n][e];let i="";switch(e){case"shortDate":i=L(t,O.Short);break;case"mediumDate":i=L(t,O.Medium);break;case"longDate":i=L(t,O.Long);break;case"fullDate":i=L(t,O.Full);break;case"shortTime":i=F(t,O.Short);break;case"mediumTime":i=F(t,O.Medium);break;case"longTime":i=F(t,O.Long);break;case"fullTime":i=F(t,O.Full);break;case"short":const e=Q(t,"shortTime"),n=Q(t,"shortDate");i=X(M(t,O.Short),[e,n]);break;case"medium":const r=Q(t,"mediumTime"),o=Q(t,"mediumDate");i=X(M(t,O.Medium),[r,o]);break;case"long":const s=Q(t,"longTime"),a=Q(t,"longDate");i=X(M(t,O.Long),[s,a]);break;case"full":const u=Q(t,"fullTime"),c=Q(t,"fullDate");i=X(M(t,O.Full),[u,c])}return i&&(H[n][e]=i),i}function X(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function tt(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function et(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case K.FullYear:return e.getFullYear();case K.Month:return e.getMonth();case K.Date:return e.getDate();case K.Hours:return e.getHours();case K.Minutes:return e.getMinutes();case K.Seconds:return e.getSeconds();case K.FractionalSeconds:return e.getMilliseconds();case K.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===K.Hours)0===a&&-12===n&&(a=12);else if(t===K.FractionalSeconds)return u=e,tt(a,3).substr(0,u);var u;const c=V(s,P.MinusSign);return tt(a,e,c,r,i)}}function nt(t,e,n=A.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case Y.Months:return R(e,o,i)[t.getMonth()];case Y.Days:return N(e,o,i)[t.getDay()];case Y.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=(0,r.cg1)(t);return q(e),(e[r.wAp.ExtraData][2]||[]).map(t=>"string"==typeof t?B(t):[B(t[0]),B(t[1])])}(e),n=function(t,e,n){const i=(0,r.cg1)(t);q(i);const o=G([i[r.wAp.ExtraData][0],i[r.wAp.ExtraData][1]],e)||[];return G(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return D(e,o,i)[a<12?0:1];case Y.Eras:return function(t,e){return G((0,r.cg1)(t)[r.wAp.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,t,e,n,i)}}function rt(t){return function(e,n,r){const i=-1*r,o=V(n,P.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Z.Short:return(i>=0?"+":"")+tt(s,2,o)+tt(Math.abs(i%60),2,o);case Z.ShortGMT:return"GMT"+(i>=0?"+":"")+tt(s,1,o);case Z.Long:return"GMT"+(i>=0?"+":"")+tt(s,2,o)+":"+tt(Math.abs(i%60),2,o);case Z.Extended:return 0===r?"Z":(i>=0?"+":"")+tt(s,2,o)+":"+tt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function it(t){return J(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ot(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=it(n),e=function(t){const e=J(t,0,1).getDay();return J(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return tt(i,t,V(r,P.MinusSign))}}function st(t,e=!1){return function(n,r){return tt(it(n).getFullYear(),t,V(r,P.MinusSign),e)}}const at={};function ut(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ct(t){return t instanceof Date&&!isNaN(t.valueOf())}const lt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ht=".",ft="0";function dt(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(ht))>-1&&(s=s.replace(ht,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===ft;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===ft;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(lt);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=gt(e)),null!=n&&(h=gt(n)),null!=r?f=gt(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const y=[];for(d.length>=e.lgSize&&y.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)y.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&y.unshift(d.join("")),a=y.join(V(n,r)),m.length&&(a+=V(n,i)+m.join("")),g&&(a+=V(n,P.Exponential)+"+"+g)}else a=V(n,P.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function pt(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(ht)?i.split(ht):[i.substring(0,i.lastIndexOf(ft)+1),i.substring(i.lastIndexOf(ft)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===ft?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function gt(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class mt{}let yt=(()=>{class t extends mt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function vt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class bt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new bt(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new _t(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new _t(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class _t{constructor(t,e){this.record=t,this.view=e}}let Et=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new St,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class St{constructor(){this.$implicit=null,this.ngIf=null}}function Tt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let Ct=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),t})();function It(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,r.AaK)(t)}'`)}class xt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class At{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const kt=new At,Ot=new xt;let Pt=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,r.QGY)(e))return kt;if((0,r.F4k)(e))return Ot;throw It(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO,16))},t.\u0275pipe=r.Yjl({name:"async",type:t,pure:!1}),t})(),Dt=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(!Rt(e))return null;r=r||this._locale;try{return function(t,e,n){return dt(t,pt(U(e,I.Decimal),V(e,P.MinusSign)),e,P.Group,P.Decimal,n)}(Lt(e),r,n)}catch(i){throw It(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG,16))},t.\u0275pipe=r.Yjl({name:"number",type:t,pure:!0}),t})(),Nt=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(!Rt(e))return null;r=r||this._locale;try{return function(t,e,n){return dt(t,pt(U(e,I.Percent),V(e,P.MinusSign)),e,P.Group,P.Decimal,n,!0).replace(new RegExp("%","g"),V(e,P.PercentSign))}(Lt(e),r,n)}catch(i){throw It(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG,16))},t.\u0275pipe=r.Yjl({name:"percent",type:t,pure:!0}),t})();function Rt(t){return!(null==t||""===t||t!=t)}function Lt(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let Ft=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:mt,useClass:yt}]}),t})();const Mt="browser";function Vt(t){return t===Mt}function Ut(t){return"server"===t}let jt=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new qt((0,r.LFG)(u),window)}),t})();class qt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Gt(this.window.history)||Gt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Gt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Bt{}},5366:(t,e,n)=>{"use strict";n.d(e,{deG:()=>Cn,tb:()=>kd,AFp:()=>Td,ip1:()=>Ed,CZH:()=>Sd,hGG:()=>Ep,z2F:()=>fp,n4l:()=>L,sBO:()=>_h,Sil:()=>jd,wA2:()=>dd,_Vd:()=>Hl,EJc:()=>Dd,Xek:()=>fd,SBq:()=>Yl,qLn:()=>wi,vpe:()=>_f,gxx:()=>Cs,tBr:()=>er,XFs:()=>O,OlP:()=>Tn,zs3:()=>js,IIB:()=>gd,ZZ4:()=>ph,aQg:()=>mh,soG:()=>Pd,LVF:()=>wd,YKP:()=>Ph,v3s:()=>pp,h0i:()=>Oh,PXZ:()=>ap,R0b:()=>Bd,FiY:()=>nr,r_U:()=>md,Lbi:()=>Ad,g9A:()=>xd,E6H:()=>pd,Qsj:()=>Ql,FYo:()=>Jl,JOm:()=>Ai,Tiy:()=>th,q3G:()=>oi,tp0:()=>ir,EAV:()=>yp,Rgc:()=>Ih,dDg:()=>Wd,DyG:()=>xn,q4F:()=>nh,GfV:()=>eh,s_b:()=>Nh,ifc:()=>F,eFA:()=>up,G48:()=>op,Gpc:()=>d,X6Q:()=>ip,_c5:()=>wp,VLi:()=>Xd,c2e:()=>Od,zSh:()=>xs,wAp:()=>Ac,vHH:()=>m,EiD:()=>ri,mCW:()=>Ur,qzn:()=>xr,JVY:()=>kr,pB0:()=>Nr,eBb:()=>Pr,L6k:()=>Or,LAX:()=>Dr,cg1:()=>Cc,Tjo:()=>bp,kL8:()=>Ic,yhl:()=>Ar,dqk:()=>q,sIi:()=>ta,CqO:()=>Ga,QGY:()=>ja,F4k:()=>qa,zlt:()=>Hh,RDi:()=>Ot,AaK:()=>l,z3N:()=>Ir,qOj:()=>Bs,TTD:()=>Et,_Bn:()=>Gl,xp6:()=>Co,uIk:()=>ua,Tol:()=>Su,DjV:()=>Wu,ekj:()=>wu,Suo:()=>Lf,Xpm:()=>Q,lG2:()=>st,Yz7:()=>_,cJS:()=>E,oAB:()=>rt,Yjl:()=>at,Y36:()=>ka,_UZ:()=>La,GkF:()=>Va,BQk:()=>Ma,ynx:()=>Fa,qZA:()=>Ra,TgZ:()=>Na,EpF:()=>Ua,n5z:()=>dn,Ikx:()=>wc,SDv:()=>Ol,QtT:()=>Nl,pQV:()=>Dl,LFG:()=>Jn,$8M:()=>gn,NdJ:()=>Ba,CRH:()=>Ff,kcU:()=>Oe,O4$:()=>Ae,oxw:()=>Ka,ALo:()=>ff,lcZ:()=>df,xi3:()=>pf,Hsn:()=>Ja,F$t:()=>Wa,Q6J:()=>Pa,s9C:()=>Qa,MGl:()=>Xa,VKq:()=>Wh,WLB:()=>Jh,kEZ:()=>Qh,iGM:()=>Nf,MAs:()=>Aa,CHM:()=>Jt,oJD:()=>si,LSH:()=>ui,kYT:()=>it,Udp:()=>bu,YNc:()=>xa,W1O:()=>jf,_uU:()=>Fu,Oqu:()=>Mu,hij:()=>Vu,AsE:()=>Uu,Gf:()=>Rf});var r=n(5959),i=n(7570),o=n(8318),s=n(1906),a=n(1055);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${v(t)} found${n}`)}function w(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return T(t,I)||T(t,A)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(k))?t[x]:null}const I=u({"\u0275prov":u}),x=u({"\u0275inj":u}),A=u({ngInjectableDef:u}),k=u({ngInjectorDef:u});var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function N(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==e?e:void b(l(t),"Injector")}function R(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,q=M||j||V||U,G={},B=[],z=u({"\u0275cmp":u}),H=u({"\u0275dir":u}),$=u({"\u0275pipe":u}),Z=u({"\u0275mod":u}),K=u({"\u0275loc":u}),Y=u({"\u0275fac":u}),W=u({__NG_ELEMENT_ID__:u});let J=0;function Q(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||B,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||B,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function X(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(tt),r.pipeDefs=()=>n.map(et)}function tt(t){return ut(t)||ct(t)}function et(t){return lt(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||B,declarations:t.declarations||B,imports:t.imports||B,exports:t.exports||B,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{nt[t.id]=t.type}),e}function it(t,e){return R(()=>{const n=ht(t,!0);n.declarations=e.declarations||B,n.imports=e.imports||B,n.exports=e.exports||B})}function ot(t,e){if(null==t)return G;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=Q;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[z]||null}function ct(t){return t[H]||null}function lt(t){return t[$]||null}function ht(t,e){const n=t[Z]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ft=20,dt=10;function pt(t){return Array.isArray(t)&&"object"==typeof t[1]}function gt(t){return Array.isArray(t)&&!0===t[1]}function mt(t){return 0!=(8&t.flags)}function yt(t){return 2==(2&t.flags)}function vt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function wt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Et(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),Tt}function Tt(){const t=It(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===G)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,r){const i=It(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:G,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new _t(u&&u.currentValue,e,s===G),t[r]=e}function It(t){return t.__ngSimpleChanges__||null}Et.ngInherit=!0;const xt="http://www.w3.org/2000/svg",At="http://www.w3.org/1998/MathML/";let kt;function Ot(t){kt=t}function Pt(){return void 0!==kt?kt:"undefined"!=typeof document?document:void 0}function Dt(t){return!!t.listen}const Nt={createRenderer:(t,e)=>Pt()};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Lt(t,e){return Rt(e[t])}function Ft(t,e){return Rt(e[t.index])}function Mt(t,e){return t.data[e]}function Vt(t,e){return t[e]}function Ut(t,e){const n=e[t];return pt(n)?n:n[0]}function jt(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Gt(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function zt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ht={lFrame:_e(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $t(){return Ht.bindingsEnabled}function Zt(){Ht.bindingsEnabled=!0}function Kt(){Ht.bindingsEnabled=!1}function Yt(){return Ht.lFrame.lView}function Wt(){return Ht.lFrame.tView}function Jt(t){return Ht.lFrame.contextLView=t,t[8]}function Qt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return Ht.lFrame.currentTNode}function te(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ee(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function ne(){return Ht.lFrame.isParent}function re(){Ht.lFrame.isParent=!1}function ie(){return Ht.isInCheckNoChangesMode}function oe(t){Ht.isInCheckNoChangesMode=t}function se(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ae(){return Ht.lFrame.bindingIndex}function ue(t){return Ht.lFrame.bindingIndex=t}function ce(){return Ht.lFrame.bindingIndex++}function le(t){const e=Ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function he(t){Ht.lFrame.inI18n=t}function fe(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,de(e)}function de(t){Ht.lFrame.currentDirectiveIndex=t}function pe(t){const e=Ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ge(){return Ht.lFrame.currentQueryIndex}function me(t){Ht.lFrame.currentQueryIndex=t}function ye(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ve(t,e,n){if(n&O.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&O.Host||(r=ye(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ht.lFrame=we();return r.currentTNode=e,r.lView=t,!0}function be(t){const e=we(),n=t[1];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function we(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?_e(t):e}function _e(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ee(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Se=Ee;function Te(){const t=Ee();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ce(){return Ht.lFrame.selectedIndex}function Ie(t){Ht.lFrame.selectedIndex=t}function xe(){const t=Ht.lFrame;return Mt(t.tView,t.selectedIndex)}function Ae(){Ht.lFrame.currentNamespace=xt}function ke(){Ht.lFrame.currentNamespace=At}function Oe(){Ht.lFrame.currentNamespace=null}function Pe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function De(t,e,n){Le(t,e,3,n)}function Ne(t,e,n,r){(3&t[2])===n&&Le(t,e,n,r)}function Re(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Le(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Fe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Fe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Me=-1;class Ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ue(t,e,n){const r=Dt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];qe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function je(t){return 3===t||4===t||6===t}function qe(t){return 64===t.charCodeAt(0)}function Ge(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Be(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Be(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ze(t){return t!==Me}function He(t){return 32767&t}function $e(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ze=!0;function Ke(t){const e=Ze;return Ze=t,e}let Ye=0;function We(t,e){const n=Qe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Je(r.data,t),Je(e,null),Je(r.blueprint,null));const i=Xe(t,e),o=t.injectorIndex;if(ze(i)){const t=He(i),n=$e(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Me;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Me}function tn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=Ye++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function en(t,e,n){if(n&O.Optional)return t;b(e,"NodeInjector")}function nn(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&O.Optional):N(e,r,n&O.Optional)}finally{D(o)}}return en(r,e,n)}function rn(t,e,n,r=O.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e?e>=0?255&e:sn:e}(n);if("function"==typeof o){if(!ve(e,t,r))return r&O.Host?en(i,n,r):nn(e,n,r,i);try{const t=o(r);if(null!=t||r&O.Optional)return t;b(n)}finally{Se()}}else if("number"==typeof o){let i=null,s=Qe(t,e),a=Me,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?Xe(t,e):e[s+8],a!==Me&&hn(r,!1)?(i=e[1],s=He(a),e=$e(a,e)):s=-1);-1!==s;){const t=e[1];if(ln(o,s,t.data)){const t=an(s,e,n,i,r,u);if(t!==on)return t}a=e[s+8],a!==Me&&hn(r,e[1].data[s+8]===u)&&ln(o,s,e)?(i=t,s=He(a),e=$e(a,e)):s=-1}}}return nn(e,n,r,i)}const on={};function sn(){return new fn(Qt(),Yt())}function an(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=un(a,s,n,null==r?yt(a)&&Ze:r!=s&&0!=(3&a.type),i&O.Host&&o===a);return null!==u?cn(e,s,u,a):on}function un(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&bt(t)&&t.type===n)return u}return null}function cn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ve){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(v(o[n]));const a=Ke(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;ve(t,r,O.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),Ke(a),s.resolving=!1,Se()}}return i}function ln(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function hn(t,e){return!(t&O.Self||t&O.Host&&e)}class fn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return rn(this._tNode,this._lView,t,void 0,e)}}function dn(t){return R(()=>{const e=t.prototype.constructor,n=e[Y]||pn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||pn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function pn(t){return g(t)?()=>{const e=pn(p(t));return e&&e()}:wt(t)}function gn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Qt(),t)}const mn="__annotations__",yn="__parameters__",vn="__prop__metadata__";function bn(t,e,n,r,i){return R(()=>{const o=wn(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(mn)?n[mn]:Object.defineProperty(n,mn,{value:[]})[mn]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function wn(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function _n(t,e,n){return R(()=>{const r=wn(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(yn)?t[yn]:Object.defineProperty(t,yn,{value:[]})[yn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function En(t,e,n,r){return R(()=>{const i=wn(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(vn)?o[vn]:Object.defineProperty(o,vn,{value:{}})[vn];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const Sn=function(){return _n("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>gn(t)}))}();class Tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Cn=new Tn("AnalyzeForEntryComponents");function In(){const t=q.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const xn=Function;function An(t){return"function"==typeof t}function kn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),kn(r,e)):e!==t&&e.push(r)}return e}function On(t,e){t.forEach(t=>Array.isArray(t)?On(t,e):e(t))}function Pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Nn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Rn(t,e,n){let r=Fn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Ln(t,e){const n=Fn(t,e);if(n>=0)return t[1|n]}function Fn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Mn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Vn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Un=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,jn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class qn{constructor(t){this._reflect=t||q.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Nn(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Mn.test(n)||jn.test(n)||Vn.test(n)&&!Un.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Gn(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(yn)&&t[yn],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):Nn(t.length)}parameters(t){if(!An(t))return[];const e=Bn(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Gn(t.decorators):t.hasOwnProperty(mn)?t[mn]:null}annotations(t){if(!An(t))return[];const e=Bn(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Gn(e[t])}),n}return t.hasOwnProperty(vn)?t[vn]:null}propMetadata(t){if(!An(t))return{};const e=Bn(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return An(t)&&this._ownPropMetadata(t,Bn(t))||{}}hasLifecycleHook(t,e){return t instanceof xn&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${l(t)}`}resourceUri(t){return`./${l(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Gn(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Bn(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const zn={},Hn=/\n/gm,$n="__source",Zn=u({provide:String,useValue:u});let Kn;function Yn(t){const e=Kn;return Kn=t,e}function Wn(t,e=O.Default){if(void 0===Kn)throw new Error("inject() must be called from an injection context");return null===Kn?N(t,void 0,e):Kn.get(t,e&O.Optional?null:void 0,e)}function Jn(t,e=O.Default){return(P||Wn)(p(t),e)}function Qn(t){throw new Error("invalid")}function Xn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(Jn(t,n))}else e.push(Jn(r))}return e}function tr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const er=tr(_n("Inject",t=>({token:t})),-1),nr=tr(_n("Optional"),8),rr=tr(_n("Self"),2),ir=tr(_n("SkipSelf"),4),or=tr(_n("Host"),1);let sr=null;function ar(){return sr=sr||new qn}function ur(t){return ar().parameters(t).map(t=>function(t){const e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let n=0;n<t.length;n++){const r=t[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof nr||"Optional"===i.ngMetadataName)e.optional=!0;else if(r instanceof ir||"SkipSelf"===i.ngMetadataName)e.skipSelf=!0;else if(r instanceof rr||"Self"===i.ngMetadataName)e.self=!0;else if(r instanceof or||"Host"===i.ngMetadataName)e.host=!0;else if(r instanceof er)e.token=r.token;else if(r instanceof Sn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");e.attribute=r.attributeName}else e.token=r}else e.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return e}(t))}let cr=new Map;const lr=new Set;function hr(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}let fr,dr;function pr(){if(void 0===fr&&(fr=null,q.trustedTypes))try{fr=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return fr}function gr(t){var e;return(null===(e=pr())||void 0===e?void 0:e.createHTML(t))||t}function mr(){if(void 0===dr&&(dr=null,q.trustedTypes))try{dr=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return dr}function yr(t){var e;return(null===(e=mr())||void 0===e?void 0:e.createHTML(t))||t}function vr(t){var e;return(null===(e=mr())||void 0===e?void 0:e.createScript(t))||t}function br(t){var e;return(null===(e=mr())||void 0===e?void 0:e.createScriptURL(t))||t}class wr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _r extends wr{getTypeName(){return"HTML"}}class Er extends wr{getTypeName(){return"Style"}}class Sr extends wr{getTypeName(){return"Script"}}class Tr extends wr{getTypeName(){return"URL"}}class Cr extends wr{getTypeName(){return"ResourceURL"}}function Ir(t){return t instanceof wr?t.changingThisBreaksApplicationSecurity:t}function xr(t,e){const n=Ar(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ar(t){return t instanceof wr&&t.getTypeName()||null}function kr(t){return new _r(t)}function Or(t){return new Er(t)}function Pr(t){return new Sr(t)}function Dr(t){return new Tr(t)}function Nr(t){return new Cr(t)}function Rr(t){const e=new Fr(t);return function(){try{return!!(new window.DOMParser).parseFromString(gr(""),"text/html")}catch(t){return!1}}()?new Lr(e):e}class Lr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(gr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Fr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=gr(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=gr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Vr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ur(t){return(t=String(t)).match(Mr)||t.match(Vr)?t:"unsafe:"+t}function jr(t){return(t=String(t)).split(",").map(t=>Ur(t.trim())).join(", ")}function qr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Br=qr("area,br,col,hr,img,wbr"),zr=qr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hr=qr("rp,rt"),$r=Gr(Hr,zr),Zr=Gr(Br,Gr(zr,qr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gr(Hr,qr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$r),Kr=qr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yr=qr("srcset"),Wr=Gr(Kr,Yr,qr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jr=qr("script,style,template");class Qr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Zr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Jr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Wr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Kr[i]&&(o=Ur(o)),Yr[i]&&(o=jr(o)),this.buf.push(" ",e,'="',ei(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Zr.hasOwnProperty(e)&&!Br.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ei(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Xr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ti=/([^\#-~ |!])/g;function ei(t){return t.replace(/&/g,"&amp;").replace(Xr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ti,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ni;function ri(t,e){let n=null;try{ni=ni||Rr(t);let r=e?String(e):"";n=ni.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ni.getInertBodyElement(r)}while(r!==o);return gr((new Qr).sanitizeChildren(ii(n)||n))}finally{if(n){const t=ii(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ii(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var oi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function si(t){const e=pi();return e?yr(e.sanitize(oi.HTML,t)||""):xr(t,"HTML")?yr(Ir(t)):ri(Pt(),y(t))}function ai(t){const e=pi();return e?e.sanitize(oi.STYLE,t)||"":xr(t,"Style")?Ir(t):y(t)}function ui(t){const e=pi();return e?e.sanitize(oi.URL,t)||"":xr(t,"URL")?Ir(t):Ur(y(t))}function ci(t){const e=pi();if(e)return br(e.sanitize(oi.RESOURCE_URL,t)||"");if(xr(t,"ResourceURL"))return br(Ir(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function li(t){const e=pi();if(e)return vr(e.sanitize(oi.SCRIPT,t)||"");if(xr(t,"Script"))return vr(Ir(t));throw new Error("unsafe value used in a script context")}function hi(t){return gr(t[0])}function fi(t){return function(t){var e;return(null===(e=pr())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function di(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ci:ui}(e,n)(t)}function pi(){const t=Yt();return t&&t[12]}function gi(t,e){t.__ngContext__=e}function mi(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function yi(t){return t.ngDebugContext}function vi(t){return t.ngOriginalError}function bi(t,...e){t.error(...e)}class wi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||bi}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yi(t)?yi(t):this._findContext(vi(t)):null}_findOriginalError(t){let e=vi(t);for(;e&&vi(e);)e=vi(e);return e}}const _i=/^>|^->|<!--|-->|--!>|<!-$/g,Ei=/(<|>)/,Si=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Ti(t){return t.ownerDocument.defaultView}function Ci(t){return t.ownerDocument}function Ii(t){return t.ownerDocument.body}function xi(t){return t instanceof Function?t():t}var Ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ki;function Oi(t,e){return ki(t,e)}function Pi(t){const e=t[3];return gt(e)?e[3]:e}function Di(t){return Ri(t[13])}function Ni(t){return Ri(t[4])}function Ri(t){for(;null!==t&&!gt(t);)t=t[4];return t}function Li(t,e,n,r,i){if(null!=r){let o,s=!1;gt(r)?o=r:pt(r)&&(s=!0,r=r[0]);const a=Rt(r);0===t&&null!==n?null==i?Zi(e,n,a):$i(e,n,a,i||null,!0):1===t&&null!==n?$i(e,n,a,i||null,!0):2===t?oo(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Rt(n)&&Li(e,t,r,o,i);for(let s=dt;s<n.length;s++){const i=n[s];ao(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Fi(t,e){return Dt(t)?t.createText(e):t.createTextNode(e)}function Mi(t,e,n){Dt(t)?t.setValue(e,n):e.textContent=n}function Vi(t,e){return t.createComment(function(t){return t.replace(_i,t=>t.replace(Ei,"\u200b$1\u200b"))}(e))}function Ui(t,e,n){return Dt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ji(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,zt(i,-1)),n.splice(r,1)}function qi(t,e){if(t.length<=dt)return;const n=dt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&ji(o,r),e>0&&(t[n-1][4]=r[4]);const s=Dn(t,dt+e);ao(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Gi(t,e){if(!(256&e[2])){const n=e[11];Dt(n)&&n.destroyNode&&ao(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Bi(t[1],t);for(;e;){let n=null;if(pt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)pt(e)&&Bi(e[1],e),e=e[3];null===e&&(e=t),pt(e)&&Bi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Bi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ve)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Rt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Dt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&gt(e[3])){n!==e[3]&&ji(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function zi(t,e,n){return Hi(t,e.parent,n)}function Hi(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Ft(r,n)}function $i(t,e,n,r,i){Dt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Zi(t,e,n){Dt(t)?t.appendChild(e,n):e.appendChild(n)}function Ki(t,e,n,r,i){null!==r?$i(t,e,n,r,i):Zi(t,e,n)}function Yi(t,e){return Dt(t)?t.parentNode(e):e.parentNode}function Wi(t,e,n){return Xi(t,e,n)}function Ji(t,e,n){return 40&t.type?Ft(t,n):null}let Qi,Xi=Ji;function to(t,e){Xi=t,Qi=e}function eo(t,e,n,r){const i=zi(t,r,e),o=e[11],s=Wi(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Ki(o,i,n[a],s,!1);else Ki(o,i,n,s,!1);void 0!==Qi&&Qi(o,r,e,n,i)}function no(t,e){if(null!==e){const n=e.type;if(3&n)return Ft(e,t);if(4&n)return io(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return no(t,n);{const n=t[e.index];return gt(n)?io(-1,n):Rt(n)}}if(32&n)return Oi(e,t)()||Rt(t[e.index]);{const n=ro(t,e);return null!==n?Array.isArray(n)?n[0]:no(Pi(t[16]),n):no(t,e.next)}}return null}function ro(t,e){return null!==e?t[16][6].projection[e.projection]:null}function io(t,e){const n=dt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return no(t,r)}return e[7]}function oo(t,e,n){const r=Yi(t,e);r&&function(t,e,n,r){Dt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function so(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&gi(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)so(t,e,n.child,r,i,o,!1),Li(e,t,i,a,o);else if(32&u){const s=Oi(n,r);let u;for(;u=s();)Li(e,t,i,u,o);Li(e,t,i,a,o)}else 16&u?uo(t,e,r,n,i,o):Li(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ao(t,e,n,r,i,o){so(n,r,t.firstChild,e,i,o,!1)}function uo(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Li(e,t,i,a[u],o);else so(t,e,a,s[3],i,o,!0)}function co(t,e,n){Dt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function lo(t,e,n){Dt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ho(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const fo="ng-template";function po(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ho(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function go(t){return 4===t.type&&t.value!==fo}function mo(t,e,n){return e===(4!==t.type||n?t.value:fo)}function yo(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!mo(t,u,n)||""===u&&1===e.length){if(vo(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!po(t.attrs,c,n)){if(vo(r))return!1;s=!0}continue}const l=bo(8&r?"class":u,i,go(t),n);if(-1===l){if(vo(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ho(e,c,0)||2&r&&c!==t){if(vo(r))return!1;s=!0}}}}else{if(!s&&!vo(r)&&!vo(u))return!1;if(s&&vo(u))continue;s=!1,r=u|1&r}}return vo(r)||s}function vo(t){return 0==(1&t)}function bo(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wo(t,e,n=!1){for(let r=0;r<e.length;r++)if(yo(t,e[r],n))return!0;return!1}function _o(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Eo(t,e){return t?":not("+e.trim()+")":e}function So(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||vo(s)||(e+=Eo(o,i),i=""),r=s,o=o||!vo(r);n++}return""!==i&&(e+=Eo(o,i)),e}const To={};function Co(t){Io(Wt(),Yt(),Ce()+t,ie())}function Io(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&De(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ne(e,r,0,n)}Ie(n)}function xo(t,e){return t<<17|e<<2}function Ao(t){return t>>17&32767}function ko(t){return 2|t}function Oo(t){return(131068&t)>>2}function Po(t,e){return-131069&t|e<<2}function Do(t){return 1|t}function No(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];me(i),n.contentQueries(2,e[o],o)}}}function Ro(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Lo(t,e,n,r,i){let o=t.data[e];if(null===o)o=Fo(t,e,n,r,i),Ht.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=te();o.injectorIndex=null===t?-1:t.injectorIndex}return ee(o,!0),o}function Fo(t,e,n,r,i){const o=Xt(),s=ne(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Mo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Vo(t,e,n){be(e);try{const r=t.viewQuery;null!==r&&ms(1,r,n);const i=t.template;null!==i&&qo(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&No(t,e),t.staticViewQueries&&ms(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)hs(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Te()}}function Uo(t,e,n,r){const i=e[2];if(256==(256&i))return;be(e);const o=ie();try{Bt(e),ue(t.bindingStartIndex),null!==n&&qo(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&De(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ne(e,n,0,null),Re(e,0)}if(function(t){for(let e=Di(t);null!==e;e=Ni(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&zt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Di(t);null!==e;e=Ni(e))for(let t=dt;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&Uo(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&No(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&De(e,n)}else{const n=t.contentHooks;null!==n&&Ne(e,n,1),Re(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ie(~r);else{const i=r,o=n[++t],s=n[++t];fe(o,i),s(2,e[i])}}}finally{Ie(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)cs(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ms(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&De(e,n)}else{const n=t.viewHooks;null!==n&&Ne(e,n,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,zt(e[3],-1))}finally{Te()}}function jo(t,e,n,r){const i=e[10],o=!ie(),s=jt(e);try{o&&!s&&i.begin&&i.begin(),s&&Vo(t,e,r),Uo(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function qo(t,e,n,r,i){const o=Ce(),s=2&r;try{Ie(-1),s&&e.length>ft&&Io(t,e,ft,ie()),n(r,i)}finally{Ie(o)}}function Go(t,e,n){if(mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Bo(t,e,n){$t()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||We(n,e),gi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=bt(r);o&&rs(e,n,r);const u=cn(e,t,a,n);gi(u,e),null!==s&&ss(0,a-i,u,r,0,s),o&&(Ut(n.index,e)[8]=u)}}(t,e,n,Ft(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ht.lFrame.currentDirectiveIndex;try{Ie(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];de(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Qo(r,i)}}finally{Ie(-1),de(s)}}(t,e,n))}function zo(t,e,n=Ft){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ho(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$o(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function $o(t,e,n,r,i,o,s,a,u,c){const l=ft+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:To);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Zo(t,e,n,r){const i=vs(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&bs(t).push(r,i.length-1))}function Ko(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Yo(t,e,n,r,i,o,s,a){const u=Ft(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Es(t,n,c,r,i),yt(e)&&function(t,e){const n=Ut(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Dt(o)?o.setProperty(u,r,i):qe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Wo(t,e,n,r){let i=!1;if($t()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];wo(n,s.selectors,!1)&&(i||(i=[]),tn(We(n,e),t,s.type),bt(s)?(Xo(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,es(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Mo(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ge(n.mergedAttrs,c.hostAttrs),ns(t,n,e,u,c),ts(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||go(e)?null:as(n,i);o.push(c),s=Ko(n,u,s),a=Ko(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ge(n.mergedAttrs,n.attrs),i}function Jo(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Qo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ts(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function es(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ns(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=wt(i.type)),s=new Ve(o,bt(i),null);t.blueprint[r]=s,n[r]=s,Jo(t,e,0,r,Mo(t,n,i.hostVars,To),i)}function rs(t,e,n){const r=Ft(e,t),i=Ho(n),o=t[10],s=fs(t,Ro(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function is(t,e,n,r,i,o){const s=Ft(t,e);os(e[11],s,o,t.value,n,r,i)}function os(t,e,n,r,i,o,s){if(null==o)Dt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);Dt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ss(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function as(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function us(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function cs(t,e){const n=Ut(e,t);if(qt(n)){const t=n[1];80&n[2]?Uo(t,n,t.template,n[8]):n[5]>0&&ls(n)}}function ls(t){for(let n=Di(t);null!==n;n=Ni(n))for(let t=dt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Uo(t,e,t.template,e[8])}else e[5]>0&&ls(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ut(e[n],t);qt(r)&&r[5]>0&&ls(r)}}function hs(t,e){const n=Ut(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Vo(r,n,n[8])}function fs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ds(t){for(;t;){t[2]|=64;const e=Pi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ps(t,e,n){const r=e[10];r.begin&&r.begin();try{Uo(t,e,t.template,n)}catch(i){throw _s(e,i),i}finally{r.end&&r.end()}}function gs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=mi(n),i=r[1];jo(i,r,i.template,n)}}(t[8])}function ms(t,e,n){me(0),e(t,n)}const ys=(()=>Promise.resolve(null))();function vs(t){return t[7]||(t[7]=[])}function bs(t){return t.cleanup||(t.cleanup=[])}function ws(t,e,n){return(null===t||bt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function _s(t,e){const n=t[9],r=n?n.get(wi,null):null;r&&r.handleError(e)}function Es(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ss(t,e,n){const r=Lt(e,t);Mi(t[11],r,n)}function Ts(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Cs=new Tn("INJECTOR",-1);class Is{get(t,e=zn){if(e===zn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const xs=new Tn("Set Injector scope."),As={},ks={};let Os;function Ps(){return void 0===Os&&(Os=new Is),Os}function Ds(t,e=null,n=null,r){return new Ns(t,n,e||Ps(),r)}class Ns{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&On(e,n=>this.processProvider(n,t,e)),On([t],t=>this.processInjectorType(t,[],i)),this.records.set(Cs,Fs(void 0,this));const o=this.records.get(xs);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=zn,n=O.Default){this.assertNotDestroyed();const r=Yn(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Tn)&&S(t);e=n&&this.injectableDefInScope(n)?Fs(Rs(t),As):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?Ps():this.parent).get(t,e=n&O.Optional&&e===zn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[$n]&&i.unshift(e[$n]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Hn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Yn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{On(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];On(r,t=>this.processProvider(t,n,r||B))}}this.injectorDefTypes.add(o);const a=wt(o)||(()=>new o);this.records.set(o,Fs(a,As));const u=r.providers;if(null!=u&&!s){const e=t;On(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Vs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Ms(t)?Fs(void 0,t.useValue):Fs(Ls(t),As)}(t);if(Vs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Fs(void 0,As,!0),e.factory=()=>Xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===As&&(e.value=ks,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Rs(t){const e=S(t),n=null!==e?e.factory:wt(t);if(null!==n)return n;if(t instanceof Tn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Nn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ls(t,e,n){let r;if(Vs(t)){const e=p(t);return wt(e)||Rs(e)}if(Ms(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Jn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return wt(e)||Rs(e);r=()=>new e(...Xn(t.deps))}var i;return r}function Fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ms(t){return null!==t&&"object"==typeof t&&Zn in t}function Vs(t){return"function"==typeof t}const Us=function(t,e,n){return function(t,e=null,n=null,r){const i=Ds(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let js=(()=>{class t{static create(t,e){return Array.isArray(t)?Us(t,e,""):Us(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=zn,t.NULL=new Is,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>Jn(Cs)}),t.__NG_ELEMENT_ID__=-1,t})();function qs(t,e){Pe(mi(t)[1],Qt())}function Gs(t){return Object.getPrototypeOf(t.prototype).constructor}function Bs(t){let e=Gs(t.type),n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=zs(t.inputs),e.declaredInputs=zs(t.declaredInputs),e.outputs=zs(t.outputs);const n=i.hostBindings;n&&Zs(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Hs(t,o),s&&$s(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Bs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ge(i.hostAttrs,n=Ge(n,i.hostAttrs))}}(r)}function zs(t){return t===G?{}:t===B?[]:t}function Hs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function $s(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Zs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const Ks=["providersResolver"],Ys=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ws(t){let e,n=Gs(t.type);e=bt(t)?n.\u0275cmp:n.\u0275dir;const r=t;for(const i of Ks)r[i]=e[i];if(bt(e))for(const i of Ys)r[i]=e[i]}let Js=null;function Qs(){if(!Js){const t=q.Symbol;if(t&&t.iterator)Js=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Js=n)}}}return Js}class Xs{constructor(t){this.wrapped=t}static wrap(t){return new Xs(t)}static unwrap(t){return Xs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Xs}}function ta(t){return!!ea(t)&&(Array.isArray(t)||!(t instanceof Map)&&Qs()in t)}function ea(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function na(t,e,n){return t[e]=n}function ra(t,e){return t[e]}function ia(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function oa(t,e,n,r){const i=ia(t,e,n);return ia(t,e+1,r)||i}function sa(t,e,n,r,i){const o=oa(t,e,n,r);return ia(t,e+2,i)||o}function aa(t,e,n,r,i,o){const s=oa(t,e,n,r);return oa(t,e+2,i,o)||s}function ua(t,e,n,r){const i=Yt();return ia(i,ce(),e)&&(Wt(),is(xe(),i,t,e,n,r)),ua}function ca(t,e){let n=!1,r=ae();for(let o=1;o<e.length;o+=2)n=ia(t,r++,e[o])||n;if(ue(r),!n)return To;let i=e[0];for(let o=1;o<e.length;o+=2)i+=y(e[o])+e[o+1];return i}function la(t,e,n,r){return ia(t,ce(),n)?e+y(n)+r:To}function ha(t,e,n,r,i,o){const s=oa(t,ae(),n,i);return le(2),s?e+y(n)+r+y(i)+o:To}function fa(t,e,n,r,i,o,s,a){const u=sa(t,ae(),n,i,s);return le(3),u?e+y(n)+r+y(i)+o+y(s)+a:To}function da(t,e,n,r,i,o,s,a,u,c){const l=aa(t,ae(),n,i,s,u);return le(4),l?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c:To}function pa(t,e,n,r,i,o,s,a,u,c,l,h){const f=ae();let d=aa(t,f,n,i,s,u);return d=ia(t,f+4,l)||d,le(5),d?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c+y(l)+h:To}function ga(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=ae();let g=aa(t,p,n,i,s,u);return g=oa(t,p+4,l,f)||g,le(6),g?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c+y(l)+h+y(f)+d:To}function ma(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=ae();let v=aa(t,m,n,i,s,u);return v=sa(t,m+4,l,f,p)||v,le(7),v?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c+y(l)+h+y(f)+d+y(p)+g:To}function ya(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v){const b=ae();let w=aa(t,b,n,i,s,u);return w=aa(t,b+4,l,f,p,m)||w,le(8),w?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c+y(l)+h+y(f)+d+y(p)+g+y(m)+v:To}function va(t,e,n,r,i,o){const s=Yt(),a=la(s,e,n,r);return a!==To&&is(xe(),s,t,a,i,o),va}function ba(t,e,n,r,i,o,s,a){const u=Yt(),c=ha(u,e,n,r,i,o);return c!==To&&is(xe(),u,t,c,s,a),ba}function wa(t,e,n,r,i,o,s,a,u,c){const l=Yt(),h=fa(l,e,n,r,i,o,s,a);return h!==To&&is(xe(),l,t,h,u,c),wa}function _a(t,e,n,r,i,o,s,a,u,c,l,h){const f=Yt(),d=da(f,e,n,r,i,o,s,a,u,c);return d!==To&&is(xe(),f,t,d,l,h),_a}function Ea(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=Yt(),g=pa(p,e,n,r,i,o,s,a,u,c,l,h);return g!==To&&is(xe(),p,t,g,f,d),Ea}function Sa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=Yt(),y=ga(m,e,n,r,i,o,s,a,u,c,l,h,f,d);return y!==To&&is(xe(),m,t,y,p,g),Sa}function Ta(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y){const v=Yt(),b=ma(v,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return b!==To&&is(xe(),v,t,b,m,y),Ta}function Ca(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v,b){const w=Yt(),_=ya(w,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y);return _!==To&&is(xe(),w,t,_,v,b),Ca}function Ia(t,e,n,r){const i=Yt(),o=ca(i,e);return o!==To&&is(xe(),i,t,o,n,r),Ia}function xa(t,e,n,r,i,o,s,a){const u=Yt(),c=Wt(),l=t+ft,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Lo(e,t,4,s||null,Gt(c,a));Wo(e,n,l,Gt(c,u)),Pe(e,l);const h=l.tViews=$o(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];ee(h,!1);const f=u[11].createComment("");eo(c,u,f,h),gi(f,u),fs(u,u[l]=us(f,u,f,h)),vt(h)&&Bo(c,u,h),null!=s&&zo(u,h,a)}function Aa(t){return Vt(Ht.lFrame.contextLView,ft+t)}function ka(t,e=O.Default){const n=Yt();return null===n?Jn(t,e):rn(Qt(),n,p(t),e)}function Oa(){throw new Error("invalid")}function Pa(t,e,n){const r=Yt();return ia(r,ce(),e)&&Yo(Wt(),xe(),r,t,e,r[11],n,!1),Pa}function Da(t,e,n,r,i){const o=i?"class":"style";Es(t,n,e.inputs[o],o,r)}function Na(t,e,n,r){const i=Yt(),o=Wt(),s=ft+t,a=i[11],u=i[s]=Ui(a,e,Ht.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Lo(e,t,2,i,Gt(a,o));return Wo(e,n,u,Gt(a,s)),null!==u.attrs&&Ts(u,u.attrs,!1),null!==u.mergedAttrs&&Ts(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];ee(c,!0);const l=c.mergedAttrs;null!==l&&Ue(a,u,l);const h=c.classes;null!==h&&lo(a,u,h);const f=c.styles;null!==f&&co(a,u,f),64!=(64&c.flags)&&eo(o,i,u,c),0===Ht.lFrame.elementDepthCount&&gi(u,i),Ht.lFrame.elementDepthCount++,vt(c)&&(Bo(o,i,c),Go(o,c,i)),null!==r&&zo(i,c)}function Ra(){let t=Qt();ne()?re():(t=t.parent,ee(t,!1));const e=t;Ht.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(Pe(n,t),mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Da(n,e,Yt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Da(n,e,Yt(),e.stylesWithoutHost,!1)}function La(t,e,n,r){Na(t,e,n,r),Ra()}function Fa(t,e,n){const r=Yt(),i=Wt(),o=t+ft,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Gt(o,r),a=Lo(e,t,8,"ng-container",s);return null!==s&&Ts(a,s,!0),Wo(e,n,a,Gt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];ee(s,!0);const a=r[o]=r[11].createComment("");eo(i,r,a,s),gi(a,r),vt(s)&&(Bo(i,r,s),Go(i,s,r)),null!=n&&zo(r,s)}function Ma(){let t=Qt();const e=Wt();ne()?re():(t=t.parent,ee(t,!1)),e.firstCreatePass&&(Pe(e,t),mt(t)&&e.queries.elementEnd(t))}function Va(t,e,n){Fa(t,e,n),Ma()}function Ua(){return Yt()}function ja(t){return!!t&&"function"==typeof t.then}function qa(t){return!!t&&"function"==typeof t.subscribe}const Ga=qa;function Ba(t,e,n,r){const i=Yt(),o=Wt(),s=Qt();return Ha(o,i,i[11],s,t,e,!!n,r),Ba}function za(t,e){const n=Qt(),r=Yt(),i=Wt();return Ha(i,r,ws(pe(i.data),n,r),n,t,e,!1),za}function Ha(t,e,n,r,i,o,s,a){const u=vt(r),c=t.firstCreatePass&&bs(t),l=vs(e);let h=!0;if(3&r.type||a){const f=Ft(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(Rt(t[r.index])):r.index;if(Dt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Za(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=Za(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=Za(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function $a(t,e,n,r){try{return!1!==n(r)}catch(i){return _s(t,i),!1}}function Za(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Ut(t.index,e):e;0==(32&e[2])&&ds(s);let a=$a(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=$a(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ka(t=1){return function(t){return(Ht.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ht.lFrame.contextLView))[8]}(t)}function Ya(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?wo(t,o,!0):_o(r,o))return i}else n=i}return n}function Wa(t){const e=Yt()[16][6];if(!e.projection){const n=e.projection=Nn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ya(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ja(t,e=0,n){const r=Yt(),i=Wt(),o=Lo(i,ft+t,16,null,n||null);null===o.projection&&(o.projection=e),re(),64!=(64&o.flags)&&function(t,e,n){uo(e[11],0,e,n,zi(t,n,e),Wi(n.parent||e[6],n,e))}(i,r,o)}function Qa(t,e,n){return Xa(t,"",e,"",n),Qa}function Xa(t,e,n,r,i){const o=Yt(),s=la(o,e,n,r);return s!==To&&Yo(Wt(),xe(),o,t,s,o[11],i,!1),Xa}function tu(t,e,n,r,i,o,s){const a=Yt(),u=ha(a,e,n,r,i,o);return u!==To&&Yo(Wt(),xe(),a,t,u,a[11],s,!1),tu}function eu(t,e,n,r,i,o,s,a,u){const c=Yt(),l=fa(c,e,n,r,i,o,s,a);return l!==To&&Yo(Wt(),xe(),c,t,l,c[11],u,!1),eu}function nu(t,e,n,r,i,o,s,a,u,c,l){const h=Yt(),f=da(h,e,n,r,i,o,s,a,u,c);return f!==To&&Yo(Wt(),xe(),h,t,f,h[11],l,!1),nu}function ru(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Yt(),p=pa(d,e,n,r,i,o,s,a,u,c,l,h);return p!==To&&Yo(Wt(),xe(),d,t,p,d[11],f,!1),ru}function iu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Yt(),m=ga(g,e,n,r,i,o,s,a,u,c,l,h,f,d);return m!==To&&Yo(Wt(),xe(),g,t,m,g[11],p,!1),iu}function ou(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const y=Yt(),v=ma(y,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return v!==To&&Yo(Wt(),xe(),y,t,v,y[11],m,!1),ou}function su(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v){const b=Yt(),w=ya(b,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y);return w!==To&&Yo(Wt(),xe(),b,t,w,b[11],v,!1),su}function au(t,e,n){const r=Yt(),i=ca(r,e);return i!==To&&Yo(Wt(),xe(),r,t,i,r[11],n,!1),au}function uu(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ao(o):Oo(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];cu(t[a],e)&&(u=!0,t[a+1]=r?Do(n):ko(n)),a=r?Ao(n):Oo(n)}u&&(t[n+1]=r?ko(o):Do(o))}function cu(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Fn(t,e)>=0}const lu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hu(t){return t.substring(lu.key,lu.keyEnd)}function fu(t){return t.substring(lu.value,lu.valueEnd)}function du(t,e){const n=lu.textEnd;return n===e?-1:(e=lu.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,lu.key=e,n),mu(t,e,n))}function pu(t,e){const n=lu.textEnd;let r=lu.key=mu(t,e,n);return n===r?-1:(r=lu.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=yu(t,r,n),r=lu.value=mu(t,r,n),r=lu.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=vu(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=vu(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),yu(t,r,n))}function gu(t){lu.key=0,lu.keyEnd=0,lu.value=0,lu.valueEnd=0,lu.textEnd=t.length}function mu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function yu(t,e,n,r){return(e=mu(t,e,n))<n&&e++,e}function vu(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function bu(t,e,n){return Cu(t,e,n,!1),bu}function wu(t,e){return Cu(t,e,null,!0),wu}function _u(t){Iu(Pu,Eu,t,!1)}function Eu(t,e){for(let n=function(t){return gu(t),pu(t,mu(t,0,lu.textEnd))}(e);n>=0;n=pu(e,n))Pu(t,hu(e),fu(e))}function Su(t){Iu(Rn,Tu,t,!0)}function Tu(t,e){for(let n=function(t){return gu(t),du(t,mu(t,0,lu.textEnd))}(e);n>=0;n=du(e,n))Rn(t,hu(e),!0)}function Cu(t,e,n,r){const i=Yt(),o=Wt(),s=le(2);o.firstUpdatePass&&Au(o,t,s,r),e!==To&&ia(i,s,e)&&Du(o,o.data[Ce()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Ir(t)))),t}(e,n),r,s)}function Iu(t,e,n,r){const i=Wt(),o=le(2);i.firstUpdatePass&&Au(i,null,o,r);const s=Yt();if(n!==To&&ia(s,o,n)){const a=i.data[Ce()];if(Lu(a,r)&&!xu(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),Da(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===To&&(i=B);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Du(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return B;const r=[],i=Ir(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function xu(t,e){return e>=t.expandoStartIndex}function Au(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ce()],s=xu(t,n);Lu(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=pe(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ou(n=ku(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ku(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Oo(r))return t[Ao(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ku(null,t,e,n[1],r),n=Ou(n,e.attrs,r),function(t,e,n,r){t[Ao(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ou(r,t[o].hostAttrs,n);return Ou(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ao(s),u=Oo(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Fn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ao(t[a+1]);t[r+1]=xo(e,a),0!==e&&(t[e+1]=Po(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=xo(a,0),0!==a&&(t[a+1]=Po(t[a+1],r)),a=r;else t[r+1]=xo(u,0),0===a?a=r:t[u+1]=Po(t[u+1],r),u=r;l&&(t[r+1]=ko(t[r+1])),uu(t,c,r,!0),uu(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Fn(o,e)>=0&&(n[r+1]=Do(n[r+1]))}(e,c,t,r,o),s=xo(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function ku(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ou(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ou(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Rn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Pu(t,e,n){Rn(t,e,Ir(n))}function Du(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ru(1==(1&c)?Nu(u,e,n,i,Oo(c),s):void 0)||(Ru(o)||2==(2&c)&&(o=Nu(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Dt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ai.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Ai.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Lt(Ce(),n),i,o))}function Nu(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===To&&(l=c?B:void 0);let h=c?Ln(l,r):u===r?l:void 0;if(o&&!Ru(h)&&(h=Ln(e,r)),Ru(h)&&(a=h,s))return a;const f=t[i+1];i=s?Ao(f):Oo(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Ln(t,r))}return a}function Ru(t){return void 0!==t}function Lu(t,e){return 0!=(t.flags&(e?16:32))}function Fu(t,e=""){const n=Yt(),r=Wt(),i=t+ft,o=r.firstCreatePass?Lo(r,i,1,e,null):r.data[i],s=n[i]=Fi(n[11],e);eo(r,n,s,o),ee(o,!1)}function Mu(t){return Vu("",t,""),Mu}function Vu(t,e,n){const r=Yt(),i=la(r,t,e,n);return i!==To&&Ss(r,Ce(),i),Vu}function Uu(t,e,n,r,i){const o=Yt(),s=ha(o,t,e,n,r,i);return s!==To&&Ss(o,Ce(),s),Uu}function ju(t,e,n,r,i,o,s){const a=Yt(),u=fa(a,t,e,n,r,i,o,s);return u!==To&&Ss(a,Ce(),u),ju}function qu(t,e,n,r,i,o,s,a,u){const c=Yt(),l=da(c,t,e,n,r,i,o,s,a,u);return l!==To&&Ss(c,Ce(),l),qu}function Gu(t,e,n,r,i,o,s,a,u,c,l){const h=Yt(),f=pa(h,t,e,n,r,i,o,s,a,u,c,l);return f!==To&&Ss(h,Ce(),f),Gu}function Bu(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Yt(),p=ga(d,t,e,n,r,i,o,s,a,u,c,l,h,f);return p!==To&&Ss(d,Ce(),p),Bu}function zu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Yt(),m=ma(g,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p);return m!==To&&Ss(g,Ce(),m),zu}function Hu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const y=Yt(),v=ya(y,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m);return v!==To&&Ss(y,Ce(),v),Hu}function $u(t){const e=Yt(),n=ca(e,t);return n!==To&&Ss(e,Ce(),n),$u}function Zu(t,e,n){Iu(Rn,Tu,la(Yt(),t,e,n),!0)}function Ku(t,e,n,r,i){Iu(Rn,Tu,ha(Yt(),t,e,n,r,i),!0)}function Yu(t,e,n,r,i,o,s){Iu(Rn,Tu,fa(Yt(),t,e,n,r,i,o,s),!0)}function Wu(t,e,n,r,i,o,s,a,u){Iu(Rn,Tu,da(Yt(),t,e,n,r,i,o,s,a,u),!0)}function Ju(t,e,n,r,i,o,s,a,u,c,l){Iu(Rn,Tu,pa(Yt(),t,e,n,r,i,o,s,a,u,c,l),!0)}function Qu(t,e,n,r,i,o,s,a,u,c,l,h,f){Iu(Rn,Tu,ga(Yt(),t,e,n,r,i,o,s,a,u,c,l,h,f),!0)}function Xu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){Iu(Rn,Tu,ma(Yt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p),!0)}function tc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){Iu(Rn,Tu,ya(Yt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m),!0)}function ec(t){Iu(Rn,Tu,ca(Yt(),t),!0)}function nc(t,e,n){_u(la(Yt(),t,e,n))}function rc(t,e,n,r,i){_u(ha(Yt(),t,e,n,r,i))}function ic(t,e,n,r,i,o,s){_u(fa(Yt(),t,e,n,r,i,o,s))}function oc(t,e,n,r,i,o,s,a,u){_u(da(Yt(),t,e,n,r,i,o,s,a,u))}function sc(t,e,n,r,i,o,s,a,u,c,l){_u(pa(Yt(),t,e,n,r,i,o,s,a,u,c,l))}function ac(t,e,n,r,i,o,s,a,u,c,l,h,f){_u(ga(Yt(),t,e,n,r,i,o,s,a,u,c,l,h,f))}function uc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){_u(ma(Yt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p))}function cc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){_u(ya(Yt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m))}function lc(t){_u(ca(Yt(),t))}function hc(t,e,n,r,i){return Cu(t,la(Yt(),e,n,r),i,!1),hc}function fc(t,e,n,r,i,o,s){return Cu(t,ha(Yt(),e,n,r,i,o),s,!1),fc}function dc(t,e,n,r,i,o,s,a,u){return Cu(t,fa(Yt(),e,n,r,i,o,s,a),u,!1),dc}function pc(t,e,n,r,i,o,s,a,u,c,l){return Cu(t,da(Yt(),e,n,r,i,o,s,a,u,c),l,!1),pc}function gc(t,e,n,r,i,o,s,a,u,c,l,h,f){return Cu(t,pa(Yt(),e,n,r,i,o,s,a,u,c,l,h),f,!1),gc}function mc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){return Cu(t,ga(Yt(),e,n,r,i,o,s,a,u,c,l,h,f,d),p,!1),mc}function yc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){return Cu(t,ma(Yt(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g),m,!1),yc}function vc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v){return Cu(t,ya(Yt(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y),v,!1),vc}function bc(t,e,n){return Cu(t,ca(Yt(),e),n,!1),bc}function wc(t,e,n){const r=Yt();return ia(r,ce(),e)&&Yo(Wt(),xe(),r,t,e,r[11],n,!0),wc}function _c(t,e,n){const r=Yt();if(ia(r,ce(),e)){const i=Wt(),o=xe();Yo(i,o,r,t,e,ws(pe(i.data),o,r),n,!0)}return _c}const Ec=void 0;var Sc=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Tc={};function Cc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=xc(e);if(n)return n;const r=e.split("-")[0];if(n=xc(r),n)return n;if("en"===r)return Sc;throw new Error(`Missing locale data for the locale "${t}".`)}function Ic(t){return Cc(t)[Ac.PluralCase]}function xc(t){return t in Tc||(Tc[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),Tc[t]}var Ac=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const kc=["zero","one","two","few","many"],Oc="en-US",Pc={marker:"element"},Dc={marker:"ICU"};var Nc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Rc=Oc;function Lc(t){var e;null==(e=t)&&w("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Rc=t.toLowerCase().replace(/_/g,"-"))}function Fc(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Ji(t,0,n):Rt(n[i])}function Mc(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)$i(t,s,n[o[e]],a,!1)}}function Vc(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Uc(r)||jc(r,e)&&null===qc(r)&&Gc(r,e.index)}}function Uc(t){return!(64&t.type)}function jc(t,e){return Uc(e)||t.index>e.index}function qc(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Gc(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(to(Fc,Mc),t.insertBeforeIndex=e)}function Bc(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function zc(t,e,n){const r=Fo(t,n,64,null,null);return Vc(e,r),r}function Hc(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let $c=0,Zc=0;function Kc(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Fi(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Yi(i,r)),c===s?(l=r,h=o):(l=null,h=Rt(n[c])),null!==h){const e=(131070&u)>>>1;$i(i,h,n[e],l,!1);const r=Bc(t,e);if(null!==r&&"object"==typeof r){const e=Hc(r,n);null!==e&&Kc(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];os(i,Lt(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Dc:const t=e[++a],r=e[++a];null===n[r]&&gi(n[r]=Vi(i,t),n);break;case Pc:const o=e[++a],s=e[++a];null===n[s]&&gi(n[s]=Ui(i,o,null),n)}}}function Yc(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=y(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?os(e[11],e[a],null,c,o,i,u):Yo(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Mi(e[11],l,i);break;case 2:Jc(t,Bc(t,a),e,i);break;case 3:Wc(t,Bc(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Bc(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Wc(t,n,r,e)}}o+=a}}function Wc(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=$c;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Yc(t,r,e.update[i],n,o)}}function Jc(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Ic(e)(parseInt(t,10)),r=kc[n];return void 0!==r?r:"other"}(e,Rc);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Hc(e,n)!==i&&(Qc(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Kc(t,e.create[i],n,r)}}function Qc(t,e,n){let r=Hc(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Lt(r,n);null!==t&&oo(n[11],t)}else Qc(t,Bc(t,~r),n)}}}const Xc=/\ufffd(\d+):?\d*\ufffd/gi,tl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,el=/\ufffd(\d+)\ufffd/,nl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,rl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,il=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ol=/\uE500/g;function sl(t,e,n,r,i,o,s){const a=Mo(t,r,1,null);let u=a<<Nc.SHIFT,c=te();e===c&&(c=null),null===c&&(u|=Nc.APPEND_EAGERLY),s&&(u|=Nc.COMMENT,void 0===ki&&(ki=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Hc(t,e);n=null!==i?t.remove[i]:B}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Fo(t,a,s?32:1,null===o?"":o,null);Vc(n,l);const h=l.index;return ee(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(to(Fc,Mc),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function al(t,e,n,r,i,o,s){const a=s.match(Xc),u=sl(t,e,n,o,r,a?null:s,!1);a&&ul(i,s,u.index,null,0,null)}function ul(t,e,n,r,i,o){const s=t.length,a=s+1;t.push(null,null);const u=s+2,c=e.split(Xc);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=ll(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,o),t[s]=l,t[a]=t.length-u,l}function cl(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r&&r<0&&e++}return e}function ll(t){return 1<<Math.min(t,31)}function hl(t){let e,n,r="",i=0,o=!1;for(;null!==(e=rl.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function fl(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Mo(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(ll(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=gl(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function dl(t){const e=[],n=[];let r=1,i=0;const o=pl(t=t.replace(nl,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=pl(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function pl(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);nl.test(n)?r.push(dl(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function gl(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Rr(Pt()).getInertBodyElement(s),f=ii(h)||h;return f?ml(t,e,n,r,u,c,l,f,i,a,0):0}function ml(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=Mo(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(Zr.hasOwnProperty(p)){bl(i,Pc,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(Xc)?Wr.hasOwnProperty(n)&&ul(s,e.value,a,e.name,0,Kr[n]?Ur:Yr[n]?jr:null):wl(i,a,e)}h=ml(t,e,n,r,i,o,s,f,a,c,l+1)|h,yl(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(Xc);bl(i,null,m?"":g,u,a),yl(o,a,l),m&&(h=ul(s,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=el.exec(f.textContent||"");if(y){const e=c[parseInt(y[1],10)];bl(i,Dc,"",u,a),fl(t,n,r,u,e,a),vl(o,a,l)}}f=f.nextSibling}return h}function yl(t,e,n){0===n&&t.push(e)}function vl(t,e,n){0===n&&(t.push(~e),t.push(e))}function bl(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function wl(t,e,n){t.push(e<<1|1,n.name,n.value)}const _l=/\[(\ufffd.+?\ufffd?)\]/,El=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Sl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Tl=/{([A-Z0-9_]+)}/g,Cl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Il=/\/\*/,xl=/\d+\:(\d+)/;function Al(t,e,n=-1){const r=Wt(),i=Yt(),o=ft+t,s=Gt(r.consts,e),a=te();r.firstCreatePass&&function(t,e,n,r,i,o){const s=te(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return hl(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return hl(t.substring(n,r))}}(i,o),h.replace(ol," ")).split(il);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=pl(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&al(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);fl(t,n,u,e,r,sl(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ft+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),ee(te(),!1);else{const e=zc(t,c[0],n);c.unshift([]),ee(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Hi(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&Nc.COMMENT)===Nc.COMMENT,c=(s&Nc.APPEND_EAGERLY)===Nc.APPEND_EAGERLY,l=s>>>Nc.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Fi(i,a)),c&&null!==n&&$i(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),he(!0)}function kl(){he(!1)}function Ol(t,e,n){Al(t,e,n),kl()}function Pl(t,e){const n=Wt(),r=Gt(n.consts,e);!function(t,e,n){const r=Qt().index,i=[];if(t.firstCreatePass&&null===t.data[e]){for(let t=0;t<n.length;t+=2){const e=n[t],o=n[t+1];if(""!==o){if(tl.test(o))throw new Error(`ICU expressions are not supported in attributes. Message: "${o}".`);ul(i,o,r,e,cl(i),null)}}t.data[e]=i}}(n,t+ft,r)}function Dl(t){return ia(Yt(),ce(),t)&&($c|=1<<Math.min(Zc,31)),Zc++,Dl}function Nl(t){!function(t,e,n){if(Zc>0){const r=t.data[n];Yc(t,e,Array.isArray(r)?r:r.update,ae()-Zc-1,$c)}$c=0,Zc=0}(Wt(),Yt(),t+ft)}function Rl(t,e={}){return function(t,e={}){let n=t;if(_l.test(t)){const t={},e=[0];n=n.replace(El,(n,r,i)=>{const o=r||i,s=t[o]||[];if(s.length||(o.split("|").forEach(t=>{const e=t.match(xl),n=e?parseInt(e[1],10):0,r=Il.test(t);s.push([n,r,t])}),t[o]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${o}`);const a=e[e.length-1];let u=0;for(let t=0;t<s.length;t++)if(s[t][0]===a){u=t;break}const[c,l,h]=s[u];return l?e.pop():a!==c&&e.push(c),s.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(Sl,(t,n,r,i,o,s)=>e.hasOwnProperty(r)?`${n}${e[r]}${s}`:t),n=n.replace(Tl,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(Cl,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function Ll(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ll(t[o],e,n,r,i);else{const o=Wt(),s=Yt();let a=Vs(t)?t:p(t.provide),u=Ls(t);const c=Qt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Vs(t)||!t.multi){const r=new Ve(u,i,ka),d=Vl(a,e,i?l:l+f,h);-1===d?(tn(We(c,s),o,a),Fl(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Vl(a,e,l+f,h),p=Vl(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){tn(We(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ve(t,n,ka);return o.multi=[],o.index=e,o.componentProviders=0,Ml(o,i,r&&!n),o}(i?jl:Ul,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Fl(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Fl(o,t,d>-1?d:p,Ml(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Fl(t,e,n,r){const i=Vs(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Ml(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ul(t,e,n,r){return ql(this.multi,[])}function jl(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=cn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ql(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ql(i,o);return o}function ql(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Gl(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=bt(t);Ll(n,r.data,r.blueprint,i,!0),Ll(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Bl{}class zl{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Hl=(()=>{class t{}return t.NULL=new zl,t})();function $l(...t){}function Zl(t,e){return new Yl(Ft(t,e))}const Kl=function(){return Zl(Qt(),Yt())};let Yl=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Kl,t})();function Wl(t){return t instanceof Yl?t.nativeElement:t}class Jl{}let Ql=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xl(),t})();const Xl=function(){const t=Yt(),e=Ut(Qt().index,t);return function(t){return t[11]}(pt(e)?e:t)};let th=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class eh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const nh=new eh("12.0.3");class rh{constructor(){}supports(t){return ta(t)}create(t){return new oh(t)}}const ih=(t,e)=>e;class oh{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ih}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ch(n,r,i)?e:n,s=ch(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ta(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Qs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new sh(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new uh),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sh{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ah{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class uh{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ah,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ch(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class lh{constructor(){}supports(t){return t instanceof Map||ea(t)}create(){return new hh}}class hh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ea(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new fh(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class fh{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dh(){return new ph([new rh])}let ph=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||dh()),deps:[[t,new ir,new nr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:dh}),t})();function gh(){return new mh([new lh])}let mh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||gh()),deps:[[t,new ir,new nr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:gh}),t})();function yh(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Rt(o)),gt(o))for(let t=dt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&yh(e[1],e,n,r)}const s=n.type;if(8&s)yh(t,e,n.child,r);else if(32&s){const t=Oi(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=ro(e,n);if(Array.isArray(t))r.push(...t);else{const n=Pi(e[16]);yh(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class vh{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return yh(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(gt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(qi(t,n),Dn(e,n))}this._attachedToViewContainer=!1}Gi(this._lView[1],this._lView)}onDestroy(t){Zo(this._lView[1],this._lView,null,t)}markForCheck(){ds(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ps(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){oe(!0);try{ps(t,e,n)}finally{oe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ao(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class bh extends vh{constructor(t){super(t),this._view=t}detectChanges(){gs(this._view)}checkNoChanges(){!function(t){oe(!0);try{gs(t)}finally{oe(!1)}}(this._view)}get context(){return null}}const wh=function(t){return function(t,e,n){if(yt(t)&&!n){const n=Ut(t.index,e);return new vh(n,n)}return 47&t.type?new vh(e[16],e):null}(Qt(),Yt(),16==(16&t))};let _h=(()=>{class t{}return t.__NG_ELEMENT_ID__=wh,t})();const Eh=[new lh],Sh=new ph([new rh]),Th=new mh(Eh),Ch=function(){return kh(Qt(),Yt())};let Ih=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ch,t})();const xh=Ih,Ah=class extends xh{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ro(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Vo(e,n,t),new vh(n)}};function kh(t,e){return 4&t.type?new Ah(e,t,Zl(t,e)):null}class Oh{}class Ph{}const Dh=function(){return Vh(Qt(),Yt())};let Nh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Dh,t})();const Rh=Nh,Lh=class extends Rh{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new fn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Xe(this._hostTNode,this._hostLView);if(ze(t)){const e=$e(t,this._hostLView),n=He(t);return new fn(e[1].data[n+8],e)}return new fn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Fh(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Oh,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(gt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Lh(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=dt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-dt?(e[4]=n[i],Pn(n,dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=io(i,o),a=n[11],u=Yi(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ao(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Pn(Mh(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Fh(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=qi(this._lContainer,e);n&&(Dn(Mh(this._lContainer),e),Gi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=qi(this._lContainer,e);return n&&null!=Dn(Mh(this._lContainer),e)?new vh(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Fh(t){return t[8]}function Mh(t){return t[8]||(t[8]=[])}function Vh(t,e){let n;const r=e[t.index];if(gt(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Ft(t,e);$i(n,Yi(n,r),i,function(t,e){return Dt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=us(r,e,i,t),fs(e,n)}return new Lh(n,t,e)}const Uh={};class jh extends Hl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new Bh(e,this.ngModule)}}function qh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Gh=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Si});class Bh extends Bl{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(So).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return qh(this.componentDef.inputs)}get outputs(){return qh(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Uh,i);return o!==Uh||r===Uh?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Jl,Nt),s=i.get(th,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Dt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ui(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?xt:"math"===e?At:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Si,clean:ys,playerHandler:null,flags:0},f=$o(0,null,null,1,0,null,null,null,null,null),d=Ro(null,f,h,l,null,null,o,a,s,i);let p,g;be(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Lo(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ts(a,u,!0),null!==t&&(Ue(i,t,u),null!==a.classes&&lo(i,t,a.classes),null!==a.styles&&co(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ro(n,Ho(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(tn(We(a,n),s,e.type),Xo(s,a),es(a,n.length,1)),fs(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ue(a,c,["ng-version",nh.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!vo(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ue(a,c,t),e&&e.length>0&&lo(a,c,e.join(" "))}if(g=Mt(f,ft),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ns(t,r,e,Mo(t,e,1,null),n));const i=cn(e,t,r.directiveStart,r);gi(i,e);const o=Ft(r,e);return o&&gi(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Qt();e.contentQueries(1,s,t.directiveStart)}const a=Qt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ie(a.index),Jo(n[1],a,0,a.directiveStart,a.directiveEnd,e),Qo(e,s)),s}(t,this.componentDef,d,h,[qs]),Vo(f,d,null)}finally{Te()}return new zh(this.componentType,p,Zl(g,d),d,g)}}class zh extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new bh(r),this.componentType=t}get injector(){return new fn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Hh(t,e,n,r){return R(()=>{const i=t;null!==e&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...e):i.decorators=e),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const $h=new Map;class Zh extends Oh{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jh(this);const n=ht(t),r=t[K]||null;r&&Lc(r),this._bootstrapComponents=xi(n.bootstrap),this._r3Injector=Ds(t,e,[{provide:Oh,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=js.THROW_IF_NOT_FOUND,n=O.Default){return t===js||t===Oh||t===Cs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Kh extends Ph{constructor(t){super(),this.moduleType=t,null!==ht(t)&&function(t){const e=new Set;!function t(n){const r=ht(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,$h.get(i),n),$h.set(i,n));const o=xi(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Zh(this.moduleType,t)}}function Yh(t,e,n){const r=se()+t,i=Yt();return i[r]===To?na(i,r,n?e.call(n):e()):ra(i,r)}function Wh(t,e,n,r){return af(Yt(),se(),t,e,n,r)}function Jh(t,e,n,r,i){return uf(Yt(),se(),t,e,n,r,i)}function Qh(t,e,n,r,i,o){return cf(Yt(),se(),t,e,n,r,i,o)}function Xh(t,e,n,r,i,o,s){return lf(Yt(),se(),t,e,n,r,i,o,s)}function tf(t,e,n,r,i,o,s,a){const u=se()+t,c=Yt(),l=aa(c,u,n,r,i,o);return ia(c,u+4,s)||l?na(c,u+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):ra(c,u+5)}function ef(t,e,n,r,i,o,s,a,u){const c=se()+t,l=Yt(),h=aa(l,c,n,r,i,o);return oa(l,c+4,s,a)||h?na(l,c+6,u?e.call(u,n,r,i,o,s,a):e(n,r,i,o,s,a)):ra(l,c+6)}function nf(t,e,n,r,i,o,s,a,u,c){const l=se()+t,h=Yt();let f=aa(h,l,n,r,i,o);return sa(h,l+4,s,a,u)||f?na(h,l+7,c?e.call(c,n,r,i,o,s,a,u):e(n,r,i,o,s,a,u)):ra(h,l+7)}function rf(t,e,n,r,i,o,s,a,u,c,l){const h=se()+t,f=Yt(),d=aa(f,h,n,r,i,o);return aa(f,h+4,s,a,u,c)||d?na(f,h+8,l?e.call(l,n,r,i,o,s,a,u,c):e(n,r,i,o,s,a,u,c)):ra(f,h+8)}function of(t,e,n,r){return hf(Yt(),se(),t,e,n,r)}function sf(t,e){const n=t[e];return n===To?void 0:n}function af(t,e,n,r,i,o){const s=e+n;return ia(t,s,i)?na(t,s+1,o?r.call(o,i):r(i)):sf(t,s+1)}function uf(t,e,n,r,i,o,s){const a=e+n;return oa(t,a,i,o)?na(t,a+2,s?r.call(s,i,o):r(i,o)):sf(t,a+2)}function cf(t,e,n,r,i,o,s,a){const u=e+n;return sa(t,u,i,o,s)?na(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):sf(t,u+3)}function lf(t,e,n,r,i,o,s,a,u){const c=e+n;return aa(t,c,i,o,s,a)?na(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):sf(t,c+4)}function hf(t,e,n,r,i,o){let s=e+n,a=!1;for(let u=0;u<i.length;u++)ia(t,s++,i[u])&&(a=!0);return a?na(t,s,r.apply(o,i)):sf(t,s)}function ff(t,e){const n=Wt();let r;const i=t+ft;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=wt(r.type)),s=D(ka);try{const t=Ke(!1),e=o();return Ke(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Yt(),i,e),e}finally{D(s)}}function df(t,e,n){const r=t+ft,i=Yt(),o=Vt(i,r);return bf(i,vf(i,r)?af(i,se(),e,o.transform,n,o):o.transform(n))}function pf(t,e,n,r){const i=t+ft,o=Yt(),s=Vt(o,i);return bf(o,vf(o,i)?uf(o,se(),e,s.transform,n,r,s):s.transform(n,r))}function gf(t,e,n,r,i){const o=t+ft,s=Yt(),a=Vt(s,o);return bf(s,vf(s,o)?cf(s,se(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function mf(t,e,n,r,i,o){const s=t+ft,a=Yt(),u=Vt(a,s);return bf(a,vf(a,s)?lf(a,se(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o))}function yf(t,e,n){const r=t+ft,i=Yt(),o=Vt(i,r);return bf(i,vf(i,r)?hf(i,se(),e,o.transform,n,o):o.transform.apply(o,n))}function vf(t,e){return t[1].data[e].pure}function bf(t,e){return Xs.isWrapped(e)&&(e=Xs.unwrap(e),t[ae()]=To),e}function wf(t){return e=>{setTimeout(t,void 0,e)}}const _f=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=wf(u),a&&(a=wf(a)),c&&(c=wf(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Ef(){return this._results[Qs()]()}class Sf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Qs(),n=Sf.prototype;n[e]||(n[e]=Ef)}get changes(){return this._changes||(this._changes=new _f)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=kn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Tf{constructor(t){this.queryList=t,this.matches=null}clone(){return new Tf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Cf(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Uf(t,e).matches&&this.queries[e].setDirty()}}class If{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class xf{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new xf(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Af{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Af(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,kf(e,i)),this.matchTNodeWithReadOption(t,e,un(e,t,i,!1,!1))}else n===Ih?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,un(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Yl||r===Nh||r===Ih&&4&e.type)this.addMatch(e.index,-2);else{const n=un(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function kf(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Of(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Zl(t,e):4&t.type?kh(t,e):null}(e,t):-2===n?function(t,e,n){return n===Yl?Zl(e,t):n===Ih?kh(e,t):n===Nh?Vh(e,t):void 0}(t,e,r):cn(t,t[1],n,e)}function Pf(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Of(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Df(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Pf(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=dt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Df(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Df(n[1],n,i,r)}}}}}return r}function Nf(t){const e=Yt(),n=Wt(),r=ge();me(r+1);const i=Uf(n,r);if(t.dirty&&jt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Df(n,e,r,[]):Pf(n,e,i,r);t.reset(o,Wl),t.notifyOnChanges()}return!0}return!1}function Rf(t,e,n){const r=Wt();r.firstCreatePass&&(Vf(r,new If(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Mf(r,Yt(),e)}function Lf(t,e,n,r){const i=Wt();if(i.firstCreatePass){const o=Qt();Vf(i,new If(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Mf(i,Yt(),n)}function Ff(){return t=Yt(),e=ge(),t[19].queries[e].queryList;var t,e}function Mf(t,e,n){const r=new Sf(4==(4&n));Zo(t,e,r,r.destroy),null===e[19]&&(e[19]=new Cf),e[19].queries.push(new Tf(r))}function Vf(t,e,n){null===t.queries&&(t.queries=new xf),t.queries.track(new Af(e,n))}function Uf(t,e){return t.queries.getByIndex(e)}function jf(t,e){return kh(t,e)}const qf=(()=>({"\u0275\u0275attribute":ua,"\u0275\u0275attributeInterpolate1":va,"\u0275\u0275attributeInterpolate2":ba,"\u0275\u0275attributeInterpolate3":wa,"\u0275\u0275attributeInterpolate4":_a,"\u0275\u0275attributeInterpolate5":Ea,"\u0275\u0275attributeInterpolate6":Sa,"\u0275\u0275attributeInterpolate7":Ta,"\u0275\u0275attributeInterpolate8":Ca,"\u0275\u0275attributeInterpolateV":Ia,"\u0275\u0275defineComponent":Q,"\u0275\u0275defineDirective":st,"\u0275\u0275defineInjectable":_,"\u0275\u0275defineInjector":E,"\u0275\u0275defineNgModule":rt,"\u0275\u0275definePipe":at,"\u0275\u0275directiveInject":ka,"\u0275\u0275getInheritedFactory":dn,"\u0275\u0275inject":Jn,"\u0275\u0275injectAttribute":gn,"\u0275\u0275invalidFactory":Oa,"\u0275\u0275invalidFactoryDep":Qn,"\u0275\u0275templateRefExtractor":jf,"\u0275\u0275NgOnChangesFeature":Et,"\u0275\u0275ProvidersFeature":Gl,"\u0275\u0275CopyDefinitionFeature":Ws,"\u0275\u0275InheritDefinitionFeature":Bs,"\u0275\u0275nextContext":Ka,"\u0275\u0275namespaceHTML":Oe,"\u0275\u0275namespaceMathML":ke,"\u0275\u0275namespaceSVG":Ae,"\u0275\u0275enableBindings":Zt,"\u0275\u0275disableBindings":Kt,"\u0275\u0275elementStart":Na,"\u0275\u0275elementEnd":Ra,"\u0275\u0275element":La,"\u0275\u0275elementContainerStart":Fa,"\u0275\u0275elementContainerEnd":Ma,"\u0275\u0275elementContainer":Va,"\u0275\u0275pureFunction0":Yh,"\u0275\u0275pureFunction1":Wh,"\u0275\u0275pureFunction2":Jh,"\u0275\u0275pureFunction3":Qh,"\u0275\u0275pureFunction4":Xh,"\u0275\u0275pureFunction5":tf,"\u0275\u0275pureFunction6":ef,"\u0275\u0275pureFunction7":nf,"\u0275\u0275pureFunction8":rf,"\u0275\u0275pureFunctionV":of,"\u0275\u0275getCurrentView":Ua,"\u0275\u0275restoreView":Jt,"\u0275\u0275listener":Ba,"\u0275\u0275projection":Ja,"\u0275\u0275syntheticHostProperty":_c,"\u0275\u0275syntheticHostListener":za,"\u0275\u0275pipeBind1":df,"\u0275\u0275pipeBind2":pf,"\u0275\u0275pipeBind3":gf,"\u0275\u0275pipeBind4":mf,"\u0275\u0275pipeBindV":yf,"\u0275\u0275projectionDef":Wa,"\u0275\u0275hostProperty":wc,"\u0275\u0275property":Pa,"\u0275\u0275propertyInterpolate":Qa,"\u0275\u0275propertyInterpolate1":Xa,"\u0275\u0275propertyInterpolate2":tu,"\u0275\u0275propertyInterpolate3":eu,"\u0275\u0275propertyInterpolate4":nu,"\u0275\u0275propertyInterpolate5":ru,"\u0275\u0275propertyInterpolate6":iu,"\u0275\u0275propertyInterpolate7":ou,"\u0275\u0275propertyInterpolate8":su,"\u0275\u0275propertyInterpolateV":au,"\u0275\u0275pipe":ff,"\u0275\u0275queryRefresh":Nf,"\u0275\u0275viewQuery":Rf,"\u0275\u0275loadQuery":Ff,"\u0275\u0275contentQuery":Lf,"\u0275\u0275reference":Aa,"\u0275\u0275classMap":Su,"\u0275\u0275classMapInterpolate1":Zu,"\u0275\u0275classMapInterpolate2":Ku,"\u0275\u0275classMapInterpolate3":Yu,"\u0275\u0275classMapInterpolate4":Wu,"\u0275\u0275classMapInterpolate5":Ju,"\u0275\u0275classMapInterpolate6":Qu,"\u0275\u0275classMapInterpolate7":Xu,"\u0275\u0275classMapInterpolate8":tc,"\u0275\u0275classMapInterpolateV":ec,"\u0275\u0275styleMap":_u,"\u0275\u0275styleMapInterpolate1":nc,"\u0275\u0275styleMapInterpolate2":rc,"\u0275\u0275styleMapInterpolate3":ic,"\u0275\u0275styleMapInterpolate4":oc,"\u0275\u0275styleMapInterpolate5":sc,"\u0275\u0275styleMapInterpolate6":ac,"\u0275\u0275styleMapInterpolate7":uc,"\u0275\u0275styleMapInterpolate8":cc,"\u0275\u0275styleMapInterpolateV":lc,"\u0275\u0275styleProp":bu,"\u0275\u0275stylePropInterpolate1":hc,"\u0275\u0275stylePropInterpolate2":fc,"\u0275\u0275stylePropInterpolate3":dc,"\u0275\u0275stylePropInterpolate4":pc,"\u0275\u0275stylePropInterpolate5":gc,"\u0275\u0275stylePropInterpolate6":mc,"\u0275\u0275stylePropInterpolate7":yc,"\u0275\u0275stylePropInterpolate8":vc,"\u0275\u0275stylePropInterpolateV":bc,"\u0275\u0275classProp":wu,"\u0275\u0275advance":Co,"\u0275\u0275template":xa,"\u0275\u0275text":Fu,"\u0275\u0275textInterpolate":Mu,"\u0275\u0275textInterpolate1":Vu,"\u0275\u0275textInterpolate2":Uu,"\u0275\u0275textInterpolate3":ju,"\u0275\u0275textInterpolate4":qu,"\u0275\u0275textInterpolate5":Gu,"\u0275\u0275textInterpolate6":Bu,"\u0275\u0275textInterpolate7":zu,"\u0275\u0275textInterpolate8":Hu,"\u0275\u0275textInterpolateV":$u,"\u0275\u0275i18n":Ol,"\u0275\u0275i18nAttributes":Pl,"\u0275\u0275i18nExp":Dl,"\u0275\u0275i18nStart":Al,"\u0275\u0275i18nEnd":kl,"\u0275\u0275i18nApply":Nl,"\u0275\u0275i18nPostprocess":Rl,"\u0275\u0275resolveWindow":Ti,"\u0275\u0275resolveDocument":Ci,"\u0275\u0275resolveBody":Ii,"\u0275\u0275setComponentScope":X,"\u0275\u0275setNgModuleScope":it,"\u0275\u0275sanitizeHtml":si,"\u0275\u0275sanitizeStyle":ai,"\u0275\u0275sanitizeResourceUrl":ci,"\u0275\u0275sanitizeScript":li,"\u0275\u0275sanitizeUrl":ui,"\u0275\u0275sanitizeUrlOrResourceUrl":di,"\u0275\u0275trustConstantHtml":hi,"\u0275\u0275trustConstantResourceUrl":fi,forwardRef:d,resolveForwardRef:p}))();const Gf=[];let Bf=!1;function zf(t){return Array.isArray(t)?t.every(zf):!!p(t)}function Hf(t,e){const n=kn(e.declarations||B),r=Zf(t);n.forEach(e=>{e.hasOwnProperty(z)?$f(ut(e),r):e.hasOwnProperty(H)||e.hasOwnProperty($)||(e.ngSelectorScope=t)})}function $f(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(z)?ut(t):ct(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>lt(t)),t.schemas=e.schemas,t.tView=null}function Zf(t){if(!Yf(t))throw new Error(`${t.name} does not have a module def (\u0275mod property)`);const e=ht(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return xi(e.imports).forEach(t=>{const e=t;if(!Yf(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const r=Zf(e);r.exported.directives.forEach(t=>n.compilation.directives.add(t)),r.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),xi(e.declarations).forEach(t=>{lt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),xi(e.exports).forEach(t=>{const e=t;if(Yf(e)){const t=Zf(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else lt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function Kf(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function Yf(t){return!!ht(t)}let Wf=0;function Jf(t,e){let n=null;Xf(t,e||{}),Object.defineProperty(t,H,{get:()=>{if(null===n){const r=Qf(t,e||{});n=In().compileDirective(qf,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function Qf(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=In(),o=ed(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&nd(t),{metadata:o,sourceMapUrl:r}}function Xf(t,e){let n=null;Object.defineProperty(t,Y,{get:()=>{if(null===n){const r=Qf(t,e),i=In();n=i.compileFactory(qf,`ng:///${t.name}/\u0275fac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:ur(t),target:i.FactoryTarget.Directive})}return n},configurable:!1})}function td(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function ed(t,e){const n=ar(),r=n.ownPropMetadata(t);return{name:t.name,type:t,selector:void 0!==e.selector?e.selector:null,host:e.host||G,propMetadata:r,inputs:e.inputs||B,outputs:e.outputs||B,queries:id(t,r,od),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!td(t),exportAs:(i=e.exportAs,void 0===i?null:ud(i)),providers:e.providers||null,viewQueries:id(t,r,sd)};var i}function nd(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)ct(n)||ut(n)||!ld(n)||Jf(n,null),n=Object.getPrototypeOf(n)}function rd(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?ud(n):p(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly};var n}function id(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${v(t)}" since the query selector wasn't defined.`);if(o.some(ad))throw new Error("Cannot combine @Input decorators with query decorators");r.push(rd(i,e))}})}return r}function od(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function sd(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function ad(t){return"Input"===t.ngMetadataName}function ud(t){return t.split(",").map(t=>t.trim())}const cd=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function ld(t){const e=ar();if(cd.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(ad(n)||od(n)||sd(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function hd(t,e){return{type:t,name:t.name,pipeName:e.name,pure:void 0===e.pure||e.pure}}const fd=bn("Directive",(t={})=>t,void 0,void 0,(t,e)=>vd(t,e)),dd=bn("Component",(t={})=>Object.assign({changeDetection:L.Default},t),fd,void 0,(t,e)=>yd(t,e)),pd=bn("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>bd(t,e)),gd=En("Input",t=>({bindingPropertyName:t})),md=En("Output",t=>({bindingPropertyName:t})),yd=function(t,e){let n=null;!function(t,e){hr(e)&&(cr.set(t,e),lr.add(t))}(t,e),Xf(t,e),Object.defineProperty(t,z,{get:()=>{if(null===n){const r=In();if(hr(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(` - templateUrl: ${e.templateUrl}`),e.styleUrls&&e.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(e.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=null;let o=e.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=e.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:F.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,u=Object.assign(Object.assign({},ed(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:o,styles:e.styles||B,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:s,interpolation:e.interpolation,viewProviders:e.viewProviders||null});Wf++;try{u.usesInheritance&&nd(t),n=r.compileComponent(qf,a,u)}finally{Wf--}if(0===Wf&&function(){if(!Bf){Bf=!0;try{for(let t=Gf.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=Gf[t];n.declarations&&n.declarations.every(zf)&&(Gf.splice(t,1),Hf(e,n))}}finally{Bf=!1}}}(),void 0!==t.ngSelectorScope){const e=Zf(t.ngSelectorScope);$f(n,e)}}return n},configurable:!1})},vd=Jf,bd=function(t,e){let n=null,r=null;Object.defineProperty(t,Y,{get:()=>{if(null===r){const n=hd(t,e),i=In();r=i.compileFactory(qf,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:ur(t),target:i.FactoryTarget.Pipe})}return r},configurable:!1}),Object.defineProperty(t,$,{get:()=>{if(null===n){const r=hd(t,e);n=In().compilePipe(qf,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})},wd=bn("NgModule",t=>t,void 0,void 0,(t,e)=>_d(t,e)),_d=function(t,e={}){!function(t,e,n=!1){const r=kn(e.declarations||B);let i=null;Object.defineProperty(t,Z,{configurable:!0,get:()=>(null===i&&(i=In().compileNgModule(qf,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:kn(e.bootstrap||B).map(p),declarations:r.map(p),imports:kn(e.imports||B).map(p).map(Kf),exports:kn(e.exports||B).map(p).map(Kf),schemas:e.schemas?kn(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(t,Y,{get:()=>{if(null===o){const e=In();o=e.compileFactory(qf,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:ur(t),target:e.FactoryTarget.NgModule,typeArgumentCount:0})}return o},configurable:!1});let s=null;Object.defineProperty(t,x,{get:()=>{if(null===s){const n={name:t.name,type:t,providers:e.providers||B,imports:[(e.imports||B).map(p),(e.exports||B).map(p)]};s=In().compileInjector(qf,`ng:///${t.name}/\u0275inj.js`,n)}return s},configurable:!1})}(t,e),function(t,e){Gf.push({moduleType:t,ngModule:e})}(t,e)},Ed=new Tn("Application Initializer");let Sd=(()=>{class t{constructor(t){this.appInits=t,this.resolve=$l,this.reject=$l,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(ja(e))t.push(e);else if(Ga(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Jn(Ed,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Td=new Tn("AppId"),Cd={provide:Td,useFactory:function(){return`${Id()}${Id()}${Id()}`},deps:[]};function Id(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xd=new Tn("Platform Initializer"),Ad=new Tn("Platform ID"),kd=new Tn("appBootstrapListener");let Od=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Pd=new Tn("LocaleId"),Dd=new Tn("DefaultCurrencyCode");class Nd{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Rd=function(t){return new Kh(t)},Ld=Rd,Fd=function(t){return Promise.resolve(Rd(t))},Md=function(t){const e=Rd(t),n=xi(ht(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new Bh(n)),t},[]);return new Nd(e,n)},Vd=Md,Ud=function(t){return Promise.resolve(Md(t))};let jd=(()=>{class t{constructor(){this.compileModuleSync=Ld,this.compileModuleAsync=Fd,this.compileModuleAndAllComponentsSync=Vd,this.compileModuleAndAllComponentsAsync=Ud}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const qd=(()=>Promise.resolve(0))();function Gd(t){"undefined"==typeof Zone?qd.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Bd{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _f(!1),this.onMicrotaskEmpty=new _f(!1),this.onStable=new _f(!1),this.onError=new _f(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$d(t),t.isCheckStableRunning=!0,Hd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$d(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Zd(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Kd(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Zd(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Kd(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,$d(t),Hd(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,zd,$l,$l);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const zd={};function Hd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $d(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zd(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Kd(t){t._nesting--,Hd(t)}class Yd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _f,this.onMicrotaskEmpty=new _f,this.onStable=new _f,this.onError=new _f}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Wd=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bd.assertNotInAngularZone(),Gd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gd(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Jn(Bd))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Jd=(()=>{class t{constructor(){this._applications=new Map,ep.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ep.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Qd{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Xd(t){ep=t}let tp,ep=new Qd,np=!0,rp=!1;function ip(){return rp=!0,np}function op(){if(rp)throw new Error("Cannot enable prod mode after platform setup.");np=!1}const sp=new Tn("AllowMultipleToken");class ap{constructor(t,e){this.name=t,this.token=e}}function up(t,e,n=[]){const r=`Platform: ${e}`,i=new Tn(r);return(e=[])=>{let o=cp();if(!o||o.injector.get(sp,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:xs,useValue:"platform"});!function(t){if(tp&&!tp.destroyed&&!tp.injector.get(sp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tp=t.get(lp);const e=t.get(xd,null);e&&e.forEach(t=>t())}(js.create({providers:t,name:r}))}return function(t){const e=cp();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function cp(){return tp&&!tp.destroyed?tp:null}let lp=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Yd:("zone.js"===t?void 0:t)||new Bd({enableLongStackTrace:ip(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Bd,useValue:n}];return n.run(()=>{const e=js.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(wi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{dp(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ja(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Sd);return t.runInitializers(),t.donePromise.then(()=>(Lc(i.injector.get(Pd,Oc)||Oc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=hp({},e);return function(t,e,n){const r=new Kh(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(fp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Jn(js))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function hp(t,e){return Array.isArray(e)?e.reduce(hp,t):Object.assign(Object.assign({},t),e)}let fp=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Bd.assertNotInAngularZone(),Gd(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Bd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Bl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Oh),i=n.create(js.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Wd,null),a=s&&i.injector.get(Jd);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),dp(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;dp(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(kd,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Jn(Bd),Jn(js),Jn(wi),Jn(Hl),Jn(Sd))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function dp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class pp{}class gp{}const mp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yp=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||mp}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>vp(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>vp(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Jn(jd),Jn(gp,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function vp(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const bp=function(t){return null},wp=up(null,"core",[{provide:Ad,useValue:"unknown"},{provide:lp,deps:[js]},{provide:Jd,deps:[]},{provide:Od,deps:[]}]),_p=[{provide:fp,useClass:fp,deps:[Bd,js,wi,Hl,Sd]},{provide:Gh,deps:[Bd],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Sd,useClass:Sd,deps:[[new nr,Ed]]},{provide:jd,useClass:jd,deps:[]},Cd,{provide:ph,useFactory:function(){return Sh},deps:[]},{provide:mh,useFactory:function(){return Th},deps:[]},{provide:Pd,useFactory:function(t){return Lc(t=t||"undefined"!=typeof $localize&&$localize.locale||Oc),t},deps:[[new er(Pd),new nr,new ir]]},{provide:Dd,useValue:"USD"}];let Ep=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Jn(fp))},t.\u0275mod=rt({type:t}),t.\u0275inj=E({providers:_p}),t})()},5912:(t,e,n)=>{"use strict";n.d(e,{zQ:()=>P,ww:()=>D,Qv:()=>C});var r=n(5366),i=n(5959),o=n(878),s=n(8318),a=n(9764),u=n(1906),c=n(8489),l=n(7570),h=n(45),f=n(3895),d=n(9291);class p extends i.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new g(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new f.N;if(this.isStopped||this.hasError?o=l.w.EMPTY:(this.observers.push(t),o=new d.W(this,t)),r&&t.add(t=new h.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||c.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class g{constructor(t,e){this.time=t,this.value=e}}function m(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new p(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}var y=n(4689);function v(t,e){return e?(0,y.w)(()=>t,e):(0,y.w)(()=>t)}var b=n(9996),w=n(3530),_=n(2893),E=n(3835),S=n(2346),T=n(1116);const C=new r.OlP("angularfire2.auth.use-emulator"),I=new r.OlP("angularfire2.auth.settings"),x=new r.OlP("angularfire2.auth.tenant-id"),A=new r.OlP("angularfire2.auth.langugage-code"),k=new r.OlP("angularfire2.auth.use-device-language"),O=new r.OlP("angularfire.auth.persistence");let P=(()=>{class t{constructor(t,e,r,c,l,f,d,p,g,C){const I=new S.HU(c),x=(0,S.ss)(I),A=new i.xQ,k=(0,o.of)(void 0).pipe((0,h.QV)(I.outsideAngular),(0,y.w)(()=>c.runOutsideAngular(()=>n.e(420).then(n.bind(n,7420)))),(0,b.U)(()=>(0,S.on)(t,c,e)),(0,b.U)(t=>c.runOutsideAngular(()=>{const e=l,n=f;return(0,S.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=c.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),d&&(r.tenantId=d),r.languageCode=p,g&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return C&&r.setPersistence(C),r},[e,d,p,g,n,C])})),m({bufferSize:1,refCount:!1}));if((0,T.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,o.of)(null);else{k.pipe((0,w.P)()).subscribe();const t=k.pipe((0,y.w)(t=>t.getRedirectResult().then(t=>t,()=>null)),x,m({bufferSize:1,refCount:!1})),e=t=>new s.y(e=>({unsubscribe:c.runOutsideAngular(()=>t(e))})),n=k.pipe((0,y.w)(t=>e(t.onAuthStateChanged.bind(t)))),r=k.pipe((0,y.w)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(v(n),(0,_.R)(I.outsideAngular),(0,h.QV)(I.insideAngular)),this.user=t.pipe(v(r),(0,_.R)(I.outsideAngular),(0,h.QV)(I.insideAngular)),this.idToken=this.user.pipe((0,y.w)(t=>t?(0,a.D)(t.getIdToken()):(0,o.of)(null))),this.idTokenResult=this.user.pipe((0,y.w)(t=>t?(0,a.D)(t.getIdTokenResult()):(0,o.of)(null))),this.credential=(0,u.T)(t,A,this.authState.pipe((0,E.h)(t=>!t))).pipe((0,b.U)(t=>(null==t?void 0:t.user)?t:null),(0,_.R)(I.outsideAngular),(0,h.QV)(I.insideAngular))}return(0,S.pX)(this,k,c,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>A.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(S.Dh),r.LFG(S.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(C,8),r.LFG(I,8),r.LFG(x,8),r.LFG(A,8),r.LFG(k,8),r.LFG(O,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(S.Dh),r.LFG(S.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(C,8),r.LFG(I,8),r.LFG(x,8),r.LFG(A,8),r.LFG(k,8),r.LFG(O,8))},token:t,providedIn:"any"}),t})();(0,S.GT)(P,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[P]}),t})()},2346:(t,e,n)=>{"use strict";n.d(e,{hO:()=>I,xv:()=>b,Dh:()=>v,HU:()=>d,GT:()=>y,sI:()=>T,on:()=>_,ss:()=>p,pX:()=>m,yq:()=>E});var r=n(8489),i=n(8569),o=n(4019),s=n(2893),a=n(45),u=n(5366),c=n(1858);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig"),w=new u.GfV("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:_,deps:[v,u.R0b,[new u.FiY,b]]};let I=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",w.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[C]}),t})()},1462:(t,e,n)=>{"use strict";n.d(e,{Fj:()=>m,NI:()=>at,u:()=>bt,cw:()=>ut,sg:()=>yt,u5:()=>kt,Cf:()=>b,JU:()=>d,JJ:()=>j,JL:()=>q,F:()=>ft,YN:()=>St,UX:()=>Ot,kI:()=>E,_Y:()=>dt,Kr:()=>xt});var r=n(5366),i=n(1116),o=n(8318),s=n(8470),a=n(9996),u=n(2056),c=n(9764);function l(t,e){return new o.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,c.D)(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let h=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),f=(()=>{class t extends h{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const d=new r.OlP("NgValueAccessor"),p={provide:d,useExisting:(0,r.Gpc)(()=>m),multi:!0},g=new r.OlP("CompositionEventMode");let m=(()=>{class t extends h{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=(0,i.q)()?(0,i.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(g,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([p]),r.qOj]}),t})();function y(t){return null==t||0===t.length}function v(t){return null!=t&&"number"==typeof t.length}const b=new r.OlP("NgValidators"),w=new r.OlP("NgAsyncValidators"),_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class E{static min(t){return function(t){return e=>{if(y(e.value)||y(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(y(e.value)||y(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return y(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return y(t.value)||_.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>y(e.value)||!v(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>v(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return S;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(y(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return k(t)}static composeAsync(t){return P(t)}}function S(t){return null}function T(t){return null!=t}function C(t){const e=(0,r.QGY)(t)?(0,c.D)(t):t;return(0,r.CqO)(e),e}function I(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function x(t,e){return e.map(e=>e(t))}function A(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function k(t){if(!t)return null;const e=t.filter(T);return 0==e.length?null:function(t){return I(x(t,e))}}function O(t){return null!=t?k(A(t)):null}function P(t){if(!t)return null;const e=t.filter(T);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,s.k)(e))return l(e,null);if((0,u.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&(0,s.k)(t[0])?t[0]:t,null).pipe((0,a.U)(t=>e(...t)))}return l(t,null)}(x(t,e).map(C)).pipe((0,a.U)(I))}}function D(t){return null!=t?P(A(t)):null}function N(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function R(t){return t._rawValidators}function L(t){return t._rawAsyncValidators}let F=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=O(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),M=(()=>{class t extends F{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class V extends F{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class U{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let j=(()=>{class t extends U{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(V,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),q=(()=>{class t extends U{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(M,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})();function G(t,e){H(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Z(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Z(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function B(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function z(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function H(t,e){const n=R(t);null!==e.validator?t.setValidators(N(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=L(t);null!==e.asyncValidator?t.setAsyncValidators(N(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();z(e._rawValidators,i),z(e._rawAsyncValidators,i)}function $(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=R(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=L(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return z(e._rawValidators,r),z(e._rawAsyncValidators,r),n}function Z(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function K(t,e){H(t,e)}function Y(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function W(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const J="VALID",Q="INVALID",X="PENDING",tt="DISABLED";function et(t){return(ot(t)?t.validators:t)||null}function nt(t){return Array.isArray(t)?O(t):t||null}function rt(t,e){return(ot(e)?e.asyncValidators:t)||null}function it(t){return Array.isArray(t)?D(t):t||null}function ot(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class st{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=nt(this._rawValidators),this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===J}get invalid(){return this.status===Q}get pending(){return this.status==X}get disabled(){return this.status===tt}get enabled(){return this.status!==tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=nt(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=it(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=X,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tt,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=J,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==J&&this.status!==X||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tt:J}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=X,this._hasOwnPendingAsyncValidator=!0;const e=C(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ut?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ct&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?tt:this.errors?Q:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(X)?X:this._anyControlsHaveStatus(Q)?Q:J}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ot(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class at extends st{constructor(t=null,e,n){super(et(e),rt(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){W(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){W(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ut extends st{constructor(t,e,n){super(et(e),rt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof at?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ct extends st{constructor(t,e,n){super(et(e),rt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof at?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const lt={provide:M,useExisting:(0,r.Gpc)(()=>ft)},ht=(()=>Promise.resolve(null))();let ft=(()=>{class t extends M{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new ut({},O(t),D(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ht.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),G(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ht.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),W(this._directives,t)})}addFormGroup(t){ht.then(()=>{const e=this._findContainer(t.path),n=new ut({});K(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ht.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ht.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Y(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(b,10),r.Y36(w,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([lt]),r.qOj]}),t})(),dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const gt=new r.OlP("NgModelWithFormControlWarning"),mt={provide:M,useExisting:(0,r.Gpc)(()=>yt)};let yt=(()=>{class t extends M{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return G(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){B(t.control||null,t,!1),W(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Y(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(B(e||null,t),n instanceof at&&(G(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);K(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return $(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){H(this.form,this),this._oldForm&&$(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(b,10),r.Y36(w,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([mt]),r.qOj,r.TTD]}),t})();const vt={provide:V,useExisting:(0,r.Gpc)(()=>bt)};let bt=(()=>{class t extends V{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===m?n=t:Object.getPrototypeOf(t.constructor)===f?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(M,13),r.Y36(b,10),r.Y36(w,10),r.Y36(d,10),r.Y36(gt,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([vt]),r.qOj,r.TTD]}),t._ngModelWarningSentOnce=!1,t})();const wt={provide:d,useExisting:(0,r.Gpc)(()=>Et),multi:!0};function _t(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Et=(()=>{class t extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this.setProperty("selectedIndex",-1);const n=_t(e,t);this.setProperty("value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.NdJ("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([wt]),r.qOj]}),t})(),St=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(_t(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Et,9))},t.\u0275dir=r.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Tt={provide:d,useExisting:(0,r.Gpc)(()=>It),multi:!0};function Ct(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let It=(()=>{class t extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.NdJ("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([Tt]),r.qOj]}),t})(),xt=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ct(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ct(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(It,9))},t.\u0275dir=r.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[pt]]}),t})(),kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[At]}),t})(),Ot=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:gt,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[At]}),t})()},2754:(t,e,n)=>{"use strict";n.d(e,{gz:()=>Wt,F0:()=>bn,rH:()=>wn,yS:()=>_n,Bz:()=>Nn,lC:()=>Sn});var r=n(1116),i=n(5366),o=n(8318),s=n(9764),a=n(653);function u(t){return new o.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,s.D)(n):(0,a.c)()).subscribe(e)})}var c=n(878),l=n(8512),h=n(1305),f=n(9665),d=n(7930),p=n(2875),g=n(5959),m=n(6882);function y(t){return function(e){const n=new v(t),r=e.lift(n);return n.caught=r}}class v{constructor(t){this.selector=t}call(t,e){return e.subscribe(new b(t,this.selector,this.caught))}}class b extends m.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new m.IY(this);this.add(r);const i=(0,m.ft)(n,r);i!==r&&this.add(i)}}}var w=n(3835),_=n(6673),E=n(8402);function S(t){return function(e){return 0===t?(0,a.c)():e.lift(new T(t))}}class T{constructor(t){if(this.total=t,this.total<0)throw new E.W}call(t,e){return e.subscribe(new C(t,this.total))}}class C extends _.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var I=n(790),x=n(7768),A=n(3392),k=n(7570);class O{constructor(t){this.callback=t}call(t,e){return e.subscribe(new P(t,this.callback))}}class P extends _.L{constructor(t,e){super(t),this.add(new k.w(e))}}var D=n(9996),N=n(4689),R=n(611),L=n(6238),F=n(2023),M=n(436),V=n(3530),U=n(3982),j=n(4019),q=n(1564),G=n(7471);class B{constructor(t,e){this.id=t,this.url=e}}class z extends B{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class H extends B{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $ extends B{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z extends B{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class K extends B{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y extends B{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W extends B{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J extends B{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends B{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tt{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class et{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nt{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class it{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const st="primary";class at{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ut(t){return new at(t)}function ct(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function lt(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ht(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ft(t[i],e[i]))return!1;return!0}function ft(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function dt(t){return Array.prototype.concat.apply([],t)}function pt(t){return t.length>0?t[t.length-1]:null}function gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function mt(t){return(0,i.CqO)(t)?t:(0,i.QGY)(t)?(0,s.D)(Promise.resolve(t)):(0,c.of)(t)}const yt={exact:function t(e,n,r){if(!It(e.segments,n.segments))return!1;if(!Et(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:wt},vt={exact:function(t,e){return ht(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ft(t[n],e[n]))},ignored:()=>!0};function bt(t,e,n){return yt[n.paths](t.root,e.root,n.matrixParams)&&vt[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function wt(t,e,n){return _t(t,e,e.segments,n)}function _t(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!It(i,n)&&!e.hasChildren()&&!!Et(i,n,r)}if(t.segments.length===n.length){if(!It(t.segments,n))return!1;if(!Et(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!wt(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!It(t.segments,i)&&!!Et(t.segments,i,r)&&!!t.children.primary&&_t(t.children.primary,e,o,r)}}function Et(t,e,n){return e.every((e,r)=>vt[n](t[r].parameters,e.parameters))}class St{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ut(this.queryParams)),this._queryParamMap}toString(){return kt.serialize(this)}}class Tt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,gt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ot(this)}}class Ct{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ut(this.parameters)),this._parameterMap}toString(){return Mt(this)}}function It(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class xt{}class At{parse(t){const e=new Gt(t);return new St(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Pt(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Nt(e)}=${Nt(t)}`).join("&"):`${Nt(e)}=${Nt(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const kt=new At;function Ot(t){return t.segments.map(t=>Mt(t)).join("/")}function Pt(t,e){if(!t.hasChildren())return Ot(t);if(e){const e=t.children.primary?Pt(t.children.primary,!1):"",n=[];return gt(t.children,(t,e)=>{e!==st&&n.push(`${e}:${Pt(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return gt(t.children,(t,r)=>{r===st&&(n=n.concat(e(t,r)))}),gt(t.children,(t,r)=>{r!==st&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===st?[Pt(t.children.primary,!1)]:[`${n}:${Pt(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Ot(t)}/${e[0]}`:`${Ot(t)}/(${e.join("//")})`}}function Dt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nt(t){return Dt(t).replace(/%3B/gi,";")}function Rt(t){return Dt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lt(t){return decodeURIComponent(t)}function Ft(t){return Lt(t.replace(/\+/g,"%20"))}function Mt(t){return`${Rt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Rt(t)}=${Rt(e[t])}`).join("")}`;var e}const Vt=/^[^\/()?;=#]+/;function Ut(t){const e=t.match(Vt);return e?e[0]:""}const jt=/^[^=?&#]+/,qt=/^[^?&#]+/;class Gt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Tt(t,e)),n}parseSegment(){const t=Ut(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ct(Lt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ut(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ut(this.remaining);t&&(n=t,this.capture(n))}t[Lt(e)]=Lt(n)}parseQueryParam(t){const e=function(t){const e=t.match(jt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(qt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ft(e),i=Ft(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ut(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=st);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Tt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Bt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=zt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ht(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ht(t,this._root).map(t=>t.value)}}function zt(t,e){if(t===e.value)return e;for(const n of e.children){const e=zt(t,n);if(e)return e}return null}function Ht(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ht(t,n);if(r.length)return r.unshift(e),r}return[]}class $t{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Kt extends Bt{constructor(t,e){super(t),this.snapshot=e,te(this,t)}toString(){return this.snapshot.toString()}}function Yt(t,e){const n=function(t,e){const n=new Qt([],{},{},"",{},st,e,null,t.root,-1,{});return new Xt("",new $t(n,[]))}(t,e),r=new l.X([new Ct("",{})]),i=new l.X({}),o=new l.X({}),s=new l.X({}),a=new l.X(""),u=new Wt(r,i,s,a,o,st,e,n.root);return u.snapshot=n.root,new Kt(new $t(u,[]),n)}class Wt{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,D.U)(t=>ut(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,D.U)(t=>ut(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Qt{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ut(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ut(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xt extends Bt{constructor(t,e){super(e),this.url=t,te(this,e)}toString(){return ee(this._root)}}function te(t,e){e.value._routerState=t,e.children.forEach(e=>te(t,e))}function ee(t){const e=t.children.length>0?` { ${t.children.map(ee).join(", ")} } `:"";return`${t.value}${e}`}function ne(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ht(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ht(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ht(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ht(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function re(t,e){var n,r;return ht(t.params,e.params)&&It(n=t.url,r=e.url)&&n.every((t,e)=>ht(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||re(t.parent,e.parent))}function ie(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ie(t,e,r);return ie(t,e)})}(t,e,n);return new $t(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return oe(e,t),t}}const n=new Wt(new l.X((r=e.value).url),new l.X(r.params),new l.X(r.queryParams),new l.X(r.fragment),new l.X(r.data),r.outlet,r.component,r),i=e.children.map(e=>ie(t,e));return new $t(n,i)}var r}function oe(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)oe(t.children[n],e.children[n])}function se(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ae(t){return"object"==typeof t&&null!=t&&t.outlets}function ue(t,e,n,r,i){let o={};return r&&gt(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new St(n.root===t?e:ce(n.root,t,e),o,i)}function ce(t,e,n){const r={};return gt(t.children,(t,i)=>{r[i]=t===e?n:ce(t,e,n)}),new Tt(t.segments,r)}class le{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&se(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ae);if(r&&r!==pt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class he{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function fe(t,e,n){if(t||(t=new Tt([],{})),0===t.segments.length&&t.hasChildren())return de(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ae(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!ye(a,u,e))return o;r+=2}else{if(!ye(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Tt(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Tt(t.segments.slice(r.pathIndex),t.children),de(e,0,i)}return r.match&&0===i.length?new Tt(t.segments,{}):r.match&&!t.hasChildren()?pe(t,e,n):r.match?de(t,0,i):pe(t,e,n)}function de(t,e,n){if(0===n.length)return new Tt(t.segments,{});{const r=function(t){return ae(t[0])?t[0].outlets:{[st]:t}}(n),i={};return gt(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=fe(t.children[r],e,n))}),gt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Tt(t.segments,i)}}function pe(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ae(o)){const t=ge(o.outlets);return new Tt(r,t)}if(0===i&&se(n[0])){r.push(new Ct(t.segments[e].path,me(n[0]))),i++;continue}const s=ae(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&se(a)?(r.push(new Ct(s,me(a))),i+=2):(r.push(new Ct(s,{})),i++)}return new Tt(r,{})}function ge(t){const e={};return gt(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=pe(new Tt([],{}),0,t))}),e}function me(t){const e={};return gt(t,(t,n)=>e[n]=`${t}`),e}function ye(t,e,n){return t==n.path&&ht(e,n.parameters)}class ve{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ne(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Zt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),gt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Zt(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Zt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new it(t.value.snapshot))}),t.children.length&&this.forwardEvent(new nt(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ne(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),be(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function be(t){ne(t.value),t.children.forEach(be)}class we{constructor(t,e){this.routes=t,this.module=e}}function _e(t){return"function"==typeof t}function Ee(t){return t instanceof St}const Se=Symbol("INITIAL_VALUE");function Te(){return(0,N.w)(t=>(0,h.aj)(t.map(t=>t.pipe((0,R.q)(1),(0,L.O)(Se)))).pipe((0,F.R)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Se)return t;if(r===Se&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ee(r))return r}return t},t)},Se),(0,w.h)(t=>t!==Se),(0,D.U)(t=>Ee(t)?t:!0===t),(0,R.q)(1)))}let Ce=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:function(){return[Sn]},encapsulation:2}),t})();function Ie(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];xe(r,Ae(e,r))}}function xe(t,e){t.children&&Ie(t.children,e)}function Ae(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ke(t){const e=t.children&&t.children.map(ke),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==st&&(n.component=Ce),n}function Oe(t){return t.outlet||st}function Pe(t,e){const n=t.filter(t=>Oe(t)===e);return n.push(...t.filter(t=>Oe(t)!==e)),n}const De={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ne(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},De):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lt)(n,t,e);if(!i)return Object.assign({},De);const o={};gt(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Re(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Le(t,e,n)&&Oe(n)!==st)}(t,n,r)){const i=new Tt(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Oe(o)!==st){const n=new Tt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Oe(o)]=n}return i}(t,e,r,new Tt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Le(t,e,n))}(t,n,r)){const o=new Tt(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Le(t,n,a)&&!i[Oe(a)]){const n=new Tt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Oe(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Tt(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Le(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Fe(t,e,n,r){return!!(Oe(t)===r||r!==st&&Le(e,n,t))&&("**"===t.path||Ne(e,t,n).matched)}function Me(t,e,n){return 0===e.length&&!t.children[n]}class Ve{constructor(t){this.segmentGroup=t||null}}class Ue{constructor(t){this.urlTree=t}}function je(t){return new o.y(e=>e.error(new Ve(t)))}function qe(t){return new o.y(e=>e.error(new Ue(t)))}function Ge(t){return new o.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Be{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}apply(){const t=Re(this.urlTree.root,[],[],this.config).segmentGroup,e=new Tt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,st).pipe((0,D.U)(t=>this.createUrlTree(ze(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(y(t=>{if(t instanceof Ue)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ve)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,st).pipe((0,D.U)(e=>this.createUrlTree(ze(e),t.queryParams,t.fragment))).pipe(y(t=>{if(t instanceof Ve)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Tt([],{[st]:t}):t;return new St(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,D.U)(t=>new Tt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,s.D)(r).pipe((0,M.b)(r=>{const i=n.children[r],o=Pe(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,D.U)(t=>({segment:t,outlet:r})))}),(0,F.R)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?(0,w.h)((e,n)=>t(e,n,r)):A.y,S(1),n?(0,x.d)(e):(0,I.T)(()=>new f.K))}())}expandSegment(t,e,n,r,i,o){return(0,s.D)(n).pipe((0,M.b)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(y(t=>{if(t instanceof Ve)return(0,c.of)(null);throw t}))),(0,V.P)(t=>!!t),y((t,n)=>{if(t instanceof f.K||"EmptyError"===t.name){if(Me(e,r,i))return(0,c.of)(new Tt([],{}));throw new Ve(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Fe(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):je(e):je(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qe(i):this.lineralizeSegments(n,i).pipe((0,U.zg)(n=>{const i=new Tt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ne(e,r,i);if(!s)return je(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?qe(l):this.lineralizeSegments(r,l).pipe((0,U.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,c.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,D.U)(t=>(n._loadedConfig=t,new Tt(r,{})))):(0,c.of)(new Tt(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Ne(e,n,r);if(!o)return je(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,U.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:l}=Re(e,s,u,o),h=new Tt(a.segments,a.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,o,h).pipe((0,D.U)(t=>new Tt(s,t)));if(0===o.length&&0===l.length)return(0,c.of)(new Tt(s,{}));const f=Oe(n)===i;return this.expandSegment(r,h,o,l,f?st:i,!0).pipe((0,D.U)(t=>new Tt(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,c.of)(new we(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,c.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,U.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,D.U)(t=>(e._loadedConfig=t,t))):function(t){return new o.y(e=>e.error(ct(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,c.of)(new we([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,c.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&_e(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!_e(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return mt(o)});return(0,c.of)(i).pipe(Te(),(0,j.b)(t=>{if(!Ee(t))return;const e=ct(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,D.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,c.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Ge(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new St(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return gt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return gt(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Tt(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ze(t){const e={};for(const n of Object.keys(t.children)){const r=ze(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Tt(t.segments.concat(e.segments),e.children)}return t}(new Tt(t.segments,e))}class He{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $e{constructor(t,e){this.component=t,this.route=e}}function Ze(t,e,n){const r=t._root;return Ye(r,e?e._root:null,n,[r.value])}function Ke(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ye(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Zt(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!It(t.url,e.url);case"pathParamsOrQueryParamsChange":return!It(t.url,e.url)||!ht(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!re(t,e)||!ht(t.queryParams,e.queryParams);case"paramsChange":default:return!re(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new He(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ye(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $e(a.outlet.component,s))}else s&&We(e,a,i),i.canActivateChecks.push(new He(r)),Ye(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),gt(o,(t,e)=>We(t,n.getContext(e),i)),i}function We(t,e,n){const r=Zt(t),i=t.value;gt(r,(t,r)=>{We(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new $e(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Je{}function Qe(t){return new o.y(e=>e.error(t))}class Xe{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Re(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,st);if(null===e)return null;const n=new Qt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},st,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $t(n,e),i=new Xt(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Jt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Pe(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=en(n);return r.sort((t,e)=>t.value.outlet===st?-1:e.value.outlet===st?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Me(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Fe(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?pt(n).parameters:{};i=new Qt(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,on(t),Oe(t),t.component,t,nn(e),rn(e)+n.length,sn(t))}else{const r=Ne(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Qt(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,on(t),Oe(t),t.component,t,nn(e),rn(e)+o.length,sn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Re(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new $t(i,t)]}if(0===a.length&&0===c.length)return[new $t(i,[])];const l=Oe(t)===r,h=this.processSegment(a,u,c,l?st:r);return null===h?null:[new $t(i,h)]}}function tn(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function en(t){const e=[],n=new Set;for(const r of t){if(!tn(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=en(r.children);e.push(new $t(r.value,t))}return e.filter(t=>!n.has(t))}function nn(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rn(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function on(t){return t.data||{}}function sn(t){return t.resolve||{}}function an(t){return(0,N.w)(e=>{const n=t(e);return n?(0,s.D)(n).pipe((0,D.U)(()=>e)):(0,c.of)(e)})}class un extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const cn=new i.OlP("ROUTES");class ln{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,D.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new we(dt(r.injector.get(cn,void 0,i.XFs.Self|i.XFs.Optional)).map(ke),r)}),y(t=>{throw e._loader$=void 0,t}));return e._loader$=new p.c(n,()=>new g.xQ).pipe((0,q.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,s.D)(this.loader.load(t)):mt(t()).pipe((0,U.zg)(t=>t instanceof i.YKP?(0,c.of)(t):(0,s.D)(this.compiler.compileModuleAsync(t))))}}class hn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fn,this.attachRef=null}}class fn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new hn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class dn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function pn(t){throw t}function gn(t,e,n){return e.parse("/")}function mn(t,e){return(0,c.of)(null)}const yn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bn=(()=>{class t{constructor(t,e,n,r,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new g.xQ,this.errorHandler=pn,this.malformedUriErrorHandler=gn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mn,afterPreactivation:mn},this.urlHandlingStrategy=new dn,this.routeReuseStrategy=new un,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(i.h0i),this.console=o.get(i.c2e);const c=o.get(i.R0b);this.isNgZoneEnabled=c instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new St(new Tt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ln(s,a,t=>this.triggerEvent(new X(t)),t=>this.triggerEvent(new tt(t))),this.routerState=Yt(this.currentUrlTree,this.rootComponentType),this.transitions=new l.X({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe((0,w.h)(t=>0!==t.id),(0,D.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),(0,N.w)(t=>{let n=!1,r=!1;return(0,c.of)(t).pipe((0,j.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,N.w)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,c.of)(t).pipe((0,N.w)(t=>{const n=this.transitions.getValue();return e.next(new z(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?a.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,(0,N.w)(t=>function(t,e,n,r,i){return new Be(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,D.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,j.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,U.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Xe(t,e,n,r,i,o).recognize();return null===s?Qe(new Je):(0,c.of)(s)}catch(s){return Qe(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,D.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,j.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new K(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new z(n,this.serializeUrl(r),i,o);e.next(a);const u=Yt(r,this.rootComponentType).snapshot;return(0,c.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),a.E}),an(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,j.b)(t=>{const e=new Y(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,D.U)(t=>Object.assign(Object.assign({},t),{guards:Ze(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,U.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?(0,c.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,s.D)(t).pipe((0,U.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,c.of)(!0);const s=o.map(o=>{const s=Ke(o,e,i);let a;if(function(t){return t&&_e(t.canDeactivate)}(s))a=mt(s.canDeactivate(t,e,n,r));else{if(!_e(s))throw new Error("Invalid CanDeactivate guard");a=mt(s(t,e,n,r))}return a.pipe((0,V.P)())});return(0,c.of)(s).pipe(Te())}(t.component,t.route,n,e,r)),(0,V.P)(t=>!0!==t,!0))}(a,r,i,t).pipe((0,U.zg)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return(0,s.D)(e).pipe((0,M.b)(e=>(0,d.z)(function(t,e){return null!==t&&e&&e(new et(t)),(0,c.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new rt(t)),(0,c.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>u(()=>{const i=e.guards.map(i=>{const o=Ke(i,e.node,n);let s;if(function(t){return t&&_e(t.canActivateChild)}(o))s=mt(o.canActivateChild(r,t));else{if(!_e(o))throw new Error("Invalid CanActivateChild guard");s=mt(o(r,t))}return s.pipe((0,V.P)())});return(0,c.of)(i).pipe(Te())}));return(0,c.of)(i).pipe(Te())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,c.of)(!0);const i=r.map(r=>u(()=>{const i=Ke(r,e,n);let o;if(function(t){return t&&_e(t.canActivate)}(i))o=mt(i.canActivate(e,t));else{if(!_e(i))throw new Error("Invalid CanActivate guard");o=mt(i(e,t))}return o.pipe((0,V.P)())}));return(0,c.of)(i).pipe(Te())}(t,e.route,n))),(0,V.P)(t=>!0!==t,!0))}(r,o,t,e):(0,c.of)(n)),(0,D.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,j.b)(t=>{if(Ee(t.guardsResult)){const e=ct(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new W(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),(0,w.h)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new $(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),an(t=>{if(t.guards.canActivateChecks.length)return(0,c.of)(t).pipe((0,j.b)(t=>{const e=new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,N.w)(t=>{let n=!1;return(0,c.of)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,U.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,c.of)(t);let o=0;return(0,s.D)(n).pipe((0,M.b)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,c.of)({});const o={};return(0,s.D)(i).pipe((0,U.zg)(i=>function(t,e,n,r){const i=Ke(t,e,r);return mt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,j.b)(t=>{o[i]=t}))),S(1),(0,U.zg)(()=>Object.keys(o).length===i.length?(0,c.of)(o):a.E))}(t._resolve,t,e,r).pipe((0,D.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Jt(t,n).resolve),null)))}(t.route,e,r,i)),(0,j.b)(()=>o++),S(1),(0,U.zg)(e=>o===n.length?(0,c.of)(t):a.E))})),(0,j.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new $(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),(0,j.b)(t=>{const e=new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),an(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,D.U)(t=>{const e=function(t,e,n){const r=ie(t,e._root,n?n._root:void 0);return new Kt(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,j.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,l=this.routeReuseStrategy,h=t=>this.triggerEvent(t),(0,D.U)(t=>(new ve(l,t.targetRouterState,t.currentRouterState,h).activate(o),t))),(0,j.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new $(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new O(i))),y(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ee(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new $(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Z(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return a.E}));var i,o,l,h}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ie(t),this.config=t.map(ke),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ue(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new le(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return gt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new le(n,e,r)}(n);if(o.toRoot())return ue(e.root,new Tt([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new he(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new he(t,t===e.root,0)}const r=se(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new he(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?de(s.segmentGroup,s.index,o.commands):fe(s.segmentGroup,s.index,o.commands);return ue(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ee(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},yn):!1===e?Object.assign({},vn):e,Ee(t))return bt(this.currentUrlTree,t,n);const r=this.parseUrl(t);return bt(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new H(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.DyG),i.LFG(xt),i.LFG(fn),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),wn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new g.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:En(this.skipLocationChange),replaceUrl:En(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:En(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(bn),i.Y36(Wt),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t})(),_n=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new g.xQ,this.subscription=t.events.subscribe(t=>{t instanceof H&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:En(this.skipLocationChange),replaceUrl:En(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:En(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(bn),i.Y36(Wt),i.Y36(r.S$))},t.\u0275dir=i.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Ikx("href",e.href,i.LSH),i.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t})();function En(t){return""===t||!!t}let Sn=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||st,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Tn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(fn),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Tn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Wt?this.route:t===fn?this.childContexts:this.parent.get(t,e)}}class Cn{}class In{preload(t,e){return(0,c.of)(null)}}let xn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ln(e,n,e=>t.triggerEvent(new X(e)),e=>t.triggerEvent(new tt(e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,w.h)(t=>t instanceof H),(0,M.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,s.D)(n).pipe((0,G.J)(),(0,D.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,c.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,U.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(bn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Cn))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),An=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof H&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ot&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ot(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(bn),i.LFG(r.EM),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const kn=new i.OlP("ROUTER_CONFIGURATION"),On=new i.OlP("ROUTER_FORROOT_GUARD"),Pn=[r.Ye,{provide:xt,useClass:At},{provide:bn,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new bn(null,t,e,n,r,i,o,dt(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[xt,fn,r.Ye,i.zs3,i.v3s,i.Sil,cn,kn,[class{},new i.FiY],[class{},new i.FiY]]},fn,{provide:Wt,useFactory:function(t){return t.routerState.root},deps:[bn]},{provide:i.v3s,useClass:i.EAV},xn,In,class{preload(t,e){return e().pipe(y(()=>(0,c.of)(null)))}},{provide:kn,useValue:{enableTracing:!1}}];function Dn(){return new i.PXZ("Router",bn)}let Nn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Pn,Mn(e),{provide:On,useFactory:Fn,deps:[[bn,new i.FiY,new i.tp0]]},{provide:kn,useValue:n||{}},{provide:r.S$,useFactory:Ln,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],kn]},{provide:An,useFactory:Rn,deps:[bn,r.EM,kn]},{provide:Cn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:In},{provide:i.PXZ,multi:!0,useFactory:Dn},[Vn,{provide:i.ip1,multi:!0,useFactory:Un,deps:[Vn]},{provide:qn,useFactory:jn,deps:[Vn]},{provide:i.tb,multi:!0,useExisting:qn}]]}}static forChild(e){return{ngModule:t,providers:[Mn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(On,8),i.LFG(bn,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function Rn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new An(t,e,n)}function Ln(t,e,n={}){return n.useHash?new r.Do(t,e):new r.b0(t,e)}function Fn(t){return"guarded"}function Mn(t){return[{provide:i.deG,multi:!0,useValue:t},{provide:cn,multi:!0,useValue:t}]}let Vn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new g.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(bn),r=this.injector.get(kn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,c.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(kn),n=this.injector.get(xn),r=this.injector.get(An),o=this.injector.get(bn),s=this.injector.get(i.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function Un(t){return t.appInitializer.bind(t)}function jn(t){return t.bootstrapListener.bind(t)}const qn=new i.OlP("Router Initializer")},1062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(4762),s=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.6.7",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.26",void 0),t.registerVersion("fire-js","")}(w);const _=w},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(a,s),a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.has(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},308:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>f,Am:()=>d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},250:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>b,r3:()=>E,Sg:()=>u,ne:()=>S,p$:()=>o,ZB:()=>s,m9:()=>I,z$:()=>c,jU:()=>f,ru:()=>d,d:()=>g,w1:()=>m,uI:()=>l,UG:()=>h,b$:()=>p,Mn:()=>y});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function I(t){return t&&t._delegate?t._delegate:t}},1858:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(1062),i="8.6.7";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},9131:(t,e,n)=>{"use strict";n.d(e,{cD:()=>s});var r=n(5366),i=n(1116);let o=(()=>{class t{constructor(t){this.ngZone=t,this.fns=[],this.commands=[],this.nextTime=0,this.ing=!1}start(){!0!==this.ing&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let t=+new Date-this.nextTime;const e=1+Math.floor(t/100);t=100-t%100,this.nextTime+=100*e;for(let n=0,r=this.fns.length;n<r;n+=2){let t=this.fns[n+1];if(0===t)this.fns[n](e);else{t+=2*e-1;const r=Math.floor(t/20);r>0&&this.fns[n](r),this.fns[n+1]=t%20+1}}this.ing&&setTimeout(()=>this.process(),t)}add(t,e){return this.commands.push(()=>{this.fns.push(t),this.fns.push(1e3===e?1:0),this.ing=!0}),this}remove(t){return this.commands.push(()=>{const e=this.fns.indexOf(t);-1!==e&&this.fns.splice(e,2),this.ing=this.fns.length>0}),this}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[o],imports:[[i.ez]]}),t})()},9282:(t,e,n)=>{"use strict";n.d(e,{JX:()=>I,LS:()=>E,_s:()=>v});var r=n(5366),i=n(1116);function o(t,e){if(1&t){var n=r.EpF();r.TgZ(0,"a",11),r.NdJ("keyup.enter",function(){return r.CHM(n),r.oxw(3),r.MAs(1).previous()})("click",function(){return r.CHM(n),r.oxw(3),r.MAs(1).previous()}),r._uU(1),r.TgZ(2,"span",12),r._uU(3),r.qZA(),r.qZA()}if(2&t){var i=r.oxw(3);r.uIk("aria-label",i.previousLabel+" "+i.screenReaderPageLabel),r.xp6(1),r.hij(" ",i.previousLabel," "),r.xp6(2),r.Oqu(i.screenReaderPageLabel)}}function s(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.TgZ(2,"span",12),r._uU(3),r.qZA(),r.qZA()),2&t){var n=r.oxw(3);r.xp6(1),r.hij(" ",n.previousLabel," "),r.xp6(2),r.Oqu(n.screenReaderPageLabel)}}function a(t,e){if(1&t&&(r.TgZ(0,"li",8),r.YNc(1,o,4,3,"a",9),r.YNc(2,s,4,2,"span",10),r.qZA()),2&t){r.oxw(2);var n=r.MAs(1);r.ekj("disabled",n.isFirstPage()),r.xp6(1),r.Q6J("ngIf",1<n.getCurrent()),r.xp6(1),r.Q6J("ngIf",n.isFirstPage())}}function u(t,e){if(1&t){var n=r.EpF();r.TgZ(0,"a",11),r.NdJ("keyup.enter",function(){r.CHM(n);var t=r.oxw().$implicit;return r.oxw(2),r.MAs(1).setCurrent(t.value)})("click",function(){r.CHM(n);var t=r.oxw().$implicit;return r.oxw(2),r.MAs(1).setCurrent(t.value)}),r.TgZ(1,"span",12),r._uU(2),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"number"),r.qZA(),r.qZA()}if(2&t){var i=r.oxw().$implicit,o=r.oxw(2);r.xp6(2),r.hij("",o.screenReaderPageLabel," "),r.xp6(2),r.Oqu("..."===i.label?i.label:r.xi3(5,2,i.label,""))}}function c(t,e){if(1&t&&(r.ynx(0),r.TgZ(1,"span",12),r._uU(2),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"number"),r.qZA(),r.BQk()),2&t){var n=r.oxw().$implicit,i=r.oxw(2);r.xp6(2),r.hij("",i.screenReaderCurrentLabel," "),r.xp6(2),r.Oqu("..."===n.label?n.label:r.xi3(5,2,n.label,""))}}function l(t,e){if(1&t&&(r.TgZ(0,"li"),r.YNc(1,u,6,5,"a",9),r.YNc(2,c,6,5,"ng-container",10),r.qZA()),2&t){var n=e.$implicit;r.oxw(2);var i=r.MAs(1);r.ekj("current",i.getCurrent()===n.value)("ellipsis","..."===n.label),r.xp6(1),r.Q6J("ngIf",i.getCurrent()!==n.value),r.xp6(1),r.Q6J("ngIf",i.getCurrent()===n.value)}}function h(t,e){if(1&t){var n=r.EpF();r.TgZ(0,"a",11),r.NdJ("keyup.enter",function(){return r.CHM(n),r.oxw(3),r.MAs(1).next()})("click",function(){return r.CHM(n),r.oxw(3),r.MAs(1).next()}),r._uU(1),r.TgZ(2,"span",12),r._uU(3),r.qZA(),r.qZA()}if(2&t){var i=r.oxw(3);r.uIk("aria-label",i.nextLabel+" "+i.screenReaderPageLabel),r.xp6(1),r.hij(" ",i.nextLabel," "),r.xp6(2),r.Oqu(i.screenReaderPageLabel)}}function f(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.TgZ(2,"span",12),r._uU(3),r.qZA(),r.qZA()),2&t){var n=r.oxw(3);r.xp6(1),r.hij(" ",n.nextLabel," "),r.xp6(2),r.Oqu(n.screenReaderPageLabel)}}function d(t,e){if(1&t&&(r.TgZ(0,"li",13),r.YNc(1,h,4,3,"a",9),r.YNc(2,f,4,2,"span",10),r.qZA()),2&t){r.oxw(2);var n=r.MAs(1);r.ekj("disabled",n.isLastPage()),r.xp6(1),r.Q6J("ngIf",!n.isLastPage()),r.xp6(1),r.Q6J("ngIf",n.isLastPage())}}function p(t,e){if(1&t&&(r.TgZ(0,"ul",3),r.YNc(1,a,3,4,"li",4),r.TgZ(2,"li",5),r._uU(3),r.qZA(),r.YNc(4,l,3,6,"li",6),r.YNc(5,d,3,4,"li",7),r.qZA()),2&t){var n=r.oxw(),i=r.MAs(1);r.ekj("responsive",n.responsive),r.uIk("aria-label",n.screenReaderPaginationLabel),r.xp6(1),r.Q6J("ngIf",n.directionLinks),r.xp6(2),r.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),r.xp6(1),r.Q6J("ngForOf",i.pages)("ngForTrackBy",n.trackByIndex),r.xp6(1),r.Q6J("ngIf",n.directionLinks)}}var g=function(){function t(){this.change=new r.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),m=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=Number.MAX_SAFE_INTEGER,v=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,i,o=e.totalItems&&e.totalItems!==t.length,s=this.createInstance(t,e),a=s.id,u=s.itemsPerPage,c=this.service.register(s);if(!o&&t instanceof Array){if(this.stateIsIdentical(a,t,r=(s.currentPage-1)*(u=+u||y),i=r+u))return this.state[a].slice;var l=t.slice(r,i);return this.saveState(a,t,l,r,i),this.service.change.emit(a),l}return c&&this.service.change.emit(a),this.saveState(a,t,t,r,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter(function(e){return!(e in t)});if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,i){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:i}},t.prototype.stateIsIdentical=function(t,e,n,r){var i=this.state[t];return!!i&&!(i.size!==e.length||i.start!==n||i.end!==r)&&i.slice.every(function(t,r){return t===e[n+r]})},(t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([m("design:paramtypes",[g])],t)).\u0275fac=function(e){return new(e||t)(r.Y36(g,16))},t.\u0275pipe=r.Yjl({name:"paginate",type:t,pure:!1}),t}(),b=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},w=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function _(t){return!!t&&"false"!==t}var E=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.vpe,this.pageBoundsCorrection=new r.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=_(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=_(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=_(t)},enumerable:!0,configurable:!0}),t.prototype.trackByIndex=function(t){return t},b([(0,r.IIB)(),w("design:type",String)],t.prototype,"id",void 0),b([(0,r.IIB)(),w("design:type",Number)],t.prototype,"maxSize",void 0),b([(0,r.IIB)(),w("design:type",Boolean),w("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),b([(0,r.IIB)(),w("design:type",Boolean),w("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),b([(0,r.IIB)(),w("design:type",Boolean),w("design:paramtypes",[Boolean])],t.prototype,"responsive",null),b([(0,r.IIB)(),w("design:type",String)],t.prototype,"previousLabel",void 0),b([(0,r.IIB)(),w("design:type",String)],t.prototype,"nextLabel",void 0),b([(0,r.IIB)(),w("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),b([(0,r.IIB)(),w("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),b([(0,r.IIB)(),w("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),b([(0,r.r_U)(),w("design:type",r.vpe)],t.prototype,"pageChange",void 0),b([(0,r.r_U)(),w("design:type",r.vpe)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(r.TgZ(0,"pagination-template",0,1),r.NdJ("pageChange",function(t){return e.pageChange.emit(t)})("pageBoundsCorrection",function(t){return e.pageBoundsCorrection.emit(t)}),r.YNc(2,p,6,9,"ul",2),r.qZA()),2&t){var n=r.MAs(1);r.Q6J("id",e.id)("maxSize",e.maxSize),r.xp6(2),r.Q6J("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[C,i.O5,i.sg]},pipes:function(){return[i.JJ]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),S=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},T=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new r.vpe,this.pageBoundsCorrection=new r.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())})}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout(function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var i=[],o=Math.max(Math.ceil(n/e),1),s=Math.ceil(r/2),a=t<=s,u=o-s<t,c=!a&&!u,l=r<o,h=1;h<=o&&h<=r;){var f=this.calculatePageNumber(h,t,r,o);i.push({label:l&&(2===h&&(c||u)||h===r-1&&(c||a))?"...":f,value:f}),h++}return i},t.prototype.calculatePageNumber=function(t,e,n,r){var i=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-i<e?r-n+t:i<e?e-i+t:t:t},S([(0,r.IIB)(),T("design:type",String)],t.prototype,"id",void 0),S([(0,r.IIB)(),T("design:type",Number)],t.prototype,"maxSize",void 0),S([(0,r.r_U)(),T("design:type",r.vpe)],t.prototype,"pageChange",void 0),S([(0,r.r_U)(),T("design:type",r.vpe)],t.prototype,"pageBoundsCorrection",void 0),(t=S([T("design:paramtypes",[g,r.sBO])],t)).\u0275fac=function(e){return new(e||t)(r.Y36(g),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[r.TTD]}),t}(),I=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[g],imports:[[i.ez]]}),t}()},8512:(t,e,n)=>{"use strict";n.d(e,{X:()=>o});var r=n(5959),i=n(3895);class o extends r.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value}next(t){super.next(this._value=t)}}},8861:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var r=n(653),i=n(878),o=n(8318);let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return t=this.error,new o.y(e=>e.error(t));case"C":return(0,r.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(6673),i=n(5331),o=n(7498),s=n(6197),a=n(3392),u=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(1484),i=n(4294);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9829:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});var r=n(6673);class i extends r.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),o=n(7570),s=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(7570);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(5024),i=n(7498),o=n(7570),s=n(5331),a=n(1484),u=n(4294);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(8470),i=n(2056),o=n(5024);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,o.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),o=n(6015);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),o=n(7570),s=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},1305:(t,e,n)=>{"use strict";n.d(e,{aj:()=>c});var r=n(6163),i=n(8470),o=n(9829),s=n(7e3),a=n(9342);const u={};function c(...t){let e,n;return(0,r.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,i.k)(t[0])&&(t=t[0]),(0,a.n)(t,n).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends o.L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(u),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add((0,s.D)(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===u?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7930:(t,e,n)=>{"use strict";n.d(e,{z:()=>o});var r=n(878),i=n(7471);function o(...t){return(0,i.J)(1)((0,r.of)(...t))}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(8318);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(8318),i=n(6015),o=n(7570),s=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(8318),i=n(625),o=n(2570);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(8318),i=n(6163),o=n(7471),s=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(6163),i=n(9342),o=n(2570);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},436:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});var r=n(3982);function i(t,e){return(0,r.zg)(t,e,1)}},7768:(t,e,n)=>{"use strict";n.d(e,{d:()=>i});var r=n(6673);function i(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new s(t,this.defaultValue))}}class s extends r.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8720:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends r.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},3835:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var r=n(6673);function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},3530:(t,e,n)=>{"use strict";n.d(e,{P:()=>c});var r=n(9665),i=n(3835),o=n(611),s=n(7768),a=n(790),u=n(3392);function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?(0,i.h)((e,n)=>t(e,n,c)):u.y,(0,o.q)(1),n?(0,s.d)(e):(0,a.T)(()=>new r.K))}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(3982),i=n(3392);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(9996),i=n(9764),o=n(6882);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},45:(t,e,n)=>{"use strict";n.d(e,{QV:()=>o,ht:()=>a});var r=n(6673),i=n(8861);function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.P.createNext(t))}_error(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2023:(t,e,n)=>{"use strict";n.d(e,{R:()=>i});var r=n(6673);function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},1055:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2875),i=n(1564),o=n(5959);function s(){return new o.xQ}function a(){return t=>{return(0,i.x)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},6238:(t,e,n)=>{"use strict";n.d(e,{O:()=>o});var r=n(7930),i=n(6163);function o(...t){const e=t[t.length-1];return(0,i.K)(e)?(t.pop(),n=>(0,r.z)(t,n,e)):e=>(0,r.z)(t,e)}},2893:(t,e,n)=>{"use strict";n.d(e,{R:()=>m});var r=n(8318);let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class f extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n(2293);class g extends r.y{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,p.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},4689:(t,e,n)=>{"use strict";n.d(e,{w:()=>s});var r=n(9996),i=n(9764),o=n(6882);function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends o.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,o.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},611:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var r=n(6673),i=n(8402),o=n(653);function s(t){return e=>0===t?(0,o.c)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.W}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},4019:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(6673),i=n(6054),o=n(5024);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.Z,this._tapError=e.error||i.Z,this._tapComplete=e.complete||i.Z)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},790:(t,e,n)=>{"use strict";n.d(e,{T:()=>o});var r=n(9665),i=n(6673);function o(t=u){return e=>e.lift(new s(t))}class s{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.K}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(8318),i=n(7570);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(7570);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(8277);const i=new(n(1098).v)(r.o),o=i},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n(1098);class s extends o.v{}const a=new s(i),u=a},5686:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});const i=r()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},8402:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},9665:(t,e,n)=>{"use strict";n.d(e,{K:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},3392:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2293:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(8470);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},2056:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},5168:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},6163:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},6054:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(625),i=n(4294),o=n(5686),s=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},7e3:(t,e,n)=>{"use strict";n.d(e,{D:()=>a});var r=n(6673);class i extends r.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var o=n(6015),s=n(8318);function a(t,e,n,r,a=new i(t,n,r)){if(!a.closed)return e instanceof s.y?e.subscribe(a):(0,o.s)(e)(a)}},8253:(t,e,n)=>{"use strict";n.d(e,{x:()=>r});class r{}},8452:(t,e,n)=>{"use strict";n.d(e,{G:()=>r});class r{}},5986:(t,e,n)=>{"use strict";n.d(e,{_:()=>r});class r{}},1538:(t,e,n)=>{"use strict";n.d(e,{d:()=>r});class r{}},6603:(t,e,n)=>{"use strict";n.d(e,{G:()=>r});class r{}},1008:(t,e,n)=>{"use strict";n.d(e,{s:()=>r});class r{}},2231:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});class r{}},4155:(t,e,n)=>{"use strict";n.d(e,{e:()=>a});var r=n(6304),i=n(3530),o=n(5366),s=n(5912);let a=(()=>{class t{constructor(t){this.afAuth=t}login(t,e){var n=this;return(0,r.Z)(function*(){try{return yield n.afAuth.signInWithEmailAndPassword(t,e)}catch(r){return console.log(r),null}})()}register(t,e){var n=this;return(0,r.Z)(function*(){try{return yield n.afAuth.createUserWithEmailAndPassword(t,e)}catch(r){return console.log(r),null}})()}logout(){var t=this;return(0,r.Z)(function*(){try{yield t.afAuth.signOut()}catch(e){console.log(e)}})()}getCurrentUser(){return this.afAuth.authState.pipe((0,i.P)()).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(s.zQ))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},9497:(t,e,n)=>{"use strict";var r=n(1116),i=n(5366);class o extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class s extends o{static makeCurrent(){(0,r.HT)(new s)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(u=u||document.querySelector("base"),u?u.getAttribute("href"):null);return null==e?null:function(t){a=a||document.createElement("a"),a.setAttribute("href",t);const e=a.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return(0,r.Mx)(document.cookie,t)}}let a,u=null;const c=new i.OlP("TRANSITION_ID"),l=[{provide:i.ip1,useFactory:function(t,e,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.K0,i.zs3],multi:!0}];class h{static init(){(0,i.VLi)(new h)}addToWindow(t){i.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(t=>{const e=i.dqk.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?(0,r.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let f=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const d=new i.OlP("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(d),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class g{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=(0,r.q)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),y=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(v),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(v))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function v(t){(0,r.q)().remove(t)}const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},w=/%COMP%/g;function _(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?_(t,i,n):(i=i.replace(w,t),n.push(i))}return n}function E(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let S=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new T(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.ifc.ShadowDom:return new I(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=_(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(p),i.LFG(y),i.LFG(i.AFp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class T{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(b[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=b[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=b[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,n,r&i.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,E(n)):this.eventManager.addEventListener(t,e,E(n))}}class C extends T{constructor(t,e,n,r){super(t),this.component=n;const i=_(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(w,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(w,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class I extends T{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=_(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let x=(()=>{class t extends g{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const A=["alt","control","meta","shift"],k={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},P={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let D=(()=>{class t extends g{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const o=t.parseEventName(n),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(A.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&O.hasOwnProperty(e)&&(e=O[e]))}return k[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,P[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const N=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:r.bD},{provide:i.g9A,useValue:function(){s.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),R=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:d,useClass:x,multi:!0,deps:[r.K0,i.R0b,i.Lbi]},{provide:d,useClass:D,multi:!0,deps:[r.K0]},[],{provide:S,useClass:S,deps:[p,y,i.AFp]},{provide:i.FYo,useExisting:S},{provide:m,useExisting:y},{provide:y,useClass:y,deps:[r.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:p,useClass:p,deps:[d,i.R0b]},{provide:r.JF,useClass:f,deps:[]},[]];let L=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.AFp,useValue:e.appId},{provide:c,useExisting:i.AFp},l]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t,12))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:R,imports:[r.ez,i.hGG]}),t})();"undefined"!=typeof window&&window;var F=n(9282),M=n(1462),V=n(2754);const U=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadChildren:()=>n.e(717).then(n.bind(n,7717)).then(t=>t.HomeModule)},{path:"login/:typeUser",loadChildren:()=>n.e(933).then(n.bind(n,933)).then(t=>t.LoginModule)},{path:"administrar-usuarios",loadChildren:()=>Promise.all([n.e(408),n.e(302)]).then(n.bind(n,302)).then(t=>t.AdministrarUsuariosModule)},{path:"grados-academicos/:typeUser",loadChildren:()=>Promise.all([n.e(592),n.e(673)]).then(n.bind(n,1673)).then(t=>t.GradosAcademicosModule)},{path:"cursos/:id/:typeUser",loadChildren:()=>n.e(798).then(n.bind(n,2798)).then(t=>t.CursosModule)},{path:"temas",loadChildren:()=>Promise.all([n.e(592),n.e(23)]).then(n.bind(n,8023)).then(t=>t.TemasModule)},{path:"administrar-temas/:idGrado/:idCurso/:curso/:typeUser",loadChildren:()=>Promise.all([n.e(408),n.e(592),n.e(83)]).then(n.bind(n,3532)).then(t=>t.AdministrarTemasModule)},{path:"administrar-sub-temas/:idTema/:tema/:typeUser",loadChildren:()=>Promise.all([n.e(408),n.e(592),n.e(658)]).then(n.bind(n,8658)).then(t=>t.AdministrarSubTemasModule)},{path:"inicio",loadChildren:()=>Promise.all([n.e(592),n.e(224)]).then(n.bind(n,9224)).then(t=>t.InicioModule)},{path:"administrar-preguntas/:idSubTema/:subtema/:typeUser",loadChildren:()=>Promise.all([n.e(408),n.e(592),n.e(537)]).then(n.bind(n,6537)).then(t=>t.AdministrarPreguntasModule)},{path:"responder-preguntas/:idTema/:orden",loadChildren:()=>Promise.all([n.e(592),n.e(415)]).then(n.bind(n,3415)).then(t=>t.ResponderPreguntasModule)},{path:"dar-respuestas/:idPregunta/:ruta/:idtema",loadChildren:()=>Promise.all([n.e(592),n.e(712)]).then(n.bind(n,2712)).then(t=>t.RespuestasModule)}];let j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[V.Bz.forRoot(U)],V.Bz]}),t})();var q=n(6304),G=n(4155);function B(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"li",13),i.TgZ(1,"a",14),i.NdJ("click",function(){return i.CHM(t),i.oxw(3).onLogout()}),i._UZ(2,"i",15),i.qZA(),i.qZA()}}function z(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",8),i.TgZ(1,"button",9),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).changeProfile()}),i._UZ(2,"i",10),i.qZA(),i.TgZ(3,"ul",11),i.YNc(4,B,3,0,"li",12),i.qZA(),i.qZA()}if(2&t){const t=i.oxw().ngIf;i.xp6(4),i.Q6J("ngIf",t)}}function H(t,e){1&t&&(i.TgZ(0,"a",21),i._uU(1,"Home"),i.qZA())}function $(t,e){1&t&&(i.TgZ(0,"a",22),i._uU(1,"Grados"),i.qZA())}function Z(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"li",13),i.TgZ(1,"a",23),i.NdJ("click",function(){return i.CHM(t),i.oxw(3).onLogout()}),i._UZ(2,"i",15),i.qZA(),i.qZA()}}function K(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",8),i.TgZ(1,"span",16),i._uU(2,"VISTA ESTUDIANTE"),i.qZA(),i.TgZ(3,"button",17),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).changeProfile()}),i._UZ(4,"i",10),i.qZA(),i.TgZ(5,"ul",11),i.TgZ(6,"li",18),i.YNc(7,H,2,0,"a",19),i.qZA(),i.TgZ(8,"li",18),i.YNc(9,$,2,0,"a",20),i.qZA(),i.YNc(10,Z,3,0,"li",12),i.qZA(),i.qZA()}if(2&t){const t=i.oxw().ngIf;i.xp6(7),i.Q6J("ngIf",t),i.xp6(2),i.Q6J("ngIf",t),i.xp6(1),i.Q6J("ngIf",t)}}function Y(t,e){if(1&t&&(i.TgZ(0,"nav",2),i.TgZ(1,"a",3),i._UZ(2,"img",4),i._uU(3," -LEARNING PLATFORM"),i.qZA(),i.TgZ(4,"button",5),i._UZ(5,"span",6),i.qZA(),i.YNc(6,z,5,1,"div",7),i.YNc(7,K,11,3,"div",7),i.qZA()),2&t){const t=i.oxw();i.xp6(6),i.Q6J("ngIf",!t.isStudent),i.xp6(1),i.Q6J("ngIf",t.isStudent)}}function W(t,e){}let J=(()=>{class t{constructor(t,e){this.auth=t,this.router=e,this.user$=this.auth.afAuth.user,this.isStudent=!1}onLogout(){var t=this;return(0,q.Z)(function*(){try{yield t.auth.logout(),t.router.navigate(["/home"])}catch(e){console.log(e)}})()}changeProfile(){this.isStudent=!this.isStudent,console.log(this.isStudent)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(G.e),i.Y36(V.F0))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-navbar"]],decls:4,vars:4,consts:[["class","navbar navbar-expand-lg navbar-dark bg-dark",4,"ngIf","ngIfElse"],["login",""],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand",2,"margin-left","2%"],["src","../../../../favicon.ico","alt","E-Learning",2,"width","20px"],["type","button","data-toggle","collapse","data-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["class","collapse navbar-collapse","id","navbarText",4,"ngIf"],["id","navbarText",1,"collapse","navbar-collapse"],["type","button","alt","Cambiar Perfil",1,"btn","btn-success",2,"margin-left","60vw",3,"click"],["alt","Cambiar Perfil",1,"fa","fa-exchange",2,"color","white"],[1,"navbar-nav","mx-auto"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["href","#",1,"nav-link",2,"margin-left","0px !important",3,"click"],["alt","Cambiar Perfil",1,"fa","fa-sign-out",2,"color","white"],[2,"color","white","font-weight","700","margin-left","40vw","border","solid yellow","padding","0.4vw"],["type","button","alt","Cambiar Perfil",1,"btn","btn-success",2,"margin-left","12vw",3,"click"],[1,"nav-item","active"],["class","nav-link","routerLink","/inicio",4,"ngIf"],["class","nav-link","routerLink","/grados-academicos/Estudiante",4,"ngIf"],["routerLink","/inicio",1,"nav-link"],["routerLink","/grados-academicos/Estudiante",1,"nav-link"],["href","#",1,"nav-link",3,"click"]],template:function(t,e){if(1&t&&(i.YNc(0,Y,8,2,"nav",0),i.ALo(1,"async"),i.YNc(2,W,0,0,"ng-template",null,1,i.W1O)),2&t){const t=i.MAs(3);i.Q6J("ngIf",i.lcZ(1,2,e.user$))("ngIfElse",t)}},directives:[r.O5,V.yS],pipes:[r.Ov],styles:[""]}),t})();function Q(t,e){1&t&&(i.TgZ(0,"a",13),i._UZ(1,"i",14),i.TgZ(2,"span"),i._uU(3,"Inicio"),i.qZA(),i.qZA())}function X(t,e){1&t&&(i.TgZ(0,"a",15),i._UZ(1,"i",16),i.TgZ(2,"span"),i._uU(3,"Usuarios"),i.qZA(),i.TgZ(4,"span",17),i._uU(5,"14"),i.qZA(),i.qZA())}function tt(t,e){1&t&&(i.TgZ(0,"a",18),i._UZ(1,"i",19),i.TgZ(2,"span"),i._uU(3,"Grados"),i.qZA(),i.TgZ(4,"span",17),i._uU(5,"6"),i.qZA(),i.qZA())}function et(t,e){if(1&t&&(i.TgZ(0,"div",2),i.TgZ(1,"nav",3),i.TgZ(2,"div",4),i._UZ(3,"img",5),i.TgZ(4,"h5",6),i._uU(5," . Prueb"),i.qZA(),i.qZA(),i.TgZ(6,"ul",7),i.TgZ(7,"li",8),i.YNc(8,Q,4,0,"a",9),i.qZA(),i.TgZ(9,"li",10),i.YNc(10,X,6,0,"a",11),i.qZA(),i.TgZ(11,"li",10),i.YNc(12,tt,6,0,"a",12),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.ngIf;i.xp6(8),i.Q6J("ngIf",t),i.xp6(2),i.Q6J("ngIf",t),i.xp6(2),i.Q6J("ngIf",t)}}function nt(t,e){}let rt=(()=>{class t{constructor(t,e,n){this.auth=t,this.router=e,this.route=n,this.user$=this.auth.afAuth.user,this.ans=this.auth.getCurrentUser()}ngOnInit(){console.log(this.ans),console.log(this.user$)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(G.e),i.Y36(V.F0),i.Y36(V.gz))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-sidebar"]],decls:4,vars:4,consts:[["class","col-2",4,"ngIf","ngIfElse"],["login",""],[1,"col-2"],["id","sidebar",1,"navbar","sticky-top"],[1,"navbar-header"],["src","../../../../favicon.ico","alt","Profile picture",1,"rounded-circle"],[1,"navbar-brand","m-1","text-white","pl-2"],[1,"navbar-nav"],[1,"nav-item","active"],["routerLink","/","class","nav-link btn btn-block btn-lg",4,"ngIf"],[1,"nav-item"],["routerLink","/administrar-usuarios","class","nav-link btn btn-block btn-lg",4,"ngIf"],["routerLink","/grados-academicos/Docente","class","nav-link btn btn-block btn-lg",4,"ngIf"],["routerLink","/",1,"nav-link","btn","btn-block","btn-lg"],[1,"fa","fa-home",2,"color","white"],["routerLink","/administrar-usuarios",1,"nav-link","btn","btn-block","btn-lg"],[1,"fa","fa-users",2,"color","white"],[1,"badge","badge-pill","green","d-flex","align-items-center","justify-content-center"],["routerLink","/grados-academicos/Docente",1,"nav-link","btn","btn-block","btn-lg"],[1,"fa","fa-graduation-cap",2,"color","white"]],template:function(t,e){if(1&t&&(i.YNc(0,et,13,3,"div",0),i.ALo(1,"async"),i.YNc(2,nt,0,0,"ng-template",null,1,i.W1O)),2&t){const t=i.MAs(3);i.Q6J("ngIf",i.lcZ(1,2,e.user$))("ngIfElse",t)}},directives:[r.O5,V.yS],pipes:[r.Ov],styles:["#sidebar[_ngcontent-%COMP%]{grid-area:sidebar;width:100%;height:98vh;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;padding:0!important;background-image:linear-gradient(#000002cc,#000)}#sidebar[_ngcontent-%COMP%]   .navbar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-image:linear-gradient(#000c,#020207cc)}#sidebar[_ngcontent-%COMP%]   .navbar-header[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-family:lobster}#sidebar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{margin:30px 15px}#sidebar[_ngcontent-%COMP%]   .navbar-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}#sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:7px 0;padding:10px;text-transform:uppercase;text-align:left;background:linear-gradient(#eeeeee1a,#ffffff1a)}#sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:linear-gradient(hsla(0,2%,74%,.623),#ffffff4d)}#sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr 1fr}#sidebar[_ngcontent-%COMP%]   .nav-link.dropdown-toggle[_ngcontent-%COMP%]:after{margin-top:8px;margin-left:12px}span[_ngcontent-%COMP%]{color:#fff;font-size:15px}"]}),t})(),it=(()=>{class t{constructor(){this.footer_title="Powered by ABC Team",this.isStudent=!1}changeProfile(){this.isStudent=!this.isStudent,console.log(this.isStudent)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:7,vars:1,consts:[[1,"row"],[1,"attribution"]],template:function(t,e){1&t&&(i._UZ(0,"app-navbar"),i.TgZ(1,"div",0),i._UZ(2,"app-sidebar"),i._UZ(3,"router-outlet"),i.qZA(),i.TgZ(4,"footer"),i.TgZ(5,"p",1),i._uU(6),i.qZA(),i.qZA()),2&t&&(i.xp6(6),i.hij(" ",e.footer_title," "))},directives:[J,rt,V.lC],styles:["h1[_ngcontent-%COMP%]{color:#000;font-family:Fredoka One;text-transform:uppercase;font-size:4em;line-height:.7em}.attribution[_ngcontent-%COMP%]{font-size:11px;text-align:center;position:relative;margin-top:-37px}.attribution[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3e52a3}.col-3[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%]{margin-right:0!important}.col-9[_ngcontent-%COMP%]{margin-left:18vw!important;margin-top:-45vw!important;height:40vw!important;width:80%!important;position:absolute;overflow-x:hidden!important;overflow-y:scroll!important}"]}),t})();const ot={apiKey:"AIzaSyDd3Fj5PAK1p3Mc7YLYzxNzAtKGEKKtuPU",authDomain:"i-learning-6b80d.firebaseapp.com",projectId:"i-learning-6b80d",storageBucket:"i-learning-6b80d.appspot.com",messagingSenderId:"852154140192",appId:"1:852154140192:web:e2515451b6f4376a319e45",measurementId:"G-FW4T3BDXB8"};var st=n(878),at=n(8318),ut=n(436),ct=n(3835),lt=n(9996);class ht{}class ft{}class dt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof dt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new dt;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof dt?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class pt{encodeKey(t){return gt(t)}encodeValue(t){return gt(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function gt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function mt(t){return`${t}`}class yt{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new pt,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new yt({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(mt(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(mt(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class vt{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function bt(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function wt(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _t(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Et{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new dt),this.context||(this.context=new vt),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new yt,this.urlWithParams=e}serializeBody(){return null===this.body?null:bt(this.body)||wt(this.body)||_t(this.body)||"string"==typeof this.body?this.body:this.body instanceof yt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_t(this.body)?null:wt(this.body)?this.body.type||null:bt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Et(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var St=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Tt{constructor(t,e=200,n="OK"){this.headers=t.headers||new dt,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ct extends Tt{constructor(t={}){super(t),this.type=St.ResponseHeader}clone(t={}){return new Ct({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class It extends Tt{constructor(t={}){super(t),this.type=St.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new It({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xt extends Tt{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function At(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let kt=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Et)r=t;else{let i,o;i=n.headers instanceof dt?n.headers:new dt(n.headers),n.params&&(o=n.params instanceof yt?n.params:new yt({fromObject:n.params})),r=new Et(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,st.of)(r).pipe((0,ut.b)(t=>this.handler.handle(t)));if(t instanceof Et||"events"===n.observe)return i;const o=i.pipe((0,ct.h)(t=>t instanceof It));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,lt.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe((0,lt.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe((0,lt.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe((0,lt.U)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new yt).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,At(n,e))}post(t,e,n={}){return this.request("POST",t,At(n,e))}put(t,e,n={}){return this.request("PUT",t,At(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ht))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class Ot{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Pt=new i.OlP("HTTP_INTERCEPTORS");let Dt=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Nt=/^\)\]\}',?\n/;let Rt=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new at.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new dt(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Ct({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Nt,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new It({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new xt({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new xt({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:St.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:St.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:St.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.JF))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Lt=new i.OlP("XSRF_COOKIE_NAME"),Ft=new i.OlP("XSRF_HEADER_NAME");class Mt{}let Vt=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,r.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0),i.LFG(i.Lbi),i.LFG(Lt))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Ut=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Mt),i.LFG(Ft))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),jt=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Pt,[]);this.chain=t.reduceRight((t,e)=>new Ot(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ft),i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),qt=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ut,useClass:Dt}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Lt,useValue:e.cookieName}:[],e.headerName?{provide:Ft,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Ut,{provide:Pt,useExisting:Ut,multi:!0},{provide:Mt,useClass:Vt},{provide:Lt,useValue:"XSRF-TOKEN"},{provide:Ft,useValue:"X-XSRF-TOKEN"}]}),t})(),Gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[kt,{provide:ht,useClass:jt},Rt,{provide:ft,useExisting:Rt}],imports:[[qt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Bt=n(8569),zt=n(9764),Ht=n(6238),$t=n(6673);function Zt(){return t=>t.lift(new Kt)}class Kt{call(t,e){return e.subscribe(new Yt(t))}}class Yt extends $t.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Wt=n(2023),Jt=n(8720),Qt=n(45),Xt=n(2346),te=n(1858),ee=n(1062),ne=n(250),re=n(308),ie=function(t,e){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function oe(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var se,ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ue=ue||{},ce=ae||self;function le(){}function he(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function fe(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var de="closure_uid_"+(1e9*Math.random()>>>0),pe=0;function ge(t,e,n){return t.call.apply(t.bind,arguments)}function me(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ye(t,e,n){return(ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ge:me).apply(null,arguments)}function ve(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function be(){return Date.now()}function we(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function _e(){this.j=this.j,this.i=this.i}_e.prototype.j=!1,_e.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,de)&&t[de]||(t[de]=++pe)}(this)},_e.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ee=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Se=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Te(t){return Array.prototype.concat.apply([],arguments)}function Ce(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ie(t){return/^[\s\xa0]*$/.test(t)}var xe,Ae=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ke(t,e){return-1!=t.indexOf(e)}function Oe(t,e){return t<e?-1:t>e?1:0}t:{var Pe=ce.navigator;if(Pe){var De=Pe.userAgent;if(De){xe=De;break t}}xe=""}function Ne(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Re(t){var e={};for(var n in t)e[n]=t[n];return e}var Le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fe(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Le.length;o++)n=Le[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Me(t){return Me[" "](t),t}Me[" "]=le;var Ve,Ue,je=ke(xe,"Opera"),qe=ke(xe,"Trident")||ke(xe,"MSIE"),Ge=ke(xe,"Edge"),Be=Ge||qe,ze=ke(xe,"Gecko")&&!(ke(xe.toLowerCase(),"webkit")&&!ke(xe,"Edge"))&&!(ke(xe,"Trident")||ke(xe,"MSIE"))&&!ke(xe,"Edge"),He=ke(xe.toLowerCase(),"webkit")&&!ke(xe,"Edge");function $e(){var t=ce.document;return t?t.documentMode:void 0}t:{var Ze="",Ke=(Ue=xe,ze?/rv:([^\);]+)(\)|;)/.exec(Ue):Ge?/Edge\/([\d\.]+)/.exec(Ue):qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ue):He?/WebKit\/(\S+)/.exec(Ue):je?/(?:Version)[ \/]?(\S+)/.exec(Ue):void 0);if(Ke&&(Ze=Ke?Ke[1]:""),qe){var Ye=$e();if(null!=Ye&&Ye>parseFloat(Ze)){Ve=String(Ye);break t}}Ve=Ze}var We={};function Je(t){return function(t,e){var n=We;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ae(String(Ve)).split("."),r=Ae(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Oe(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Oe(0==s[2].length,0==a[2].length)||Oe(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Qe=ce.document&&qe&&($e()||parseInt(Ve,10))||void 0,Xe=!qe||9<=Number(Qe),tn=qe&&!Je("9"),en=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ce.addEventListener("test",le,e),ce.removeEventListener("test",le,e)}catch(n){}return t}();function nn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rn(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ze){t:{try{Me(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:on[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nn.prototype.b=function(){this.defaultPrevented=!0},we(rn,nn);var on={2:"touch",3:"pen",4:"mouse"};rn.prototype.b=function(){rn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var sn="closure_listenable_"+(1e6*Math.random()|0),an=0;function un(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++an,this.Y=this.Z=!1}function cn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ln(t){this.src=t,this.a={},this.b=0}function hn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ee(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(cn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function fn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ln.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=fn(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new un(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var dn="closure_lm_"+(1e6*Math.random()|0),pn={};function gn(t,e,n,r,i){if(r&&r.once)return yn(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gn(t,e[o],n,r,i);return null}return n=Cn(n),t&&t[sn]?t.wa(e,n,fe(r)?!!r.capture:!!r,i):mn(t,e,n,!1,r,i)}function mn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=fe(i)?!!i.capture:!!i;if(s&&!Xe)return null;var a=Sn(t);if(a||(t[dn]=a=new ln(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=En,e=Xe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)en||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yn(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yn(t,e[o],n,r,i);return null}return n=Cn(n),t&&t[sn]?t.xa(e,n,fe(r)?!!r.capture:!!r,i):mn(t,e,n,!0,r,i)}function vn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vn(t,e[o],n,r,i);else r=fe(r)?!!r.capture:!!r,n=Cn(n),t&&t[sn]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=fn(o=t.a[e],n,r,i))&&(cn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Sn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=fn(e,n,r,i)),(n=-1<t?e[t]:null)&&bn(n))}function bn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[sn])hn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Sn(e))?(hn(n,t),0==n.b&&(n.src=null,e[dn]=null)):cn(t)}}}function wn(t){return t in pn?pn[t]:pn[t]="on"+t}function _n(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bn(t),n.call(r,e)}function En(t,e){if(t.Y)return!0;if(!Xe){if(!e)t:{e=["window","event"];for(var n=ce,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return _n(t,e=new rn(e,this))}return _n(t,new rn(e,this))}function Sn(t){return(t=t[dn])instanceof ln?t:null}var Tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(t){return"function"==typeof t?t:(t[Tn]||(t[Tn]=function(e){return t.handleEvent(e)}),t[Tn])}function In(){_e.call(this),this.c=new ln(this),this.J=this,this.D=null}function xn(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;Fe(e=new nn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=An(s,r,!0,e)&&i}if(i=An(s=e.a=t,r,!0,e)&&i,i=An(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=An(s=e.a=n[o],r,!1,e)&&i}function An(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&hn(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}we(In,_e),In.prototype[sn]=!0,(se=In.prototype).addEventListener=function(t,e,n,r){gn(this,t,e,n,r)},se.removeEventListener=function(t,e,n,r){vn(this,t,e,n,r)},se.H=function(){if(In.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)cn(n[r]);delete e.a[t],e.b--}}this.D=null},se.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},se.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kn=ce.JSON.stringify;function On(){this.b=this.a=null}var Pn,Dn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Rn},function(t){t.reset()});function Nn(){var t=Vn,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rn(){this.next=this.b=this.a=null}function Ln(t){ce.setTimeout(function(){throw t},0)}function Fn(t,e){Pn||function(){var t=ce.Promise.resolve(void 0);Pn=function(){t.then(Un)}}(),Mn||(Pn(),Mn=!0),Vn.add(t,e)}On.prototype.add=function(t,e){var n=Dn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rn.prototype.reset=function(){this.next=this.b=this.a=null};var Mn=!1,Vn=new On;function Un(){for(var t;t=Nn();){try{t.a.call(t.b)}catch(n){Ln(n)}var e=Dn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Mn=!1}function jn(t,e){In.call(this),this.b=t||1,this.a=e||ce,this.f=ye(this.eb,this),this.g=be()}function qn(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Gn(t,e,n){if("function"==typeof t)n&&(t=ye(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ye(t.handleEvent,t)}return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function Bn(t){t.a=Gn(function(){t.a=null,t.c&&(t.c=!1,Bn(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}we(jn,In),(se=jn.prototype).aa=!1,se.M=null,se.eb=function(){if(this.aa){var t=be()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),xn(this,"tick"),this.aa&&(qn(this),this.start()))}},se.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=be())},se.H=function(){jn.X.H.call(this),qn(this),delete this.a};var zn=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ie(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Bn(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(ce.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_e);function Hn(t){_e.call(this),this.b=t,this.a={}}we(Hn,_e);var $n=[];function Zn(t,e,n,r){Array.isArray(n)||(n&&($n[0]=n.toString()),n=$n);for(var i=0;i<n.length;i++){var o=gn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Kn(t){Ne(t.a,function(t,e){this.a.hasOwnProperty(e)&&bn(t)},t),t.a={}}function Yn(){this.a=!0}function Wn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return kn(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Hn.prototype.H=function(){Hn.X.H.call(this),Kn(this)},Hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yn.prototype.info=function(){};var Jn={},Qn=null;function Xn(){return Qn=Qn||new In}function tr(t){nn.call(this,Jn.Ga,t)}function er(t){var e=Xn();xn(e,new tr(e,t))}function nr(t,e){nn.call(this,Jn.STAT_EVENT,t),this.stat=e}function rr(t){var e=Xn();xn(e,new nr(e,t))}function ir(t){nn.call(this,Jn.Ha,t)}function or(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}Jn.Ga="serverreachability",we(tr,nn),Jn.STAT_EVENT="statevent",we(nr,nn),Jn.Ha="timingevent",we(ir,nn);var sr={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},ar={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function ur(){}function cr(){}ur.prototype.b=null;var lr,hr={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function fr(){nn.call(this,"d")}function dr(){nn.call(this,"c")}function pr(){}function gr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Hn(this),this.P=mr,this.R=new jn(t=Be?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}we(fr,nn),we(dr,nn),we(pr,ur),pr.prototype.a=function(){return new XMLHttpRequest},pr.prototype.c=function(){return{}},lr=new pr;var mr=45e3,yr={},vr={};function br(t,e,n){t.G=1,t.i=qr(Lr(e)),t.j=n,t.I=!0,wr(t,null)}function wr(t,e){t.u=be(),Sr(t),t.l=Lr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ti(n.b,"t",r),t.D=0,t.a=Ki(t.g,t.g.C?e:null),0<t.O&&(t.F=new zn(ye(t.Da,t,t.a),t.O)),Zn(t.J,t.a,"readystatechange",t.bb),e=t.B?Re(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),er(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function _r(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Er(t,n);if(i==vr){4==e&&(t.h=4,rr(14),r=!1),Wn(t.c,t.f,null,"[Incomplete Response]");break}if(i==yr){t.h=4,rr(15),Wn(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wn(t.c,t.f,i,null),Ar(t,i)}4==e&&0==n.length&&(t.h=1,rr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ji(e),e.F=!0,rr(11))):(Wn(t.c,t.f,n,"[Invalid Chunked Response]"),xr(t),Ir(t))}function Er(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?vr:(n=Number(e.substring(n,r)),isNaN(n)?yr:(r+=1)+n>e.length?vr:(e=e.substr(r,n),t.D=r+n,e))}function Sr(t){t.T=be()+t.P,Tr(t,t.P)}function Tr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=or(ye(t.$a,t),e)}function Cr(t){t.o&&(ce.clearTimeout(t.o),t.o=null)}function Ir(t){0==t.g.v||t.A||Bi(t.g,t)}function xr(t){Cr(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,qn(t.R),Kn(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function Ar(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ai(n.b,t)))if(n.I=t.N,!t.C&&ai(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(Qp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Gi(n),Pi(n)}Ui(n),rr(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=or(ye(n.Xa,n),6e3));if(1>=si(n.b)&&n.fa){try{n.fa()}catch(Qp){}n.fa=void 0}}else Hi(n,11)}else if((t.C||n.a==t)&&Gi(n),!Ie(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ke(l,"spdy")||ke(l,"quic")||ke(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ui(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,jr(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=be()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=Zi(u,u.C?u.ha:null,u.ga),d.C){ci(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Cr(p),Sr(p)),u.a=d}else Vi(u);0<n.g.length&&Ri(n)}else"stop"!=i[0]&&"close"!=i[0]||Hi(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hi(n,7):Oi(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);er(4)}catch(Qp){}}function kr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(he(t)||"string"==typeof t)Se(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(he(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(he(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Or(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Or)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(se=gr.prototype).setTimeout=function(t){this.P=t},se.bb=function(t){t=t.target;var e=this.F;e&&3==Ii(t)?e.f():this.Da(t)},se.Da=function(t){try{if(t==this.a)t:{var e=Ii(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!Be&&!this.a.$())){this.A||4!=e||7==n||er(8==n||0>=r?3:2),Cr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ie(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,rr(12),xr(this),Ir(this);break t}Wn(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ar(this,u)}this.I?(_r(this,e,o),Be&&this.b&&3==e&&(Zn(this.J,this.R,"tick",this.ab),this.R.start())):(Wn(this.c,this.f,o,null),Ar(this,o)),4==e&&xr(this),this.b&&!this.A&&(4==e?Bi(this.g,this):(this.b=!1,Sr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,rr(12)):(this.h=0,rr(13)),xr(this),Ir(this)}}}catch(c){}},se.ab=function(){if(this.a){var t=Ii(this.a),e=this.a.$();this.D<e.length&&(Cr(this),_r(this,t,e),this.b&&4!=t&&Sr(this))}},se.cancel=function(){this.A=!0,xr(this)},se.$a=function(){this.o=null;var t=be();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(er(3),rr(17)),xr(this),this.h=2,Ir(this)):Tr(this,this.T-t)},(se=Or.prototype).K=function(){Pr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},se.L=function(){return Pr(this),this.a.concat()},se.get=function(t,e){return Dr(this.b,t)?this.b[t]:e},se.set=function(t,e){Dr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},se.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Rr){this.a=void 0!==e?e:t.a,Fr(this,t.f),this.j=t.j,Mr(this,t.c),Vr(this,t.h),this.g=t.g,e=t.b;var n=new Wr;n.c=e.c,e.a&&(n.a=new Or(e.a),n.b=e.b),Ur(this,n),this.i=t.i}else t&&(n=String(t).match(Nr))?(this.a=!!e,Fr(this,n[1]||"",!0),this.j=Gr(n[2]||""),Mr(this,n[3]||"",!0),Vr(this,n[4]),this.g=Gr(n[5]||"",!0),Ur(this,n[6]||"",!0),this.i=Gr(n[7]||"")):(this.a=!!e,this.b=new Wr(null,this.a))}function Lr(t){return new Rr(t)}function Fr(t,e,n){t.f=n?Gr(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Mr(t,e,n){t.c=n?Gr(e,!0):e}function Vr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ur(t,e,n){e instanceof Wr?(t.b=e,function(t,e){e&&!t.f&&(Jr(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Qr(this,e),ti(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Br(e,Kr)),t.b=new Wr(e,t.a))}function jr(t,e,n){t.b.set(e,n)}function qr(t){return jr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^be()).toString(36)),t}function Gr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Br(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,zr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Br(e,Hr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Br(e,Hr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Br(n,"/"==n.charAt(0)?Zr:$r,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Br(n,Yr)),t.join("")};var Hr=/[#\/\?@]/g,$r=/[#\?:]/g,Zr=/[#\?]/g,Kr=/[#\?@]/g,Yr=/#/g;function Wr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jr(t){t.a||(t.a=new Or,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qr(t,e){Jr(t),e=ei(t,e),Dr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pr(t)))}function Xr(t,e){return Jr(t),e=ei(t,e),Dr(t.a.b,e)}function ti(t,e,n){Qr(t,e),0<n.length&&(t.c=null,t.a.set(ei(t,e),Ce(n)),t.b+=n.length)}function ei(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(se=Wr.prototype).add=function(t,e){Jr(this),this.c=null,t=ei(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},se.forEach=function(t,e){Jr(this),this.a.forEach(function(n,r){Se(n,function(n){t.call(e,n,r,this)},this)},this)},se.L=function(){Jr(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},se.K=function(t){Jr(this);var e=[];if("string"==typeof t)Xr(this,t)&&(e=Te(e,this.a.get(ei(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Te(e,t[n])}return e},se.set=function(t,e){return Jr(this),this.c=null,Xr(this,t=ei(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},se.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},se.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ni=function(){return function(t,e){this.b=t,this.a=e}}();function ri(t){this.g=t||ii,t=ce.PerformanceNavigationTiming?0<(t=ce.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ce.ja&&ce.ja.za&&ce.ja.za()&&ce.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ii=10;function oi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function si(t){return t.b?1:t.a?t.a.size:0}function ai(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ui(t,e){t.a?t.a.add(e):t.b=e}function ci(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function li(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=oe(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ce(t.c)}function hi(){}function fi(){this.a=new hi}function di(t,e,n){var r=n||"";try{kr(t,function(t,n){var i=t;fe(t)&&(i=kn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Eg){throw e.push(r+"type="+encodeURIComponent("_badmap")),Eg}}function pi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ri.prototype.cancel=function(){var t,e;if(this.c=li(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=oe(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hi.prototype.stringify=function(t){return ce.JSON.stringify(t,void 0)},hi.prototype.parse=function(t){return ce.JSON.parse(t,void 0)};var gi=ce.JSON.parse;function mi(t){In.call(this),this.headers=new Or,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=yi,this.F=this.G=!1}we(mi,In);var yi="",vi=/^https?$/i,bi=["POST","PUT"];function wi(t){return"content-type"==t.toLowerCase()}function _i(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ei(t),Ti(t)}function Ei(t){t.A||(t.A=!0,xn(t,"complete"),xn(t,"error"))}function Si(t){if(t.b&&void 0!==ue&&(!t.u[1]||4!=Ii(t)||2!=t.W()))if(t.m&&4==Ii(t))Gn(t.Aa,0,t);else if(xn(t,"readystatechange"),4==Ii(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(Nr)[1]||null;if(!o&&ce.self&&ce.self.location){var s=ce.self.location.protocol;o=s.substr(0,s.length-1)}i=!vi.test(o?o.toLowerCase():"")}e=i}if(e)xn(t,"complete"),xn(t,"success");else{t.h=6;try{var a=2<Ii(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ei(t)}}finally{Ti(t)}}}function Ti(t,e){if(t.a){Ci(t);var n=t.a,r=t.u[0]?le:null;t.a=null,t.u=null,e||xn(t,"ready");try{n.onreadystatechange=r}catch(Eg){}}}function Ci(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(ce.clearTimeout(t.o),t.o=null)}function Ii(t){return t.a?t.a.readyState:0}function xi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ne(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):jr(t,e,n))}function Ai(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ki(t){this.qa=0,this.g=[],this.c=new Yn,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Ai("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Ai("baseRetryDelayMs",5e3,t),this.Sa=Ai("retryDelaySeedMs",1e4,t),this.Na=Ai("forwardChannelMaxRetries",2,t),this.na=Ai("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ri(t&&t.concurrentRequestLimit),this.la=new fi,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Oi(t){if(Di(t),3==t.v){var e=t.R++,n=Lr(t.B);jr(n,"SID",t.J),jr(n,"RID",e),jr(n,"TYPE","terminate"),Fi(t,n),(e=new gr(t,t.c,e,void 0)).G=2,e.i=qr(Lr(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(e.i.toString(),"")),!n&&ce.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ki(e.g,null),e.a.ba(e.i)),e.u=be(),Sr(e)}$i(t)}function Pi(t){t.a&&(ji(t),t.a.cancel(),t.a=null)}function Di(t){Pi(t),t.j&&(ce.clearTimeout(t.j),t.j=null),Gi(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ce.clearTimeout(t.h),t.h=null)}function Ni(t,e){t.g.push(new ni(t.Pa++,e)),3==t.v&&Ri(t)}function Ri(t){oi(t.b)||t.h||(t.h=!0,Fn(t.Ca,t),t.u=0)}function Li(t,e){var n;n=e?e.f:t.R++;var r=Lr(t.B);jr(r,"SID",t.J),jr(r,"RID",n),jr(r,"AID",t.P),Fi(t,r),t.i&&t.l&&xi(r,t.i,t.l),n=new gr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Mi(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),ui(t.b,n),br(n,r,e)}function Fi(t,e){t.f&&kr({},function(t,n){jr(e,n,t)})}function Mi(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ye(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{di(l,s,"req"+c+"_")}catch(Do){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Vi(t){t.a||t.j||(t.T=1,Fn(t.Ba,t),t.o=0)}function Ui(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=or(ye(t.Ba,t),zi(t,t.o)),t.o++,0))}function ji(t){null!=t.s&&(ce.clearTimeout(t.s),t.s=null)}function qi(t){t.a=new gr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Lr(t.ma);jr(e,"RID","rpc"),jr(e,"SID",t.J),jr(e,"CI",t.G?"0":"1"),jr(e,"AID",t.P),Fi(t,e),jr(e,"TYPE","xmlhttp"),t.i&&t.l&&xi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=qr(Lr(e)),n.j=null,n.I=!0,wr(n,t)}function Gi(t){null!=t.m&&(ce.clearTimeout(t.m),t.m=null)}function Bi(t,e){var n=null;if(t.a==e){Gi(t),ji(t),t.a=null;var r=2}else{if(!ai(t.b,e))return;n=e.s,ci(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=be()-e.u;var i=t.u;xn(r=Xn(),new ir(r,n,e,i)),Ri(t)}else Vi(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(si(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=or(ye(t.Ca,t,e),zi(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ui(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Hi(t,5);break;case 4:Hi(t,10);break;case 3:Hi(t,6);break;default:Hi(t,2)}}function zi(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function Hi(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ye(t.cb,t);n||(n=new Rr("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||Fr(n,"https"),qr(n)),function(t,e){var n=new Yn;if(ce.Image){var r=new Image;r.onload=ve(pi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ve(pi,n,r,"TestLoadImage: error",!1,e),r.onabort=ve(pi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ve(pi,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else rr(2);t.v=0,t.f&&t.f.sa(e),$i(t),Di(t)}function $i(t){t.v=0,t.I=-1,t.f&&(0==li(t.b).length&&0==t.g.length||(t.b.c.length=0,Ce(t.g),t.g.length=0),t.f.ra())}function Zi(t,e,n){var r=function(t){return t instanceof Rr?Lr(t):new Rr(t,void 0)}(n);if(""!=r.c)e&&Mr(r,e+"."+r.c),Vr(r,r.h);else{var i=ce.location;r=function(t,e,n,r){var i=new Rr(null,void 0);return t&&Fr(i,t),e&&Mr(i,e),n&&Vr(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ne(t.V,function(t,e){jr(r,e,t)}),n=t.oa,(e=t.A)&&n&&jr(r,e,n),jr(r,"VER",t.ia),Fi(t,r),r}function Ki(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mi(t.Oa)).G=t.C,e}function Yi(){}function Wi(){if(qe&&!(10<=Number(Qe)))throw Error("Environmental error: no available transport.")}function Ji(t,e){In.call(this),this.a=new ki(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ie(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ie(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new to(this)}function Qi(t){fr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xi(){dr.call(this),this.status=1}function to(t){this.a=t}function eo(t){this.f=t}function no(t){In.call(this),this.u=t,this.h=void 0,this.readyState=ro,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(se=mi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():lr.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:lr),this.a.onreadystatechange=ye(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void _i(this,o)}t=n||"";var i=new Or(this.headers);r&&kr(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=wi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ce.FormData&&t instanceof ce.FormData,!(0<=Ee(bi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Ci(this),0<this.s&&((this.F=function(t){return qe&&Je(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=ye(this.ya,this)):this.o=Gn(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){_i(this,o)}},se.ya=function(){void 0!==ue&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,xn(this,"timeout"),this.abort(8))},se.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,xn(this,"complete"),xn(this,"abort"),Ti(this))},se.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ti(this,!0)),mi.X.H.call(this)},se.Aa=function(){this.j||(this.B||this.m||this.g?Si(this):this.Za())},se.Za=function(){Si(this)},se.W=function(){try{return 2<Ii(this)?this.a.status:-1}catch(Ue){return-1}},se.$=function(){try{return this.a?this.a.responseText:""}catch(Ue){return""}},se.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gi(e)}},se.va=function(){return this.h},se.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(se=ki.prototype).ia=8,se.v=1,se.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new gr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Fe(r=Re(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Mi(this,n,e),jr(i=Lr(this.B),"RID",t),jr(i,"CVER",22),this.A&&jr(i,"X-HTTP-Session-Id",this.A),Fi(this,i),this.i&&r&&xi(i,this.i,r),ui(this.b,n),this.Ja&&jr(i,"TYPE","init"),this.ea?(jr(i,"$req",e),jr(i,"SID","null"),n.U=!0,br(n,i,null)):br(n,i,e),this.v=2}}else 3==this.v&&(t?Li(this,t):0==this.g.length||oi(this.b)||Li(this))},se.Ba=function(){if(this.j=null,qi(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=or(ye(this.Ya,this),t)}},se.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,rr(10),Pi(this),qi(this))},se.Xa=function(){null!=this.m&&(this.m=null,Pi(this),Ui(this),rr(19))},se.cb=function(t){t?(this.c.info("Successfully pinged google.com"),rr(2)):(this.c.info("Failed to ping google.com"),rr(1))},(se=Yi.prototype).ua=function(){},se.ta=function(){},se.sa=function(){},se.ra=function(){},se.Ka=function(){},Wi.prototype.a=function(t,e){return new Ji(t,e)},we(Ji,In),Ji.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;rr(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=Zi(t,null,t.ga),Ri(t)},Ji.prototype.close=function(){Oi(this.a)},Ji.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,Ni(this.a,e)}else this.m?((e={}).__data__=kn(t),Ni(this.a,e)):Ni(this.a,t)},Ji.prototype.H=function(){this.a.f=null,delete this.f,Oi(this.a),delete this.a,Ji.X.H.call(this)},we(Qi,fr),we(Xi,dr),we(to,Yi),to.prototype.ua=function(){xn(this.a,"a")},to.prototype.ta=function(t){xn(this.a,new Qi(t))},to.prototype.sa=function(t){xn(this.a,new Xi(t))},to.prototype.ra=function(){xn(this.a,"b")},we(eo,ur),eo.prototype.a=function(){return new no(this.f)},eo.prototype.c=function(t){return function(){return t}}({}),we(no,In);var ro=0;function io(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function oo(t){t.readyState=4,t.g=null,t.f=null,t.m=null,so(t)}function so(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(se=no.prototype).open=function(t,e){if(this.readyState!=ro)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,so(this)},se.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},se.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,oo(this)),this.readyState=ro},se.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,so(this)),this.a&&(this.readyState=3,so(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==ce.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,io(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},se.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?oo(this):so(this),3==this.readyState&&io(this)}},se.Va=function(t){this.a&&(this.responseText=t,oo(this))},se.Ua=function(){this.a&&oo(this)},se.ca=function(){this.a&&oo(this)},se.setRequestHeader=function(t,e){this.l.append(t,e)},se.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(no.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),Wi.prototype.createWebChannel=Wi.prototype.a,Ji.prototype.send=Ji.prototype.l,Ji.prototype.open=Ji.prototype.h,Ji.prototype.close=Ji.prototype.close,sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,ar.COMPLETE="complete",cr.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",In.prototype.listen=In.prototype.wa,mi.prototype.listenOnce=mi.prototype.xa,mi.prototype.getLastError=mi.prototype.Ra,mi.prototype.getLastErrorCode=mi.prototype.va,mi.prototype.getStatus=mi.prototype.W,mi.prototype.getResponseJson=mi.prototype.Qa,mi.prototype.getResponseText=mi.prototype.$,mi.prototype.send=mi.prototype.ba;var ao=sr,uo=ar,co=Jn,lo=eo,ho=cr,fo=mi,po=n(4762),go=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();go.o=-1;var mo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yo=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,po.ZT)(e,t),e}(Error),vo=new re.Yd("@firebase/firestore");function bo(){return vo.logLevel}function wo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vo.logLevel<=re.in.DEBUG){var r=e.map(So);vo.debug.apply(vo,(0,po.ev)(["Firestore (8.6.7): "+t],r))}}function _o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vo.logLevel<=re.in.ERROR){var r=e.map(So);vo.error.apply(vo,(0,po.ev)(["Firestore (8.6.7): "+t],r))}}function Eo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vo.logLevel<=re.in.WARN){var r=e.map(So);vo.warn.apply(vo,(0,po.ev)(["Firestore (8.6.7): "+t],r))}}function So(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Eg){return t}}function To(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.7) INTERNAL ASSERTION FAILED: "+t;throw _o(e),new Error(e)}function Co(t,e){t||To()}function Io(t,e){return t}function xo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ao=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=xo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ko(t,e){return t<e?-1:t>e?1:0}function Oo(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Po(t){return t+"\0"}var Do=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yo(mo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yo(mo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yo(mo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yo(mo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ko(this.nanoseconds,t.nanoseconds):ko(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),No=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Do(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Ro(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Mo=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&To(),void 0===n?n=t.length-e:n>t.length-e&&To(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,po.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new yo(mo.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Mo),Uo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,po.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Uo.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new yo(mo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new yo(mo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new yo(mo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new yo(mo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Mo),qo=function(){function t(t){this.fields=t,t.sort(jo.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Oo(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Go=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ko(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Go.EMPTY_BYTE_STRING=new Go("");var Bo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zo(t){if(Co(!!t),"string"==typeof t){var e=0,n=Bo.exec(t);if(Co(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ho(t.seconds),nanos:Ho(t.nanos)}}function Ho(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $o(t){return"string"==typeof t?Go.fromBase64String(t):Go.fromUint8Array(t)}function Zo(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ko(t){var e=t.mapValue.fields.__previous_value__;return Zo(e)?Ko(e):e}function Yo(t){var e=zo(t.mapValue.fields.__local_write_time__.timestampValue);return new Do(e.seconds,e.nanos)}function Wo(t){return null==t}function Jo(t){return 0===t&&1/t==-1/0}function Qo(t){return"number"==typeof t&&Number.isInteger(t)&&!Jo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Xo=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Vo.fromString(e))},t.fromName=function(e){return new t(Vo.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Vo.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Vo.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Vo(e.slice()))},t}();function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zo(t)?4:10:To()}function es(t,e){var n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yo(t).isEqual(Yo(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=zo(t.timestampValue),r=zo(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return $o(t.bytesValue).isEqual($o(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ho(t.geoPointValue.latitude)===Ho(e.geoPointValue.latitude)&&Ho(t.geoPointValue.longitude)===Ho(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ho(t.integerValue)===Ho(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ho(t.doubleValue),r=Ho(e.doubleValue);return n===r?Jo(n)===Jo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Oo(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ro(n)!==Ro(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!es(n[i],r[i])))return!1;return!0}(t,e);default:return To()}}function ns(t,e){return void 0!==(t.values||[]).find(function(t){return es(t,e)})}function rs(t,e){var n=ts(t),r=ts(e);if(n!==r)return ko(n,r);switch(n){case 0:return 0;case 1:return ko(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ho(t.integerValue||t.doubleValue),r=Ho(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return is(t.timestampValue,e.timestampValue);case 4:return is(Yo(t),Yo(e));case 5:return ko(t.stringValue,e.stringValue);case 6:return function(t,e){var n=$o(t),r=$o(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ko(n[i],r[i]);if(0!==o)return o}return ko(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ko(Ho(t.latitude),Ho(e.latitude));return 0!==n?n:ko(Ho(t.longitude),Ho(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=rs(n[i],r[i]);if(o)return o}return ko(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ko(r[s],o[s]);if(0!==a)return a;var u=rs(n[r[s]],i[o[s]]);if(0!==u)return u}return ko(r.length,o.length)}(t.mapValue,e.mapValue);default:throw To()}}function is(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ko(t,e);var n=zo(t),r=zo(e),i=ko(n.seconds,r.seconds);return 0!==i?i:ko(n.nanos,r.nanos)}function os(t){return ss(t)}function ss(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=zo(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$o(t.bytesValue).toBase64():"referenceValue"in t?Xo.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ss(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ss(t.fields[o])}return e+"}"}(t.mapValue):To();var e}function as(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function us(t){return!!t&&"integerValue"in t}function cs(t){return!!t&&"arrayValue"in t}function ls(t){return!!t&&"nullValue"in t}function hs(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fs(t){return!!t&&"mapValue"in t}function ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},zo(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=ds(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ds(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ps=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!fs(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ds(e)},t.prototype.setAll=function(t){var e=this,n=jo.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=ds(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());fs(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return es(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];fs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Lo(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(ds(this.value))},t}();function gs(t){var e=[];return Lo(t.fields,function(t,n){var r=new jo([t]);if(fs(n)){var i=gs(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new qo(e)}var ms=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,No.min(),ps.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ps.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ps.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ps.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ps.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ys=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function vs(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ys(t,e,n,r,i,o,s)}function bs(t){var e=Io(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+os(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Wo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ds(e.startAt)),e.endAt&&(n+="|ub:",n+=Ds(e.endAt)),e.h=n}return e.h}function ws(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Rs(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!es(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fs(t.startAt,e.startAt)&&Fs(t.endAt,e.endAt)}function _s(t){return Xo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Es=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,po.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ss(t,n,r):"array-contains"===n?new xs(t,r):"in"===n?new As(t,r):"not-in"===n?new ks(t,r):"array-contains-any"===n?new Os(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ts(t,n):new Cs(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(rs(e,this.value)):null!==e&&ts(this.value)===ts(e)&&this.m(rs(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return To()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ss=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Xo.fromName(r.referenceValue),i}return(0,po.ZT)(e,t),e.prototype.matches=function(t){var e=Xo.comparator(t.key,this.key);return this.m(e)},e}(Es),Ts=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Is(0,n),r}return(0,po.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Es),Cs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Is(0,n),r}return(0,po.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Es);function Is(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Xo.fromName(t.referenceValue)})}var xs=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,po.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return cs(e)&&ns(e.arrayValue,this.value)},e}(Es),As=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,po.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ns(this.value.arrayValue,e)},e}(Es),ks=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,po.ZT)(e,t),e.prototype.matches=function(t){if(ns(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ns(this.value.arrayValue,e)},e}(Es),Os=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,po.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!cs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ns(e.value.arrayValue,t)})},e}(Es),Ps=function(t,e){this.position=t,this.before=e};function Ds(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return os(t)}).join(",")}var Ns=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Rs(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ls(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Xo.comparator(Xo.fromName(s.referenceValue),n.key):rs(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Fs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}var Ms=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Vs(t,e,n,r,i,o,s,a){return new Ms(t,e,n,r,i,o,s,a)}function Us(t){return new Ms(t)}function js(t){return!Wo(t.limit)&&"F"===t.limitType}function qs(t){return!Wo(t.limit)&&"L"===t.limitType}function Gs(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bs(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function zs(t){return null!==t.collectionGroup}function Hs(t){var e=Io(t);if(null===e.p){e.p=[];var n=Bs(e),r=Gs(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ns(n)),e.p.push(new Ns(jo.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ns(jo.keyField(),u))}}}return e.p}function $s(t){var e=Io(t);if(!e.T)if("F"===e.limitType)e.T=vs(e.path,e.collectionGroup,Hs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Hs(e);r<i.length;r++){var o=i[r];n.push(new Ns(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Ps(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ps(e.startAt.position,!e.startAt.before):null;e.T=vs(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Zs(t,e,n){return new Ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ks(t,e){return ws($s(t),$s(e))&&t.limitType===e.limitType}function Ys(t){return bs($s(t))+"|lt:"+t.limitType}function Ws(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+os(e.value);var e}).join(", ")+"]"),Wo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ds(t.startAt)),t.endAt&&(e+=", endAt: "+Ds(t.endAt)),"Target("+e+")"}($s(t))+"; limitType="+t.limitType+")"}function Js(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Xo.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ls(t.startAt,Hs(t),e)||t.endAt&&Ls(t.endAt,Hs(t),e))}(t,e)}function Qs(t){return function(e,n){for(var r=!1,i=0,o=Hs(t);i<o.length;i++){var s=o[i],a=Xs(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Xs(t,e,n){var r=t.field.isKeyField()?Xo.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?rs(r,i):To()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return To()}}function ta(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function ea(t){return{integerValue:""+t}}function na(t,e){return Qo(e)?ea(e):ta(t,e)}var ra=function(){this._=void 0};function ia(t,e,n){return t instanceof aa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ua?ca(t,e):t instanceof la?ha(t,e):function(t,e){var n=sa(t,e),r=da(n)+da(t.A);return us(n)&&us(t.A)?ea(r):ta(t.R,r)}(t,e)}function oa(t,e,n){return t instanceof ua?ca(t,e):t instanceof la?ha(t,e):n}function sa(t,e){return t instanceof fa?us(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var aa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,po.ZT)(e,t),e}(ra),ua=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,po.ZT)(e,t),e}(ra);function ca(t,e){for(var n=pa(e),r=function(t){n.some(function(e){return es(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var la=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,po.ZT)(e,t),e}(ra);function ha(t,e){for(var n=pa(e),r=function(t){n=n.filter(function(e){return!es(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,po.ZT)(e,t),e}(ra);function da(t){return Ho(t.integerValue||t.doubleValue)}function pa(t){return cs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ga=function(t,e){this.field=t,this.transform=e},ma=function(t,e){this.version=t,this.transformResults=e},ya=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function va(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ba=function(){};function wa(t,e,n){t instanceof Ca?function(t,e,n){var r=t.value.clone(),i=Aa(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ia?function(t,e,n){if(va(t.precondition,e)){var r=Aa(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(xa(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function _a(t,e,n){t instanceof Ca?function(t,e,n){if(va(t.precondition,e)){var r=t.value.clone(),i=ka(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ta(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Ia?function(t,e,n){if(va(t.precondition,e)){var r=ka(t.fieldTransforms,n,e),i=e.data;i.setAll(xa(t)),i.setAll(r),e.convertToFoundDocument(Ta(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){va(t.precondition,e)&&e.convertToNoDocument(No.min())}(t,e)}function Ea(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=sa(o.transform,s||null);null!=a&&(null==n&&(n=ps.empty()),n.set(o.field,a))}return n||null}function Sa(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Oo(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ua&&e instanceof ua||t instanceof la&&e instanceof la?Oo(t.elements,e.elements,es):t instanceof fa&&e instanceof fa?es(t.A,e.A):t instanceof aa&&e instanceof aa}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ta(t){return t.isFoundDocument()?t.version:No.min()}var Ca=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,po.ZT)(e,t),e}(ba),Ia=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,po.ZT)(e,t),e}(ba);function xa(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Aa(t,e,n){var r=new Map;Co(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,oa(s,a,n[i]))}return r}function ka(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,ia(a,u,e))}return r}var Oa,Pa,Da=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,po.ZT)(e,t),e}(ba),Na=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,po.ZT)(e,t),e}(ba),Ra=function(t){this.count=t};function La(t){switch(t){case mo.OK:return To();case mo.CANCELLED:case mo.UNKNOWN:case mo.DEADLINE_EXCEEDED:case mo.RESOURCE_EXHAUSTED:case mo.INTERNAL:case mo.UNAVAILABLE:case mo.UNAUTHENTICATED:return!1;case mo.INVALID_ARGUMENT:case mo.NOT_FOUND:case mo.ALREADY_EXISTS:case mo.PERMISSION_DENIED:case mo.FAILED_PRECONDITION:case mo.ABORTED:case mo.OUT_OF_RANGE:case mo.UNIMPLEMENTED:case mo.DATA_LOSS:return!0;default:return To()}}function Fa(t){if(void 0===t)return _o("GRPC error has no .code"),mo.UNKNOWN;switch(t){case Oa.OK:return mo.OK;case Oa.CANCELLED:return mo.CANCELLED;case Oa.UNKNOWN:return mo.UNKNOWN;case Oa.DEADLINE_EXCEEDED:return mo.DEADLINE_EXCEEDED;case Oa.RESOURCE_EXHAUSTED:return mo.RESOURCE_EXHAUSTED;case Oa.INTERNAL:return mo.INTERNAL;case Oa.UNAVAILABLE:return mo.UNAVAILABLE;case Oa.UNAUTHENTICATED:return mo.UNAUTHENTICATED;case Oa.INVALID_ARGUMENT:return mo.INVALID_ARGUMENT;case Oa.NOT_FOUND:return mo.NOT_FOUND;case Oa.ALREADY_EXISTS:return mo.ALREADY_EXISTS;case Oa.PERMISSION_DENIED:return mo.PERMISSION_DENIED;case Oa.FAILED_PRECONDITION:return mo.FAILED_PRECONDITION;case Oa.ABORTED:return mo.ABORTED;case Oa.OUT_OF_RANGE:return mo.OUT_OF_RANGE;case Oa.UNIMPLEMENTED:return mo.UNIMPLEMENTED;case Oa.DATA_LOSS:return mo.DATA_LOSS;default:return To()}}(Pa=Oa||(Oa={}))[Pa.OK=0]="OK",Pa[Pa.CANCELLED=1]="CANCELLED",Pa[Pa.UNKNOWN=2]="UNKNOWN",Pa[Pa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pa[Pa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pa[Pa.NOT_FOUND=5]="NOT_FOUND",Pa[Pa.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pa[Pa.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pa[Pa.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pa[Pa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pa[Pa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pa[Pa.ABORTED=10]="ABORTED",Pa[Pa.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pa[Pa.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pa[Pa.INTERNAL=13]="INTERNAL",Pa[Pa.UNAVAILABLE=14]="UNAVAILABLE",Pa[Pa.DATA_LOSS=15]="DATA_LOSS";var Ma=function(){function t(t,e){this.comparator=t,this.root=e||Ua.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ua.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ua.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Va(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Va(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Va(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Va(this.root,t,this.comparator,!0)},t}(),Va=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ua=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw To();if(this.right.isRed())throw To();var t=this.left.check();if(t!==this.right.check())throw To();return t+(this.isRed()?0:1)},t}();Ua.EMPTY=null,Ua.RED=!0,Ua.BLACK=!1,Ua.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw To()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw To()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw To()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw To()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw To()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ua(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ja=function(){function t(t){this.comparator=t,this.data=new Ma(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new qa(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new qa(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),qa=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ga=new Ma(Xo.comparator);function Ba(){return Ga}var za=new Ma(Xo.comparator);function Ha(){return za}var $a=new Ma(Xo.comparator);function Za(){return $a}var Ka=new ja(Xo.comparator);function Ya(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ka,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Wa=new ja(ko);function Ja(){return Wa}var Qa=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(No.min(),r,Ja(),Ba(),Ya())},t}(),Xa=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Go.EMPTY_BYTE_STRING,n,Ya(),Ya(),Ya())},t}(),tu=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},eu=function(t,e){this.targetId=t,this.V=e},nu=function(t,e,n,r){void 0===n&&(n=Go.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ru=function(){function t(){this.S=0,this.D=su(),this.C=Go.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ya(),e=Ya(),n=Ya();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:To()}}),new Xa(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=su()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),iu=function(){function t(t){this.W=t,this.G=new Map,this.H=Ba(),this.J=ou(),this.Y=new ja(ko)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:To()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(_s(i))if(0===n){var o=new Xo(i.path);this.tt(e,o,ms.newNoDocument(o,No.min()))}else Co(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&_s(o.target)){var s=new Xo(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,ms.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Ya();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Qa(t,n,this.Y,this.H,r);return this.H=Ba(),this.J=ou(),this.Y=new ja(ko),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ru,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ja(ko),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||wo("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ru),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ou(){return new Ma(Xo.comparator)}function su(){return new Ma(Xo.comparator)}var au={asc:"ASCENDING",desc:"DESCENDING"},uu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cu=function(t,e){this.databaseId=t,this.I=e};function lu(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function hu(t,e){return t.I?e.toBase64():e.toUint8Array()}function fu(t,e){return lu(t,e.toTimestamp())}function du(t){return Co(!!t),No.fromTimestamp(function(t){var e=zo(t);return new Do(e.seconds,e.nanos)}(t))}function pu(t,e){return function(t){return new Vo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function gu(t){var e=Vo.fromString(t);return Co(Uu(e)),e}function mu(t,e){return pu(t.databaseId,e.path)}function yu(t,e){var n=gu(e);if(n.get(1)!==t.databaseId.projectId)throw new yo(mo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new yo(mo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xo(_u(n))}function vu(t,e){return pu(t.databaseId,e)}function bu(t){var e=gu(t);return 4===e.length?Vo.emptyPath():_u(e)}function wu(t){return new Vo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _u(t){return Co(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Eu(t,e,n){return{name:mu(t,e),fields:n.value.mapValue.fields}}function Su(t,e,n){var r=yu(t,e.name),i=du(e.updateTime),o=new ps({mapValue:{fields:e.fields}}),s=ms.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Tu(t,e){var n;if(e instanceof Ca)n={update:Eu(t,e.key,e.value)};else if(e instanceof Da)n={delete:mu(t,e.key)};else if(e instanceof Ia)n={update:Eu(t,e.key,e.data),updateMask:Vu(e.fieldMask)};else{if(!(e instanceof Na))return To();n={verify:mu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof aa)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ua)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof la)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fa)return{fieldPath:e.field.canonicalString(),increment:n.A};throw To()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:fu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:To()}(t,e.precondition)),n}function Cu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ya.updateTime(du(t.updateTime)):void 0!==t.exists?ya.exists(t.exists):ya.none()}(e.currentDocument):ya.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Co("REQUEST_TIME"===e.setToServerValue),n=new aa):"appendMissingElements"in e?n=new ua(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new la(e.removeAllFromArray.values||[]):"increment"in e?n=new fa(t,e.increment):To();var r=jo.fromServerFormat(e.fieldPath);return new ga(r,n)}(t,e)}):[];if(e.update){var i=yu(t,e.update.name),o=new ps({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new qo((t.fieldPaths||[]).map(function(t){return jo.fromServerFormat(t)}))}(e.updateMask);return new Ia(i,o,s,n,r)}return new Ca(i,o,n,r)}if(e.delete){var a=yu(t,e.delete);return new Da(a,n)}if(e.verify){var u=yu(t,e.verify);return new Na(u,n)}return To()}function Iu(t,e){return{documents:[vu(t,e.path)]}}function xu(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=vu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vu(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(hs(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NAN"}};if(ls(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hs(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NOT_NAN"}};if(ls(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(t.field),op:Nu(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ru(t.field),direction:Du(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Wo(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ou(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ou(e.endAt)),n}function Au(t){var e=bu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Co(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=ku(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Ns(Lu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Wo(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Pu(n.startAt));var l=null;return n.endAt&&(l=Pu(n.endAt)),Vs(e,i,a,s,u,"F",c,l)}function ku(t){return t?void 0!==t.unaryFilter?[Mu(t)]:void 0!==t.fieldFilter?[Fu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return ku(t)}).reduce(function(t,e){return t.concat(e)}):To():[]}function Ou(t){return{before:t.before,values:t.position}}function Pu(t){return new Ps(t.values||[],!!t.before)}function Du(t){return au[t]}function Nu(t){return uu[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function Lu(t){return jo.fromServerFormat(t.fieldPath)}function Fu(t){return Es.create(Lu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return To()}}(t.fieldFilter.op),t.fieldFilter.value)}function Mu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Lu(t.unaryFilter.field);return Es.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Lu(t.unaryFilter.field);return Es.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lu(t.unaryFilter.field);return Es.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lu(t.unaryFilter.field);return Es.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return To()}}function Vu(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Uu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ju(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Gu(e)),e=qu(t.get(n),e);return Gu(e)}function qu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Gu(t){return t+"\x01\x01"}function Bu(t){var e=t.length;if(Co(e>=2),2===e)return Co("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Vo.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&To(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:To()}o=s+2}return new Vo(r)}var zu=function(t,e){this.seconds=t,this.nanoseconds=e},Hu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Hu.store="owner",Hu.key="owner";var $u=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};$u.store="mutationQueues",$u.keyPath="userId";var Zu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Zu.store="mutations",Zu.keyPath="batchId",Zu.userMutationsIndex="userMutationsIndex",Zu.userMutationsKeyPath=["userId","batchId"];var Ku=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ju(e)]},t.key=function(t,e,n){return[t,ju(e),n]},t}();Ku.store="documentMutations",Ku.PLACEHOLDER=new Ku;var Yu=function(t,e){this.path=t,this.readTime=e},Wu=function(t,e){this.path=t,this.version=e},Ju=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ju.store="remoteDocuments",Ju.readTimeIndex="readTimeIndex",Ju.readTimeIndexPath="readTime",Ju.collectionReadTimeIndex="collectionReadTimeIndex",Ju.collectionReadTimeIndexPath=["parentPath","readTime"];var Qu=function(t){this.byteSize=t};Qu.store="remoteDocumentGlobal",Qu.key="remoteDocumentGlobalKey";var Xu=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Xu.store="targets",Xu.keyPath="targetId",Xu.queryTargetsIndexName="queryTargetsIndex",Xu.queryTargetsKeyPath=["canonicalId","targetId"];var tc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};tc.store="targetDocuments",tc.keyPath=["targetId","path"],tc.documentTargetsIndex="documentTargetsIndex",tc.documentTargetsKeyPath=["path","targetId"];var ec=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ec.key="targetGlobalKey",ec.store="targetGlobal";var nc=function(t,e){this.collectionId=t,this.parent=e};nc.store="collectionParents",nc.keyPath=["collectionId","parent"];var rc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};rc.store="clientMetadata",rc.keyPath="clientId";var ic=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ic.store="bundles",ic.keyPath="bundleId";var oc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};oc.store="namedQueries",oc.keyPath="name";var sc=(0,po.ev)((0,po.ev)([],(0,po.ev)((0,po.ev)([],(0,po.ev)((0,po.ev)([],(0,po.ev)((0,po.ev)([],[$u.store,Zu.store,Ku.store,Ju.store,Xu.store,Hu.store,ec.store,tc.store]),[rc.store])),[Qu.store])),[nc.store])),[ic.store,oc.store]),ac="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uc=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),cc=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},lc=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&To(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),hc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new cc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new pc(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=bc(e.target.error);n.ft.reject(new pc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new pc(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(wo("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new mc(e)},t}(),fc=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,ne.z$)())&&_o("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return wo("SimpleDb","Removing database:",t),yc(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,ne.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,po.mG)(this,void 0,void 0,function(){var e,n=this;return(0,po.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(wo("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new pc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new yo(mo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new pc(t,n))},i.onupgradeneeded=function(t){wo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){wo("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,po.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,po.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,po.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=hc.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),lc.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return wo("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),dc=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return yc(this.Pt.delete())},t}(),pc=function(t){function e(e,n){var r=this;return(r=t.call(this,mo.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,po.ZT)(e,t),e}(yo);function gc(t){return"IndexedDbTransactionError"===t.name}var mc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(wo("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(wo("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),yc(n)},t.prototype.add=function(t){return wo("SimpleDb","ADD",this.store.name,t,t),yc(this.store.add(t))},t.prototype.get=function(t){var e=this;return yc(this.store.get(t)).next(function(n){return void 0===n&&(n=null),wo("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return wo("SimpleDb","DELETE",this.store.name,t),yc(this.store.delete(t))},t.prototype.count=function(){return wo("SimpleDb","COUNT",this.store.name),yc(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){wo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new lc(function(n,r){e.onerror=function(t){var e=bc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new lc(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new dc(i),s=e(i.primaryKey,i.value,o);if(s instanceof lc){var a=s.catch(function(t){return o.done(),lc.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return lc.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function yc(t){return new lc(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=bc(t.target.error);n(e)}})}var vc=!1;function bc(t){var e=fc._t((0,ne.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new yo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return vc||(vc=!0,setTimeout(function(){throw r},0)),r}}return t}var wc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,po.ZT)(e,t),e}(uc);function _c(t,e){var n=Io(t);return fc.It(n.Mt,e)}var Ec=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&wa(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&_a(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&_a(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(No.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ya())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,function(t,e){return Sa(t,e)})&&Oo(this.baseMutations,t.baseMutations,function(t,e){return Sa(t,e)})},t}(),Sc=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Co(e.mutations.length===r.length);for(var i=Za(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Tc=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=No.min()),void 0===o&&(o=No.min()),void 0===s&&(s=Go.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Cc=function(t){this.Lt=t};function Ic(t,e){if(e.document)return Su(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Xo.fromSegments(e.noDocument.path),r=Pc(e.noDocument.readTime),i=ms.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Xo.fromSegments(e.unknownDocument.path);return r=Pc(e.unknownDocument.version),ms.newUnknownDocument(o,r)}return To()}function xc(t,e,n){var r=Ac(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:mu(t,e.key),fields:e.data.value.mapValue.fields,updateTime:lu(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Ju(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Oc(e.version);return s=e.hasCommittedMutations,new Ju(null,new Yu(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Oc(e.version);return new Ju(new Wu(c,l),null,null,!0,r,i)}return To()}function Ac(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function kc(t){var e=new Do(t[0],t[1]);return No.fromTimestamp(e)}function Oc(t){var e=t.toTimestamp();return new zu(e.seconds,e.nanoseconds)}function Pc(t){var e=new Do(t.seconds,t.nanoseconds);return No.fromTimestamp(e)}function Dc(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Cu(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Cu(t.Lt,e)}),o=Do.fromMillis(e.localWriteTimeMs);return new Ec(e.batchId,o,n,i)}function Nc(t){var e,n,r=Pc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Pc(t.lastLimboFreeSnapshotVersion):No.min();return void 0!==t.query.documents?(Co(1===(n=t.query).documents.length),e=$s(Us(bu(n.documents[0])))):e=function(t){return $s(Au(t))}(t.query),new Tc(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Go.fromBase64String(t.resumeToken))}function Rc(t,e){var n,r=Oc(e.snapshotVersion),i=Oc(e.lastLimboFreeSnapshotVersion);n=_s(e.target)?Iu(t.Lt,e.target):xu(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Xu(e.targetId,bs(e.target),r,o,e.sequenceNumber,i,n)}function Lc(t){var e=Au({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Zs(e,e.limit,"L"):e}var Fc=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Mc(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Pc(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Mc(t).put({bundleId:(n=e).id,createTime:Oc(du(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Vc(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Lc(e.bundledQuery),readTime:Pc(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Vc(t).put(function(t){return{name:t.name,readTime:Oc(du(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Mc(t){return _c(t,ic.store)}function Vc(t){return _c(t,oc.store)}var Uc=function(){function t(){this.Bt=new jc}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),lc.resolve()},t.prototype.getCollectionParents=function(t,e){return lc.resolve(this.Bt.getEntries(e))},t}(),jc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ja(Vo.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ja(Vo.comparator)).toArray()},t}(),qc=function(){function t(){this.qt=new jc}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:ju(i)};return Gc(t).put(o)}return lc.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Po(e),""],!1,!0);return Gc(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Bu(o.parent))}return n})},t}();function Gc(t){return _c(t,nc.store)}var Bc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zc=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Hc(t,e,n){var r=t.store(Zu.store),i=t.store(Ku.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Co(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ku.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return lc.waitFor(o).next(function(){return c})}function $c(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw To();e=t.noDocument}return JSON.stringify(e).length}zc.DEFAULT_COLLECTION_PERCENTILE=10,zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zc.DEFAULT=new zc(41943040,zc.DEFAULT_COLLECTION_PERCENTILE,zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zc.DISABLED=new zc(-1,0,0);var Zc=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Co(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yc(t).$t({index:Zu.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Wc(t),s=Yc(t);return s.add({}).next(function(a){Co("number"==typeof a);for(var u=new Ec(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Tu(t.Lt,e)}),i=n.mutations.map(function(e){return Tu(t.Lt,e)});return new Zu(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new ja(function(t,e){return ko(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Ku.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Ku.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),lc.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Yc(t).get(e).next(function(t){return t?(Co(t.userId===n.userId),Dc(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?lc.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Yc(t).$t({index:Zu.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Co(e.batchId>=r),o=Dc(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yc(t).$t({index:Zu.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yc(t).Nt(Zu.userMutationsIndex,n).next(function(t){return t.map(function(t){return Dc(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ku.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Wc(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=Bu(r[1]);if(a===n.userId&&e.path.isEqual(c))return Yc(t).get(u).next(function(t){if(!t)throw To();Co(t.userId===n.userId),o.push(Dc(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ja(ko),i=[];return e.forEach(function(e){var o=Ku.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Wc(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=Bu(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),lc.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ku.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ja(ko);return Wc(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=Bu(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Yc(t).get(e).next(function(t){if(null===t)throw To();Co(t.userId===n.userId),r.push(Dc(n.R,t))}))}),lc.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Hc(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),lc.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return lc.resolve();var r=IDBKeyRange.lowerBound(Ku.prefixForUser(e.userId)),i=[];return Wc(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Bu(t[1]);i.push(o)}else r.done()}).next(function(){Co(0===i.length)})})},t.prototype.containsKey=function(t,e){return Kc(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Jc(t).get(this.userId).next(function(t){return t||new $u(e.userId,-1,"")})},t}();function Kc(t,e,n){var r=Ku.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Wc(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Yc(t){return _c(t,Zu.store)}function Wc(t){return _c(t,Ku.store)}function Jc(t){return _c(t,$u.store)}var Qc=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Xc=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Qc(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return No.fromTimestamp(new Do(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return tl(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Co(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return tl(t).$t(function(s,a){var u=Nc(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return lc.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return tl(t).$t(function(t,n){var r=Nc(n);e(r)})},t.prototype.Xt=function(t){return el(t).get(ec.key).next(function(t){return Co(null!==t),t})},t.prototype.Zt=function(t,e){return el(t).put(ec.key,e)},t.prototype.te=function(t,e){return tl(t).put(Rc(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=bs(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tl(t).$t({range:r,index:Xu.queryTargetsIndexName},function(t,n,r){var o=Nc(n);ws(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=nl(t);return e.forEach(function(e){var s=ju(e.path);i.push(o.put(new tc(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),lc.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=nl(t);return lc.forEach(e,function(e){var o=ju(e.path);return lc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=nl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=nl(t),i=Ya();return r.$t({range:n,kt:!0},function(t,e,n){var r=Bu(t[1]),o=new Xo(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=ju(e.path),r=IDBKeyRange.bound([n],[Po(n)],!1,!0),i=0;return nl(t).$t({index:tc.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return tl(t).get(e).next(function(t){return t?Nc(t):null})},t}();function tl(t){return _c(t,Xu.store)}function el(t){return _c(t,ec.store)}function nl(t){return _c(t,tc.store)}function rl(t){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(e){if(t.code!==mo.FAILED_PRECONDITION||t.message!==ac)throw t;return wo("LocalStore","Unexpectedly lost primary lease"),[2]})})}function il(t,e){var n=t[1],r=e[1],i=ko(t[0],e[0]);return 0===i?ko(n,r):i}var ol=function(){function t(t){this.ne=t,this.buffer=new ja(il),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();il(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),sl=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;wo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,po.mG)(e,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return gc(e=n.sent())?(wo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,rl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),al=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return lc.resolve(go.o);var r=new ol(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(wo("LruGarbageCollector","Garbage collection skipped; disabled"),lc.resolve(Bc)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(wo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Bc):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(wo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),bo()<=re.in.DEBUG&&wo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),lc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),ul=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new al(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return cl(t,n)},t.prototype.removeReference=function(t,e,n){return cl(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return cl(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Jc(t).Ot(function(r){return Kc(t,r,e).next(function(t){return t&&(n=!0),lc.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),nl(t).delete([0,ju(s.path)])})});i.push(u)}}).next(function(){return lc.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return cl(t,e)},t.prototype.we=function(t,e){var n,r=nl(t),i=go.o;return r.$t({index:tc.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==go.o&&e(new Xo(Bu(n)),i),i=s,n=o):i=go.o}).next(function(){i!==go.o&&e(new Xo(Bu(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function cl(t,e){return nl(t).put(function(t,e){return new tc(0,ju(t.path),e)}(e,t.currentSequenceNumber))}var ll=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Lo(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Fo(this.inner)},t}(),hl=function(){function t(){this.changes=new ll(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:No.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ms.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?lc.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),fl=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return gl(t).put(ml(e),n)},t.prototype.removeEntry=function(t,e){var n=gl(t),r=ml(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return gl(t).get(ml(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return gl(t).get(ml(e)).next(function(t){return{document:n.ye(e,t),size:$c(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ba();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ba(),i=new Ma(Xo.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,$c(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return lc.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return gl(t).$t({range:r},function(t,e,r){for(var s=Xo.fromSegments(t);o&&Xo.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ba(),o=e.path.length+1,s={};if(n.isEqual(No.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Ac(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ju.collectionReadTimeIndex}return gl(t).$t(s,function(t,n,s){if(t.length===o){var a=Ic(r.R,n);e.path.isPrefixOf(a.key.path)?Js(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new dl(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return pl(t).get(Qu.key).next(function(t){return Co(!!t),t})},t.prototype.me=function(t,e){return pl(t).put(Qu.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ic(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(No.min()))return n}return ms.newInvalidDocument(t)},t}(),dl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new ll(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,po.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ja(function(t,e){return ko(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=xc(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=$c(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=xc(e.Ie.R,ms.newNoDocument(o,No.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),lc.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(hl);function pl(t){return _c(t,Qu.store)}function gl(t){return _c(t,Ju.store)}function ml(t){return t.path.toArray()}var yl=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Co(n<r&&n>=0&&r<=11);var o=new hc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Hu.store)}(t),function(t){t.createObjectStore($u.store,{keyPath:$u.keyPath}),t.createObjectStore(Zu.store,{keyPath:Zu.keyPath,autoIncrement:!0}).createIndex(Zu.userMutationsIndex,Zu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ku.store)}(t),vl(t),function(t){t.createObjectStore(Ju.store)}(t));var s=lc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(tc.store),t.deleteObjectStore(Xu.store),t.deleteObjectStore(ec.store)}(t),vl(t)),s=s.next(function(){return function(t){var e=t.store(ec.store),n=new ec(0,0,No.min().toTimestamp(),0);return e.put(ec.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Zu.store).Nt().next(function(n){t.deleteObjectStore(Zu.store),t.createObjectStore(Zu.store,{keyPath:Zu.keyPath,autoIncrement:!0}).createIndex(Zu.userMutationsIndex,Zu.userMutationsKeyPath,{unique:!0});var r=e.store(Zu.store),i=n.map(function(t){return r.put(t)});return lc.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(rc.store,{keyPath:rc.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Qu.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ju.store);e.createIndex(Ju.readTimeIndex,Ju.readTimeIndexPath,{unique:!1}),e.createIndex(Ju.collectionReadTimeIndex,Ju.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(ic.store,{keyPath:ic.keyPath})}(t),function(t){t.createObjectStore(oc.store,{keyPath:oc.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Ju.store).$t(function(t,n){e+=$c(n)}).next(function(){var n=new Qu(e);return t.store(Qu.store).put(Qu.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store($u.store),r=t.store(Zu.store);return n.Nt().next(function(n){return lc.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Zu.userMutationsIndex,i).next(function(r){return lc.forEach(r,function(r){Co(r.userId===n.userId);var i=Dc(e.R,r);return Hc(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(tc.store),n=t.store(Ju.store);return t.store(ec.store).get(ec.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Vo(n),s=function(t){return[0,ju(t)]}(o);r.push(e.get(s).next(function(n){return n?lc.resolve():function(n){return e.put(new tc(0,ju(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return lc.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(nc.store,{keyPath:nc.keyPath});var n=e.store(nc.store),r=new jc,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ju(i)})}};return e.store(Ju.store).$t({kt:!0},function(t,e){var n=new Vo(t);return i(n.popLast())}).next(function(){return e.store(Ku.store).$t({kt:!0},function(t,e){var n=Bu(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Xu.store);return n.$t(function(t,r){var i=Nc(r),o=Rc(e.R,i);return n.put(o)})},t}();function vl(t){t.createObjectStore(tc.store,{keyPath:tc.keyPath}).createIndex(tc.documentTargetsIndex,tc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Xu.store,{keyPath:Xu.keyPath}).createIndex(Xu.queryTargetsIndexName,Xu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ec.store)}var bl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wl=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new yo(mo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ul(this,i),this.Le=n+"main",this.R=new Cc(u),this.Be=new fc(this.Le,11,new yl(this.R)),this.qe=new Xc(this.referenceDelegate,this.R),this.Ut=new qc,this.Ue=function(t,e){return new fl(t,e)}(this.R,this.Ut),this.Qe=new Fc,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&_o("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new yo(mo.FAILED_PRECONDITION,bl);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new go(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,po.mG)(e,void 0,void 0,function(){return(0,po.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,po.mG)(e,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,po.mG)(e,void 0,void 0,function(){return(0,po.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return El(e).put(new rc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(gc(e))return wo("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return wo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return _l(t).get(Hu.key).next(function(t){return lc.resolve(e.tn(t))})},t.prototype.en=function(t){return El(t).delete(this.clientId)},t.prototype.nn=function(){return(0,po.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=_c(t,rc.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return lc.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?lc.resolve(!0):_l(t).get(Hu.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new yo(mo.FAILED_PRECONDITION,bl);return!1}}return!(!e.networkEnabled||!e.inForeground)||El(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&wo("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,po.mG)(this,void 0,void 0,function(){var t=this;return(0,po.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Hu.store,rc.store],function(e){var n=new wc(e,go.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return El(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Zc.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return wo("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",sc,function(o){return r=new wc(o,i.Ne?i.Ne.next():go.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw _o("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new yo(mo.FAILED_PRECONDITION,ac);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return _l(t).get(Hu.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new yo(mo.FAILED_PRECONDITION,bl)})},t.prototype.Ze=function(t){var e=new Hu(this.clientId,this.allowTabSynchronization,Date.now());return _l(t).put(Hu.key,e)},t.yt=function(){return fc.yt()},t.prototype.Xe=function(t){var e=this,n=_l(t);return n.get(Hu.key).next(function(t){return e.tn(t)?(wo("IndexedDbPersistence","Releasing primary lease."),n.delete(Hu.key)):lc.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(_o("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return wo("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return _o("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){_o("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function _l(t){return _c(t,Hu.store)}function El(t){return _c(t,rc.store)}function Sl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Tl=function(t,e){this.progress=t,this.wn=e},Cl=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Xo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):zs(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Xo(e)).next(function(t){var e=Ha();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Ha();return this.Ut.getCollectionParents(t,i).next(function(s){return lc.forEach(s,function(s){var a=function(t,e){return new Ms(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=ms.newInvalidDocument(c),r=r.insert(c,l)),_a(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Js(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Ya(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Ia&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Il=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ya(),i=Ya(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xl=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(No.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(js(e)||qs(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(bo()<=re.in.DEBUG&&wo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ws(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new ja(Qs(t));return e.forEach(function(e,r){Js(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return bo()<=re.in.DEBUG&&wo("QueryEngine","Using full collection scan to execute query:",Ws(e)),this.Sn.getDocumentsMatchingQuery(t,e,No.min())},t}(),Al=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ma(ko),this.kn=new ll(function(t){return bs(t)},ws),this.$n=No.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Cl(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function kl(t,e,n,r){return new Al(t,e,n,r)}function Ol(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,po.Jh)(this,function(s){switch(s.label){case 0:return n=Io(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Cl(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Ya(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Pl(t,e){var n=Io(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=lc.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Co(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Dl(t){var e=Io(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Nl(t,e){var n=Io(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Co(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Ba();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Rl(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(No.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return lc.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Rl(t,e,n,r,i){var o=Ya();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ba();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(No.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):wo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Ll(t,e){var n=Io(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Fl(t,e){var n=Io(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?lc.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Tc(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Ml(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,po.Jh)(this,function(a){switch(a.label){case 0:r=Io(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!gc(s=a.sent()))throw s;return wo("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Vl(t,e,n){var r=Io(t),i=No.min(),o=Ya();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Io(t),i=r.kn.get(n);return void 0!==i?lc.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,$s(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:No.min(),n?o:Ya())}).next(function(t){return{documents:t,Bn:o}})})}function Ul(t,e){var n=Io(t),r=Io(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function jl(t){var e=Io(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Io(t),i=Ba(),o=Ac(n),s=gl(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Ju.readTimeIndex,range:a},function(t,e){var n=Ic(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:kc(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function ql(t){return(0,po.mG)(this,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){return[2,(e=Io(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=gl(t),n=No.min();return e.$t({index:Ju.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=kc(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Gl(t,e,n,r){return(0,po.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,po.Jh)(this,function(p){switch(p.label){case 0:for(i=Io(t),o=Ya(),s=Ba(),a=Za(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Fl(i,function(t){return $s(Us(Vo.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Rl(t,f,s,No.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Bl(t,e,n){return void 0===n&&(n=Ya()),(0,po.mG)(this,void 0,void 0,function(){var r,i;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return[4,Fl(t,$s(Lc(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Io(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=du(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Go.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var zl=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return lc.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:du(n.createTime)}),lc.resolve()},t.prototype.getNamedQuery=function(t,e){return lc.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Lc(t.bundledQuery),readTime:du(t.readTime)}}(e)),lc.resolve()},t}(),Hl=function(){function t(){this.Wn=new ja($l.Gn),this.zn=new ja($l.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new $l(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new $l(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Xo(new Vo([])),r=new $l(n,t),i=new $l(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Xo(new Vo([])),n=new $l(e,t),r=new $l(e,t+1),i=Ya();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new $l(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),$l=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Xo.comparator(t.key,e.key)||ko(t.ns,e.ns)},t.Hn=function(t,e){return ko(t.ns,e.ns)||Xo.comparator(t.key,e.key)},t}(),Zl=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ja($l.Gn)}return t.prototype.checkEmpty=function(t){return lc.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Ec(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new $l(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return lc.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return lc.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return lc.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return lc.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return lc.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new $l(e,0),i=new $l(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),lc.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ja(ko);return e.forEach(function(t){var e=new $l(t,0),i=new $l(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),lc.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Xo.isDocumentKey(i)||(i=i.child(""));var o=new $l(new Xo(i),0),s=new ja(ko);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),lc.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Co(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return lc.forEach(e.mutations,function(i){var o=new $l(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new $l(e,0),r=this.rs.firstAfterOrEqual(n);return lc.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return lc.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Kl=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ma(Xo.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return lc.resolve(n?n.document.clone():ms.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ba();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ms.newInvalidDocument(t))}),lc.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ba(),i=new Xo(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Js(e,u)&&(r=r.insert(u.key,u.clone()))}return lc.resolve(r)},t.prototype.fs=function(t,e){return lc.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Yl(this)},t.prototype.getSize=function(t){return lc.resolve(this.size)},t}(),Yl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,po.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),lc.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(hl),Wl=function(){function t(t){this.persistence=t,this.ds=new ll(function(t){return bs(t)},ws),this.lastRemoteSnapshotVersion=No.min(),this.highestTargetId=0,this.ws=0,this._s=new Hl,this.targetCount=0,this.ys=Qc.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),lc.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return lc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return lc.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),lc.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),lc.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Qc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,lc.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),lc.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,lc.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),lc.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return lc.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return lc.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),lc.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),lc.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),lc.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return lc.resolve(n)},t.prototype.containsKey=function(t,e){return lc.resolve(this._s.containsKey(e))},t}(),Jl=function(){function t(t,e){var n=this;this.gs={},this.Ne=new go(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Wl(this),this.Ut=new Uc,this.Ue=function(t,e){return new Kl(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Cc(e),this.Qe=new zl(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Zl(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;wo("MemoryPersistence","Starting transaction:",t);var i=new Ql(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return lc.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,po.ZT)(e,t),e}(uc),Xl=function(){function t(t){this.persistence=t,this.As=new Hl,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw To()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),lc.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),lc.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),lc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lc.forEach(this.vs,function(r){var i=Xo.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return lc.or([function(){return lc.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),th=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function eh(t,e){return"firestore_clients_"+t+"_"+e}function nh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function rh(t,e){return"firestore_targets_"+t+"_"+e}th.UNAUTHENTICATED=new th(null),th.GOOGLE_CREDENTIALS=new th("google-credentials-uid"),th.FIRST_PARTY=new th("first-party-uid");var ih=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new yo(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(_o("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),oh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yo(i.error.code,i.error.message)),o?new t(e,i.state,r):(_o("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ja(),s=0;i&&s<r.activeTargetIds.length;++s)i=Qo(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(_o("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ah=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(_o("SharedClientState","Failed to parse online state: "+e),null)},t}(),uh=function(){function t(){this.activeTargetIds=Ja()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ch=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ma(ko),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=eh(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new uh),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,po.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,po.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(eh(this.persistenceKey,r)))&&(o=sh.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(rh(this.persistenceKey,t));if(n){var r=oh.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(rh(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return wo("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){wo("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){wo("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(wo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void _o("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,po.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,po.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=go.o;if(null!=t)try{var n=JSON.parse(t);Co("number"==typeof n),e=n}catch(t){_o("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==go.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new ih(this.currentUser,t,e,n),i=nh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=nh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=rh(this.persistenceKey,t),i=new oh(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return sh.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return ih.Vs(new th(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return oh.Vs(r,e)},t.prototype.js=function(t){return ah.Vs(t)},t.prototype.ii=function(t){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(wo("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ja();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),lh=function(){function t(){this.li=new uh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new uh,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),hh=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),fh=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){wo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){wo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),dh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ph=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),gh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,po.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new fo;s.listenOnce(uo.COMPLETE,function(){try{switch(s.getLastErrorCode()){case ao.NO_ERROR:var e=s.getResponseJson();wo("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ao.TIMEOUT:wo("Connection",'RPC "'+t+'" timed out'),o(new yo(mo.DEADLINE_EXCEEDED,"Request time out"));break;case ao.HTTP_ERROR:var n=s.getStatus();if(wo("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(mo).indexOf(e)>=0?e:mo.UNKNOWN}(r.status);o(new yo(a,r.message))}else o(new yo(mo.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new yo(mo.UNAVAILABLE,"Connection failed."));break;default:To()}}finally{wo("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Wi,i=Xn(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new lo({})),this.Fi(o.initMessageHeaders,e),(0,ne.uI)()||(0,ne.b$)()||(0,ne.d)()||(0,ne.w1)()||(0,ne.Mn)()||(0,ne.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");wo("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new ph({Ei:function(t){c?wo("Connection","Not sending because WebChannel is closed:",t):(u||(wo("Connection","Opening WebChannel transport."),a.open(),u=!0),wo("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ho.EventType.OPEN,function(){c||wo("Connection","WebChannel transport opened.")}),h(a,ho.EventType.CLOSE,function(){c||(c=!0,wo("Connection","WebChannel transport closed"),l.Vi())}),h(a,ho.EventType.ERROR,function(t){c||(c=!0,Eo("Connection","WebChannel transport errored:",t),l.Vi(new yo(mo.UNAVAILABLE,"The operation could not be completed")))}),h(a,ho.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Co(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){wo("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Oa[t];if(void 0!==e)return Fa(e)}(i),s=r.message;void 0===o&&(o=mo.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new yo(o,s)),a.close()}else wo("Connection","WebChannel received:",n),l.Si(n)}}),h(i,co.STAT_EVENT,function(t){10===t.stat?wo("Connection","Detected buffering proxy"):11===t.stat&&wo("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);wo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return wo("RestConnection","Received: ",t),t},function(e){throw Eo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.7",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+dh[t]},t}());function mh(){return"undefined"!=typeof window?window:null}function yh(){return"undefined"!=typeof document?document:null}function vh(t){return new cu(t,!0)}var bh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&wo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),wh=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new bh(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===mo.RESOURCE_EXHAUSTED?(_o(e.toString()),_o("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===mo.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new yo(mo.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,po.mG)(t,void 0,void 0,function(){return(0,po.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return wo("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(wo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),_h=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,po.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:To()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Co(void 0===e||"string"==typeof e),Go.fromBase64String(e||"")):(Co(void 0===e||e instanceof Uint8Array),Go.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?mo.UNKNOWN:Fa(t.code);return new yo(e,t.message||"")}(a);n=new nu(r,i,o,s||null)}else if("documentChange"in e){i=yu(t,(r=e.documentChange).document.name),o=du(r.document.updateTime);var a=new ps({mapValue:{fields:r.document.fields}}),u=(s=ms.newFoundDocument(i,o,a),r.targetIds||[]);n=new tu(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=yu(t,(r=e.documentDelete).document),o=r.readTime?du(r.readTime):No.min(),a=ms.newNoDocument(i,o),n=new tu([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=yu(t,(r=e.documentRemove).document),n=new tu([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return To();var c=e.filter;i=new Ra(r=c.count||0),n=new eu(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return No.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?No.min():e.readTime?du(e.readTime):No.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=wu(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=_s(r)?{documents:Iu(t,r)}:{query:xu(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=hu(t,e.resumeToken):e.snapshotVersion.compareTo(No.min())>0&&(n.readTime=lu(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return To()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=wu(this.R),e.removeTarget=t,this.cr(e)},e}(wh),Eh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,po.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Co(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Co(void 0!==e),t.map(function(t){return function(t,e){var n=du(t.updateTime?t.updateTime:e);return n.isEqual(No.min())&&(n=du(e)),new ma(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=du(t.commitTime);return this.listener.Tr(n,e)}return Co(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=wu(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Tu(e.R,t)})};this.cr(n)},e}(wh),Sh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,po.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new yo(mo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===mo.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yo(mo.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===mo.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yo(mo.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Th=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(_o(e),this.Vr=!1):wo("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Ch=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,po.mG)(o,void 0,void 0,function(){return(0,po.Jh)(this,function(t){switch(t.label){case 0:return Rh(this)?(wo("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,po.mG)(this,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return(e=Io(t)).Or.add(4),[4,xh(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Ih(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Th(n,r)};function Ih(t){return(0,po.mG)(this,void 0,void 0,function(){var e,n;return(0,po.Jh)(this,function(r){switch(r.label){case 0:if(!Rh(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function xh(t){return(0,po.mG)(this,void 0,void 0,function(){var e,n;return(0,po.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ah(t,e){var n=Io(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Nh(n)?Dh(n):Yh(n).er()&&Oh(n,e))}function kh(t,e){var n=Io(t),r=Yh(n);n.$r.delete(e),r.er()&&Ph(n,e),0===n.$r.size&&(r.er()?r.ir():Rh(n)&&n.Br.set("Unknown"))}function Oh(t,e){t.qr.U(e.targetId),Yh(t).mr(e)}function Ph(t,e){t.qr.U(e),Yh(t).yr(e)}function Dh(t){t.qr=new iu({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Yh(t).start(),t.Br.Sr()}function Nh(t){return Rh(t)&&!Yh(t).tr()&&t.$r.size>0}function Rh(t){return 0===Io(t).Or.size}function Lh(t){t.qr=void 0}function Fh(t){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(e){return t.$r.forEach(function(e,n){Oh(t,e)}),[2]})})}function Mh(t,e){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(n){return Lh(t),Nh(t)?(t.Br.Nr(e),Dh(t)):t.Br.set("Unknown"),[2]})})}function Vh(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i,o;return(0,po.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof nu&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,po.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),wo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Uh(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof tu?t.qr.X(e):e instanceof eu?t.qr.rt(e):t.qr.et(e),n.isEqual(No.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Dl(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Go.EMPTY_BYTE_STRING,n.snapshotVersion)),Ph(t,e);var r=new Tc(n.target,e,1,n.sequenceNumber);Oh(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return wo("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Uh(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Uh(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r=this;return(0,po.Jh)(this,function(i){switch(i.label){case 0:if(!gc(e))throw e;return t.Or.add(1),[4,xh(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Dl(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,po.mG)(r,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return wo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Ih(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function jh(t,e){return e().catch(function(n){return Uh(t,n,e)})}function qh(t){return(0,po.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,po.Jh)(this,function(s){switch(s.label){case 0:e=Io(t),n=Wh(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Rh(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ll(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Wh(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Uh(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Gh(e)&&Bh(e),[2]}})})}function Gh(t){return Rh(t)&&!Wh(t).tr()&&t.kr.length>0}function Bh(t){Wh(t).start()}function zh(t){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(e){return Wh(t).Ar(),[2]})})}function Hh(t){return(0,po.mG)(this,void 0,void 0,function(){var e,n,r;return(0,po.Jh)(this,function(i){for(e=Wh(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function $h(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Sc.from(r,e,n),[4,jh(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,qh(t)];case 2:return o.sent(),[2]}})})}function Zh(t,e){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(n){switch(n.label){case 0:return e&&Wh(t).pr?[4,function(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return La(r=e.code)&&r!==mo.ABORTED?(n=t.kr.shift(),Wh(t).sr(),[4,jh(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,qh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Gh(t)&&Bh(t),[2]}})})}function Kh(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n;return(0,po.Jh)(this,function(r){switch(r.label){case 0:return n=Io(t),e?(n.Or.delete(2),[4,Ih(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,xh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Yh(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Io(t);return r.br(),new _h(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Fh.bind(null,t),Ri:Mh.bind(null,t),_r:Vh.bind(null,t)}),t.Mr.push(function(n){return(0,po.mG)(e,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Nh(t)?Dh(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Lh(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Wh(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Io(t);return r.br(),new Eh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:zh.bind(null,t),Ri:Zh.bind(null,t),Ir:Hh.bind(null,t),Tr:$h.bind(null,t)}),t.Mr.push(function(n){return(0,po.mG)(e,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,qh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(wo("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Jh=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yo(mo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Qh(t,e){if(_o("AsyncQueue",e+": "+t),gc(t))return new yo(mo.UNAVAILABLE,e+": "+t);throw t}var Xh=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Xo.comparator(e.key,n.key)}:function(t,e){return Xo.comparator(t.key,e.key)},this.keyedMap=Ha(),this.sortedSet=new Ma(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),tf=function(){function t(){this.Kr=new Ma(Xo.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):To():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),ef=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Xh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ks(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),nf=function(){this.Wr=void 0,this.listeners=[]},rf=function(){this.queries=new ll(function(t){return Ys(t)},Ks),this.onlineState="Unknown",this.Gr=new Set};function of(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,po.Jh)(this,function(c){switch(c.label){case 0:if(n=Io(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new nf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Qh(a,"Initialization of query '"+Ws(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&cf(n),[2]}})})}function sf(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,po.Jh)(this,function(a){return n=Io(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function af(t,e){for(var n=Io(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&cf(n)}function uf(t,e,n){var r=Io(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function cf(t){t.Gr.forEach(function(t){t.next()})}var lf=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ef(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ef.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),hf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ff=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return yu(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Su(this.R,t.document,!1):ms.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return du(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ff(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ya()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,po.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return[4,Gl(this.localStore,new ff(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Bl(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Tl(Object.assign({},this.progress),t))]}})})}}();var df=function(t){this.key=t},pf=function(t){this.key=t},gf=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ya(),this.mutatedKeys=Ya(),this.lo=Qs(t),this.fo=new Xh(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new tf,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=js(this.query)&&i.size===this.query.limit?i.last():null,c=qs(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Js(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),js(this.query)||qs(this.query))for(;s.size>this.query.limit;){var l=js(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return To()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new ef(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new tf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ya(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new pf(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new df(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ya();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ef.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),mf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yf=function(t){this.key=t,this.bo=!1},vf=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ll(function(t){return Ys(t)},Ks),this.Vo=new Map,this.So=new Set,this.Do=new Ma(Xo.comparator),this.Co=new Map,this.No=new Hl,this.xo={},this.Fo=new Map,this.ko=Qc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function bf(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,po.Jh)(this,function(a){switch(a.label){case 0:return n=Kf(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Fl(n.localStore,$s(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,wf(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Ah(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function wf(t,e,n,r){return(0,po.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,po.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,po.mG)(this,void 0,void 0,function(){var i,o,s;return(0,po.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Vl(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Nf(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Vl(t.localStore,e,!0)];case 1:return i=l.sent(),o=new gf(e,i.Bn),s=o._o(i.documents),a=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Nf(t,n,u.To),c=new mf(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function _f(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return n=Io(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Ks(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ml(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),kh(n.remoteStore,r.targetId),Pf(n,r.targetId)}).catch(rl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Pf(n,r.targetId),[4,Ml(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ef(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,po.Jh)(this,function(a){switch(a.label){case 0:r=Yf(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Io(t),i=Do.now(),o=e.reduce(function(t,e){return t.add(e.key)},Ya());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ea(c,n.get(c.key));null!=l&&s.push(new Ia(c.key,l,gs(l.value.mapValue),ya.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ma(ko)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ff(r,i.changes)];case 3:return a.sent(),[4,qh(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Qh(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Sf(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r;return(0,po.Jh)(this,function(i){switch(i.label){case 0:n=Io(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Nl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Co(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Co(r.bo):t.removedDocuments.size>0&&(Co(r.bo),r.bo=!1))}),[4,Ff(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,rl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Tf(t,e,n){var r=Io(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Io(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&cf(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cf(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,po.Jh)(this,function(c){switch(c.label){case 0:return(r=Io(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Ma(Xo.comparator)).insert(o,ms.newNoDocument(o,No.min())),a=Ya().add(o),u=new Qa(No.min(),new Map,new ja(ko),s,a),[4,Sf(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Lf(r),[3,4];case 2:return[4,Ml(r.localStore,e,!1).then(function(){return Pf(r,e,n)}).catch(rl)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function If(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i;return(0,po.Jh)(this,function(o){switch(o.label){case 0:n=Io(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Pl(n.localStore,e)];case 2:return i=o.sent(),Of(n,r,null),kf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ff(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,rl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function xf(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i;return(0,po.Jh)(this,function(o){switch(o.label){case 0:r=Io(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Io(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Co(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Of(r,e,n),kf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ff(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,rl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Af(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,po.Jh)(this,function(a){switch(a.label){case 0:Rh((n=Io(t)).remoteStore)||wo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Io(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Qh(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function kf(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Of(t,e,n){var r=Io(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Pf(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Df(t,e)})}function Df(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(kh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Lf(t))}function Nf(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof df?(t.No.addReference(o.key,e),Rf(t,o)):o instanceof pf?(wo("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Df(t,o.key)):To()}}function Rf(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(wo("SyncEngine","New document in limbo: "+n),t.So.add(r),Lf(t))}function Lf(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Xo(Vo.fromString(e)),r=t.ko.next();t.Co.set(r,new yf(n)),t.Do=t.Do.insert(n,r),Ah(t.remoteStore,new Tc($s(Us(n.path)),r,2,go.o))}}function Ff(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,po.Jh)(this,function(a){switch(a.label){case 0:return r=Io(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Il.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,po.Jh)(this,function(l){switch(l.label){case 0:n=Io(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return lc.forEach(e,function(e){return lc.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return lc.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!gc(r=l.sent()))throw r;return wo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Mf(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return(n=Io(t)).currentUser.isEqual(e)?[3,3]:(wo("SyncEngine","User change. New user:",e.toKey()),[4,Ol(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new yo(mo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ff(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Vf(t,e){var n=Io(t),r=n.Co.get(e);if(r&&r.bo)return Ya().add(r.key);var i=Ya(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Uf(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return[4,Vl((n=Io(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Nf(n,e.targetId,i.To),i)]}})})}function jf(t){return(0,po.mG)(this,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){return[2,jl((e=Io(t)).localStore).then(function(t){return Ff(e,t)})]})})}function qf(t,e,n,r){return(0,po.mG)(this,void 0,void 0,function(){var i,o;return(0,po.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Io(t),r=Io(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):lc.resolve(null)})})}((i=Io(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,qh(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Of(i,e,r||null),kf(i,e),function(t,e){Io(Io(t)._n).Gt(e)}(i.localStore,e)):To(),s.label=4;case 4:return[4,Ff(i,o)];case 5:return s.sent(),[3,7];case 6:wo("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Gf(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,po.Jh)(this,function(c){switch(c.label){case 0:return Kf(n=Io(t)),Yf(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Bf(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Kh(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Ah(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Pf(n,e),Ml(n.localStore,e,!0)}),kh(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Bf(n,a)];case 5:return c.sent(),function(t){var e=Io(t);e.Co.forEach(function(t,n){kh(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Ma(Xo.comparator)}(n),n.$o=!1,[4,Kh(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Bf(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,po.Jh)(this,function(g){switch(g.label){case 0:n=Io(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Fl(n.localStore,$s(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Uf(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ul(n.localStore,a)];case 8:return p=g.sent(),[4,Fl(n.localStore,p)];case 9:return u=g.sent(),[4,wf(n,zf(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function zf(t){return Vs(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Hf(t){var e=Io(t);return Io(Io(e.localStore).persistence).fn()}function $f(t,e,n,r){return(0,po.mG)(this,void 0,void 0,function(){var i,o,s;return(0,po.Jh)(this,function(a){switch(a.label){case 0:return(i=Io(t)).$o?(wo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jl(i.localStore)];case 3:return o=a.sent(),s=Qa.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ff(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Ml(i.localStore,e,!0)];case 6:return a.sent(),Pf(i,e,r),[3,8];case 7:To(),a.label=8;case 8:return[2]}})})}function Zf(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,po.Jh)(this,function(f){switch(f.label){case 0:if(!(r=Kf(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(wo("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ul(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Fl(r.localStore,a)];case 3:return u=f.sent(),[4,wf(r,zf(a),u.targetId,!1)];case 4:f.sent(),Ah(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ml(r.localStore,t,!1).then(function(){kh(r.remoteStore,t),Pf(r,t)}).catch(rl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Kf(t){var e=Io(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cf.bind(null,e),e.vo._r=af.bind(null,e.eventManager),e.vo.Mo=uf.bind(null,e.eventManager),e}function Yf(t){var e=Io(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=If.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xf.bind(null,e),e}var Wf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return this.R=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return kl(this.persistence,new xl,t.initialUser,this.R)},t.prototype.qo=function(t){return new Jl(Xl.bs,this.R)},t.prototype.Bo=function(t){return new lh},t.prototype.terminate=function(){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Jf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,po.ZT)(e,t),e.prototype.initialize=function(e){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ql(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Yf(this.Ko.syncEngine)];case 4:return n.sent(),[4,qh(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return kl(this.persistence,new xl,t.initialUser,this.R)},e.prototype.Uo=function(t){return new sl(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Sl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?zc.withCacheSize(this.cacheSizeBytes):zc.DEFAULT;return new wl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,mh(),yh(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new lh},e}(Wf),Qf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,po.ZT)(e,t),e.prototype.initialize=function(e){return(0,po.mG)(this,void 0,void 0,function(){var n,r=this;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof ch?(this.sharedClientState.syncEngine={ui:qf.bind(null,n),ai:$f.bind(null,n),hi:Zf.bind(null,n),fn:Hf.bind(null,n),ci:jf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,po.mG)(r,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return[4,Gf(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=mh();if(!ch.yt(e))throw new yo(mo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Sl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ch(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Jf),Xf=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n=this;return(0,po.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Tf(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Mf.bind(null,this.syncEngine),[4,Kh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new rf},t.prototype.createDatastore=function(t){var e=vh(t.databaseInfo.databaseId),n=new gh(t.databaseInfo);return function(t,e,n){return new Sh(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Tf(s.syncEngine,t,0)},o=fh.yt()?new fh:new hh,new Ch(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new vf(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,po.mG)(this,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return e=Io(t),wo("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,xh(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),td=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ed=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new cc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,po.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new hf(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,po.mG)(this,void 0,void 0,function(){var t,e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,po.mG)(this,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,po.mG)(this,void 0,void 0,function(){var t,e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,po.mG)(this,void 0,void 0,function(){var e,n=this;return(0,po.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yo(mo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,po.Jh)(this,function(u){switch(u.label){case 0:return n=Io(t),r=wu(n.R)+"/documents",i={documents:e.map(function(t){return mu(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Co(!!e.found);var n=yu(t,e.found.name),r=du(e.found.updateTime),i=new ps({mapValue:{fields:e.found.fields}});return ms.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Co(!!e.missing),Co(!!e.readTime);var n=yu(t,e.missing),r=du(e.readTime);return ms.newNoDocument(n,r)}(t,e):To()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Co(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Da(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,po.mG)(this,void 0,void 0,function(){var t,e=this;return(0,po.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Xo.fromPath(n);e.mutations.push(new Na(r,e.precondition(r)))}),[4,function(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return n=Io(t),r=wu(n.R)+"/documents",i={writes:e.map(function(t){return Tu(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw To();e=No.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new yo(mo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ya.updateTime(e):ya.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(No.min()))throw new yo(mo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ya.updateTime(e)}return ya.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),nd=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new bh(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,po.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,po.Jh)(this,function(r){return t=new ed(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Wo(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!La(e)}return!1},t}(),rd=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=th.UNAUTHENTICATED,this.clientId=Ao.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,po.mG)(r,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return wo("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new yo(mo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new cc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,po.mG)(t,void 0,void 0,function(){var t,n;return(0,po.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Qh(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function id(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),wo("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,po.mG)(i,void 0,void 0,function(){return(0,po.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Ol(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function od(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,sd(t)];case 1:return n=i.sent(),wo("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,po.mG)(this,void 0,void 0,function(){var n,r;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return(n=Io(t)).asyncQueue.verifyOperationInProgress(),wo("RemoteStore","RemoteStore received new credentials"),r=Rh(n),n.Or.add(3),[4,xh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Ih(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function sd(t){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(wo("FirestoreClient","Using default OfflineComponentProvider"),[4,id(t,new Wf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function ad(t){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(wo("FirestoreClient","Using default OnlineComponentProvider"),[4,od(t,new Xf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function ud(t){return sd(t).then(function(t){return t.persistence})}function cd(t){return sd(t).then(function(t){return t.localStore})}function ld(t){return ad(t).then(function(t){return t.remoteStore})}function hd(t){return ad(t).then(function(t){return t.syncEngine})}function fd(t){return(0,po.mG)(this,void 0,void 0,function(){var e,n;return(0,po.Jh)(this,function(r){switch(r.label){case 0:return[4,ad(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=bf.bind(null,e.syncEngine),n.onUnlisten=_f.bind(null,e.syncEngine),n)]}})})}function dd(t,e,n){var r=this;void 0===n&&(n={});var i=new cc;return t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(r,void 0,void 0,function(){var r;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new td({next:function(o){e.enqueueAndForget(function(){return sf(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new yo(mo.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new yo(mo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new lf(Us(n.path),o,{includeMetadataChanges:!0,so:!0});return of(t,s)},[4,fd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function pd(t,e,n){var r=this;void 0===n&&(n={});var i=new cc;return t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(r,void 0,void 0,function(){var r;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new td({next:function(n){e.enqueueAndForget(function(){return sf(t,s)}),n.fromCache&&"server"===r.source?i.reject(new yo(mo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new lf(n,o,{includeMetadataChanges:!0,so:!0});return of(t,s)},[4,fd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var gd=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},md=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),yd=new Map,vd=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},bd=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(th.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),wd=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_d=function(){function t(t){var e=this;this.currentUser=th.UNAUTHENTICATED,this.oc=new cc,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){wo("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(wo("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(wo("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Co("string"==typeof n.accessToken),new vd(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,po.mG)(n,void 0,void 0,function(){return(0,po.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Co(null===t||"string"==typeof t),new th(t)},t}(),Ed=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=th.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Sd=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ed(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(th.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Td(t,e,n){if(!n)throw new yo(mo.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Cd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yo(mo.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Id(t,e,n,r){if(!0===e&&!0===r)throw new yo(mo.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function xd(t){if(!Xo.isDocumentKey(t))throw new yo(mo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ad(t){if(Xo.isDocumentKey(t))throw new yo(mo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function kd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":To()}function Od(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yo(mo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kd(t);throw new yo(mo.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Pd(t,e){if(e<=0)throw new yo(mo.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Dd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yo(mo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yo(mo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Id("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Nd=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dd({}),this._settingsFrozen=!1,t instanceof md?(this._databaseId=t,this._credentials=new bd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yo(mo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(t.options.projectId)}(t),this._credentials=new _d(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new yo(mo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new yo(mo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new bd;switch(t.type){case"gapi":var e=t.client;return Co(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Sd(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new yo(mo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=yd.get(this))&&(wo("ComponentProvider","Removing Datastore"),yd.delete(this),t.terminate()),Promise.resolve();var t},t}(),Rd=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Fd(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ld=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Fd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Us(r))||this)._path=r,i.type="collection",i}return(0,po.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Rd(this.firestore,null,new Xo(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ld);function Md(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,ne.m9)(t),Td("collection","path",e),t instanceof Nd)return Ad(n=Vo.fromString.apply(Vo,(0,po.ev)([e],r))),new Fd(t,null,n);if(!(t instanceof Rd||t instanceof Fd))throw new yo(mo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ad(n=Vo.fromString.apply(Vo,(0,po.ev)([t.path],r)).child(Vo.fromString(e))),new Fd(t.firestore,null,n)}function Vd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,ne.m9)(t),1===arguments.length&&(e=Ao.u()),Td("doc","path",e),t instanceof Nd)return xd(n=Vo.fromString.apply(Vo,(0,po.ev)([e],r))),new Rd(t,null,new Xo(n));if(!(t instanceof Rd||t instanceof Fd))throw new yo(mo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xd(n=t._path.child(Vo.fromString.apply(Vo,(0,po.ev)([e],r)))),new Rd(t.firestore,t instanceof Fd?t.converter:null,new Xo(n))}function Ud(t,e){return t=(0,ne.m9)(t),e=(0,ne.m9)(e),(t instanceof Rd||t instanceof Fd)&&(e instanceof Rd||e instanceof Fd)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function jd(t,e){return t=(0,ne.m9)(t),e=(0,ne.m9)(e),t instanceof Ld&&e instanceof Ld&&t.firestore===e.firestore&&Ks(t._query,e._query)&&t.converter===e.converter}var qd=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new bh(this,"async_queue_retry"),this.Tc=function(){var e=yh();e&&wo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=yh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=yh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return(0,po.mG)(this,void 0,void 0,function(){var t,e=this;return(0,po.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!gc(t=n.sent()))throw t;return wo("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,_o("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=Jh.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&To()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return(0,po.mG)(this,void 0,void 0,function(){var t;return(0,po.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Gd(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new cc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Bd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new qd,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,po.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Hd(this),this._firestoreClient.terminate()},e}(Nd);function zd(t){return t._firestoreClient||Hd(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hd(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new gd(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new rd(t._credentials,t._queue,r)}function $d(t,e,n){var r=this,i=new cc;return t.asyncQueue.enqueue(function(){return(0,po.mG)(r,void 0,void 0,function(){var r;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,id(t,n)];case 1:return o.sent(),[4,od(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===mo.FAILED_PRECONDITION||t.code===mo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Zd(t){if(t._initialized||t._terminated)throw new yo(mo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new yo(mo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jo(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Yd=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Go.fromBase64String(e))}catch(e){throw new yo(mo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Go.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Wd=function(t){this._methodName=t},Jd=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new yo(mo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yo(mo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ko(this._lat,t._lat)||ko(this._long,t._long)},t}(),Qd=/^__.*__$/,Xd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ia(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ca(t,this.data,e,this.fieldTransforms)},t}(),tp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ia(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ep(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw To()}}var np=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return Ep(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(ep(this.Cc)&&Qd.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),rp=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||vh(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new np({Cc:t,methodName:e,Bc:n,path:jo.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function ip(t){var e=t._freezeSettings(),n=vh(t._databaseId);return new rp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function op(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);vp("Data must be an object, but it was:",s,r);var a,u,c=mp(r,s);if(o.merge)a=new qo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=bp(e,f[h],n);if(!s.contains(d))throw new yo(mo.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Sp(l,d)||l.push(d)}a=new qo(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Xd(new ps(c),a,u)}var sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,po.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Wd);function ap(t,e,n){return new np({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var up=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,po.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new ga(t.path,new aa)},e.prototype.isEqual=function(t){return t instanceof e},e}(Wd),cp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,po.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=ap(this,t,!0),n=this.Uc.map(function(t){return gp(t,e)}),r=new ua(n);return new ga(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Wd),lp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,po.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=ap(this,t,!0),n=this.Uc.map(function(t){return gp(t,e)}),r=new la(n);return new ga(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Wd),hp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,po.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new fa(t.R,na(t.R,this.Qc));return new ga(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Wd);function fp(t,e,n,r){var i=t.qc(1,e,n);vp("Data must be an object, but it was:",i,r);var o=[],s=ps.empty();Lo(r,function(t,r){var a=_p(e,t,n);r=(0,ne.m9)(r);var u=i.$c(a);if(r instanceof sp)o.push(a);else{var c=gp(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new qo(o);return new tp(s,a,i.fieldTransforms)}function dp(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[bp(e,r,n)],u=[i];if(o.length%2!=0)throw new yo(mo.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(bp(e,o[c])),u.push(o[c+1]);for(var l=[],h=ps.empty(),f=a.length-1;f>=0;--f)if(!Sp(l,a[f])){var d=a[f],p=u[f];p=(0,ne.m9)(p);var g=s.$c(d);if(p instanceof sp)l.push(d);else{var m=gp(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new qo(l);return new tp(h,y,s.fieldTransforms)}function pp(t,e,n,r){return void 0===r&&(r=!1),gp(n,t.qc(r?4:3,e))}function gp(t,e){if(yp(t=(0,ne.m9)(t)))return vp("Unsupported field value:",e,t),mp(t,e);if(t instanceof Wd)return function(t,e){if(!ep(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=gp(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,ne.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return na(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Do.fromDate(t);return{timestampValue:lu(e.R,n)}}if(t instanceof Do)return n=new Do(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:lu(e.R,n)};if(t instanceof Jd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yd)return{bytesValue:hu(e.R,t._byteString)};if(t instanceof Rd){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:pu(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+kd(t))}(t,e)}function mp(t,e){var n={};return Fo(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,function(t,r){var i=gp(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function yp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Do||t instanceof Jd||t instanceof Yd||t instanceof Rd||t instanceof Wd)}function vp(t,e,n){if(!yp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=kd(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function bp(t,e,n){if((e=(0,ne.m9)(e))instanceof Kd)return e._internalPath;if("string"==typeof e)return _p(t,e);throw Ep("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var wp=new RegExp("[~\\*/\\[\\]]");function _p(t,e,n){if(e.search(wp)>=0)throw Ep("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Kd.bind.apply(Kd,(0,po.ev)([void 0],e.split(".")))))._internalPath}catch(we){throw Ep("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ep(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new yo(mo.INVALID_ARGUMENT,(a+=". ")+t+u)}function Sp(t,e){return t.some(function(t){return t.isEqual(e)})}var Tp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Rd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Cp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Ip("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Cp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,po.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Tp);function Ip(t,e){return"string"==typeof e?_p(t,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}var xp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ap=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,po.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Ip("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Tp),kp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,po.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ap),Op=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new kp(n._firestore,n._userDataWriter,r.key,r,new xp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yo(mo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new kp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new kp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Pp(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Pp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return To()}}function Dp(t,e){return t instanceof Ap&&e instanceof Ap?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Op&&e instanceof Op&&t._firestore===e._firestore&&jd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Np(t){if(qs(t)&&0===t.explicitOrderBy.length)throw new yo(mo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rp=function(){};function Lp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Fp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return(0,po.ZT)(e,t),e.prototype._apply=function(t){var e=ip(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yo(mo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Bp(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Gp(r,t,l[c]));a={arrayValue:{values:u}}}else a=Gp(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Bp(s,o),a=pp(n,"where",s,"in"===o||"not-in"===o);var h=Es.create(i,o,a);return function(t,e){if(e.g()){var n=Bs(t);if(null!==n&&!n.isEqual(e.field))throw new yo(mo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Gs(t);null!==r&&zp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new yo(mo.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new Ld(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Rp),Mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return(0,po.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new yo(mo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yo(mo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ns(e,n);return function(t,e){if(null===Gs(t)){var n=Bs(t);null!==n&&zp(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new Ld(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ms(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Rp),Vp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return(0,po.ZT)(e,t),e.prototype._apply=function(t){return new Ld(t.firestore,t.converter,Zs(t._query,this.zc,this.Hc))},e}(Rp),Up=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,po.ZT)(e,t),e.prototype._apply=function(t){var e=qp(t,this.type,this.Jc,this.Yc);return new Ld(t.firestore,t.converter,function(t,e){return new Ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Rp),jp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,po.ZT)(e,t),e.prototype._apply=function(t){var e=qp(t,this.type,this.Jc,this.Yc);return new Ld(t.firestore,t.converter,function(t,e){return new Ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Rp);function qp(t,e,n,r){if(n[0]=(0,ne.m9)(n[0]),n[0]instanceof Tp)return function(t,e,n,r,i){if(!r)throw new yo(mo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Hs(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(as(e,r.key));else{var c=r.data.field(u.field);if(Zo(c))throw new yo(mo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new yo(mo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ps(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=ip(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new yo(mo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new yo(mo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!zs(t)&&-1!==c.indexOf("/"))throw new yo(mo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Vo.fromString(c));if(!Xo.isDocumentKey(l))throw new yo(mo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Xo(l);a.push(as(e,h))}else{var f=pp(n,r,c);a.push(f)}}return new Ps(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Gp(t,e,n){if("string"==typeof(n=(0,ne.m9)(n))){if(""===n)throw new yo(mo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zs(e)&&-1!==n.indexOf("/"))throw new yo(mo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Vo.fromString(n));if(!Xo.isDocumentKey(r))throw new yo(mo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return as(t,new Xo(r))}if(n instanceof Rd)return as(t,n._key);throw new yo(mo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kd(n)+".")}function Bp(t,e){if(!Array.isArray(t)||0===t.length)throw new yo(mo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new yo(mo.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zp(t,e,n){if(!n.isEqual(e))throw new yo(mo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Hp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ho(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($o(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw To()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Lo(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Jd(Ho(t.latitude),Ho(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ko(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Yo(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=zo(t);return new Do(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Vo.fromString(t);Co(Uu(n));var r=new md(n.get(1),n.get(3)),i=new Xo(n.popFirst(5));return r.isEqual(e)||_o("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function $p(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Zp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,po.ZT)(e,t),e.prototype.convertBytes=function(t){return new Yd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rd(this.firestore,null,e)},e}(Hp),Kp=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ip(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Yp(t,this._firestore),i=$p(r.converter,e,n),o=op(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ya.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Yp(t,this._firestore);return o="string"==typeof(e=(0,ne.m9)(e))||e instanceof Kd?dp(this._dataReader,"WriteBatch.update",s._key,e,n,r):fp(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,ya.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Yp(t,this._firestore);return this._mutations=this._mutations.concat(new Da(e._key,ya.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new yo(mo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Yp(t,e){if((t=(0,ne.m9)(t)).firestore!==e)throw new yo(mo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Wp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,po.ZT)(e,t),e.prototype.convertBytes=function(t){return new Yd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rd(this.firestore,null,e)},e}(Hp);function Jp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Od(t,Rd);var o=Od(t.firestore,Bd),s=ip(o);return Xp(o,[("string"==typeof(e=(0,ne.m9)(e))||e instanceof Kd?dp(s,"updateDoc",t._key,e,n,r):fp(s,"updateDoc",t._key,e)).toMutation(t._key,ya.exists(!0))])}function Qp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,ne.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Gd(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Gd(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Rd)c=Od(t.firestore,Bd),l=Us(t._key.path),u={next:function(e){i[a]&&i[a](tg(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Od(t,Ld);c=Od(d.firestore,Bd),l=d._query;var p=new Wp(c);u={next:function(t){i[a]&&i[a](new Op(c,p,d,t))},error:i[a+1],complete:i[a+2]},Np(t._query)}return function(t,e,n,r){var i=this,o=new td(r),s=new lf(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(i,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return e=of,[4,fd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(i,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return e=sf,[4,fd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(zd(c),l,h,u)}function Xp(t,e){return function(t,e){var n=this,r=new cc;return t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(n,void 0,void 0,function(){var n;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return n=Ef,[4,hd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(zd(t),e)}function tg(t,e,n){var r=n.docs.get(e._key),i=new Wp(t);return new Ap(t,i,e._key,r,new xp(n.hasPendingWrites,n.fromCache),e.converter)}var eg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,po.ZT)(e,t),e.prototype.get=function(e){var n=this,r=Yp(e,this._firestore),i=new Wp(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Ap(n._firestore,i,r._key,t._document,new xp(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=ip(t)}return t.prototype.get=function(t){var e=this,n=Yp(t,this._firestore),r=new Zp(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return To();var i=t[0];if(i.isFoundDocument())return new Tp(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Tp(e._firestore,r,n._key,null,n.converter);throw To()})},t.prototype.set=function(t,e,n){var r=Yp(t,this._firestore),i=$p(r.converter,e,n),o=op(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Yp(t,this._firestore);return o="string"==typeof(e=(0,ne.m9)(e))||e instanceof Kd?dp(this._dataReader,"Transaction.update",s._key,e,n,r):fp(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Yp(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ng(){if("undefined"==typeof Uint8Array)throw new yo(mo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rg(){if("undefined"==typeof atob)throw new yo(mo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ig=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return rg(),new t(Yd.fromBase64String(e))},t.fromUint8Array=function(e){return ng(),new t(Yd.fromUint8Array(e))},t.prototype.toBase64=function(){return rg(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ng(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),og=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Zd(t=Od(t,Bd));var n=zd(t),r=t._freezeSettings(),i=new Xf;return $d(n,i,new Jf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Zd(t=Od(t,Bd));var e=zd(t),n=t._freezeSettings(),r=new Xf;return $d(e,r,new Qf(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new yo(mo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new cc;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,po.mG)(e,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,po.mG)(this,void 0,void 0,function(){return(0,po.Jh)(this,function(e){switch(e.label){case 0:return fc.yt()?[4,fc.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Sl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),sg=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof md||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Eo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Od(t,Nd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Eo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,ne.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new yo(mo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new wd(new vd(o,new th(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,po.mG)(e,void 0,void 0,function(){var e,n;return(0,po.Jh)(this,function(r){switch(r.label){case 0:return[4,ud(t)];case 1:return e=r.sent(),[4,ld(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Io(t);return e.Or.delete(0),Ih(e)}(n))]}})})})}(zd(Od(this._delegate,Bd)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,po.mG)(e,void 0,void 0,function(){var e,n;return(0,po.Jh)(this,function(r){switch(r.label){case 0:return[4,ud(t)];case 1:return e=r.sent(),[4,ld(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,po.mG)(this,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return(e=Io(t)).Or.add(0),[4,xh(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(zd(Od(this._delegate,Bd)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Id("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new cc;return t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(e,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(r){switch(r.label){case 0:return e=Af,[4,hd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(zd(Od(this._delegate,Bd)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new td(e);return t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(n,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Io(t).Gr.add(e),e.next()},[4,fd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(n,void 0,void 0,function(){var e;return(0,po.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Io(t).Gr.delete(e)},[4,fd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(zd(t=Od(t,Bd)),Gd(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new yo(mo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new wg(this,Md(this._delegate,t))}catch(t){throw fg(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new hg(this,Vd(this._delegate,t))}catch(t){throw fg(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new yg(this,function(t,e){if(t=Od(t,Nd),Td("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yo(mo.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ld(t,null,function(t){return new Ms(Vo.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw fg(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new cc;return t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(n,void 0,void 0,function(){var n;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return ad(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new nd(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(zd(t),function(n){return e(new eg(t,n))})}(this._delegate,function(n){return t(new ug(e,n))})},t.prototype.batch=function(){var t=this;return zd(this._delegate),new cg(new Kp(this._delegate,function(e){return Xp(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new yo(mo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new yo(mo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ag=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,po.ZT)(e,t),e.prototype.convertBytes=function(t){return new ig(new Yd(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return hg.tu(e,this.firestore,null)},e}(Hp),ug=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ag(t)}return t.prototype.get=function(t){var e=this,n=_g(t);return this._delegate.get(n).then(function(t){return new gg(e._firestore,new Ap(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=_g(t);return n?(Cd("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=_g(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,po.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=_g(t);return this._delegate.delete(e),this},t}(),cg=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=_g(t);return n?(Cd("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=_g(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,po.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=_g(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),lg=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new kp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mg(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new ag(e),n),i.set(n,o)),o},t}();lg.nu=new WeakMap;var hg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ag(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new yo(mo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Rd(n._delegate,r,new Xo(e)))},t.tu=function(e,n,r){return new t(n,new Rd(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new wg(this.firestore,Md(this._delegate,t))}catch(t){throw fg(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,ne.m9)(t))instanceof Rd&&Ud(this._delegate,t)},t.prototype.set=function(t,e){e=Cd("DocumentReference.set",e);try{return function(t,e,n){t=Od(t,Rd);var r=Od(t.firestore,Bd),i=$p(t.converter,e,n);return Xp(r,[op(ip(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ya.none())])}(this._delegate,t,e)}catch(t){throw fg(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Jp(this._delegate,t):Jp.apply(void 0,(0,po.ev)([this._delegate,t,e],n))}catch(t){throw fg(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Xp(Od((t=this._delegate).firestore,Bd),[new Da(t._key,ya.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=dg(e),i=pg(e,function(e){return new gg(t.firestore,new Ap(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Qp(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Od(t,Rd);var e=Od(t.firestore,Bd),n=zd(e),r=new Wp(e);return function(t,e){var n=this,r=new cc;return t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(n,void 0,void 0,function(){var n;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i;return(0,po.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Io(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new yo(mo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Qh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,cd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Ap(e,r,t._key,n,new xp(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Od(t,Rd);var e=Od(t.firestore,Bd);return dd(zd(e),t._key,{source:"server"}).then(function(n){return tg(e,t,n)})}(this._delegate):function(t){t=Od(t,Rd);var e=Od(t.firestore,Bd);return dd(zd(e),t._key).then(function(n){return tg(e,t,n)})}(this._delegate)).then(function(t){return new gg(e.firestore,new Ap(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?lg.eu(this.firestore,e):null))},t}();function fg(t,e,n){return t.message=t.message.replace(e,n),t}function dg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Gd(r))return r}return{}}function pg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Gd(t[0])?t[0]:Gd(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Dp(this._delegate,t._delegate)},t}(),mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,po.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(gg),yg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ag(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Lp(this._delegate,function(t,e,n){var r=e,i=Ip("where",t);return new Fp(i,r,n)}(e,n,r)))}catch(e){throw fg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Lp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ip("orderBy",t);return new Mp(r,n)}(e,n)))}catch(e){throw fg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Lp(this._delegate,function(t){return Pd("limit",t),new Vp("limit",t,"F")}(e)))}catch(e){throw fg(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Lp(this._delegate,function(t){return Pd("limitToLast",t),new Vp("limitToLast",t,"L")}(e)))}catch(e){throw fg(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Up("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw fg(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Up("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw fg(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jp("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw fg(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jp("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw fg(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return jd(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Od(t,Ld);var e=Od(t.firestore,Bd),n=zd(e),r=new Wp(e);return function(t,e){var n=this,r=new cc;return t.asyncQueue.enqueueAndForget(function(){return(0,po.mG)(n,void 0,void 0,function(){var n;return(0,po.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,po.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,po.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Vl(t,e,!0)];case 1:return a=u.sent(),r=new gf(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Qh(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,cd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Op(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Od(t,Ld);var e=Od(t.firestore,Bd),n=zd(e),r=new Wp(e);return pd(n,t._query,{source:"server"}).then(function(n){return new Op(e,r,t,n)})}(this._delegate):function(t){t=Od(t,Ld);var e=Od(t.firestore,Bd),n=zd(e),r=new Wp(e);return Np(t._query),pd(n,t._query).then(function(n){return new Op(e,r,t,n)})}(this._delegate)).then(function(t){return new bg(e.firestore,new Op(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=dg(e),i=pg(e,function(e){return new bg(t.firestore,new Op(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Qp(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?lg.eu(this.firestore,e):null))},t}(),vg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new mg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),bg=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new yg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new mg(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new vg(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new mg(n._firestore,r))})},t.prototype.isEqual=function(t){return Dp(this._delegate,t._delegate)},t}(),wg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,po.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new hg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hg(this.firestore,void 0===t?Vd(this._delegate):Vd(this._delegate,t))}catch(t){throw fg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Od(t.firestore,Bd),r=Vd(t),i=$p(t.converter,e);return Xp(n,[op(ip(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ya.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new hg(e.firestore,t)})},e.prototype.isEqual=function(t){return Ud(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?lg.eu(this.firestore,t):null))},e}(yg);function _g(t){return Od(t,Rd)}var Eg,Sg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Kd.bind.apply(Kd,(0,po.ev)([void 0],t)))}return t.documentId=function(){return new t(jo.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,ne.m9)(t))instanceof Kd&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Tg=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new up("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new sp("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cp("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lp("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new hp("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Cg=n(5119),Ig={Firestore:sg,GeoPoint:Jd,Timestamp:Do,Blob:ig,Transaction:ug,WriteBatch:cg,DocumentReference:hg,DocumentSnapshot:gg,Query:yg,QueryDocumentSnapshot:mg,QuerySnapshot:bg,CollectionReference:wg,FieldPath:Sg,FieldValue:Tg,setLogLevel:function(t){vo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Cg.wA("firestore",function(t){return function(t,e){return new sg(t,new Bd(t,e),new og)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Ig)))})(Eg=ee.Z),Eg.registerVersion("@firebase/firestore","2.3.6");var xg=n(5912);function Ag(t,e){return function(t,e=Bt.z){return new at.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function kg(t,e){return Ag(t,e).pipe((0,lt.U)(t=>({payload:t,type:"query"})))}function Og(t,e){return kg(t,e).pipe((0,Ht.O)(void 0),Zt(),(0,lt.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Pg(t,e,n){return Og(t,n).pipe((0,Wt.R)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Dg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Dg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Dg(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),(0,Jt.x)(),(0,lt.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function Dg(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Ng(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Rg{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Og(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,lt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe((0,Ht.O)(void 0),Zt(),(0,ct.h)(([t,e])=>e.length>0||!t),(0,lt.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe((0,Wt.R)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ng(t);return Pg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return kg(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,zt.D)(this.query.get(t)).pipe((0,Qt.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Lg(this.ref.doc(t),this.afs)}}class Lg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=qg(n,e);return new Rg(r,i,this.afs)}snapshotChanges(){return Ag(this.ref,this.afs.schedulers.outsideAngular).pipe((0,Ht.O)(void 0),Zt(),(0,lt.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,lt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,zt.D)(this.ref.get(t)).pipe((0,Qt.QV)(this.afs.schedulers.insideAngular))}}class Fg{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Og(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),(0,ct.h)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Og(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe((0,Wt.R)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ng(t);return Pg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return kg(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,zt.D)(this.query.get(t)).pipe((0,Qt.QV)(this.afs.schedulers.insideAngular))}}const Mg=new i.OlP("angularfire2.enableFirestorePersistence"),Vg=new i.OlP("angularfire2.firestore.persistenceSettings"),Ug=new i.OlP("angularfire2.firestore.settings"),jg=new i.OlP("angularfire2.firestore.use-emulator");function qg(t,e=(t=>t)){return{query:e(t),ref:t}}let Gg=(()=>{class t{constructor(t,e,n,i,o,s,a,u,c){this.schedulers=new Xt.HU(s),this.keepUnstableUntilFirst=(0,Xt.ss)(this.schedulers);const l=(0,Xt.on)(t,s,e);!te.Z.auth&&c&&(0,Xt.yq)();const h=u;[this.firestore,this.persistenceEnabled$]=(0,Xt.sI)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(i&&t.settings(i),h&&t.useEmulator(...h),n&&!(0,r.PM)(o)){const e=()=>{try{return(0,zt.D)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(Eg){return"undefined"!=typeof console&&console.warn(Eg),(0,st.of)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,(0,st.of)(!1)]},[i,h,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=qg(n,e),o=this.schedulers.ngZone.run(()=>r);return new Rg(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Fg(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Lg(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Xt.Dh),i.LFG(Xt.xv,8),i.LFG(Mg,8),i.LFG(Ug,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Vg,8),i.LFG(jg,8),i.LFG(xg.Qv,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Xt.Dh),i.LFG(Xt.xv,8),i.LFG(Mg,8),i.LFG(Ug,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Vg,8),i.LFG(jg,8),i.LFG(xg.Qv,8))},token:t,providedIn:"any"}),t})(),Bg=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Mg,useValue:!0},{provide:Vg,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Gg]}),t})();var zg=n(2231);let Hg=(()=>{class t extends zg.L{constructor(t,e){super(),this.firestore=t,this.auth=e}getAllUsers(){return this.firestore.collection("Usuarios").snapshotChanges().pipe((0,lt.U)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}createUser(t){return this.auth.register(t.email,t.contrase\u00f1a),this.firestore.collection("Usuarios").add(t)}updateUser(t,e){return this.firestore.collection("Usuarios").doc(t).update(e)}deleteUser(t){return this.firestore.collection("Usuarios").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Gg),i.LFG(G.e))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var $g=n(8452);let Zg=(()=>{class t extends $g.G{constructor(t){super(),this.firestore=t}getAllGrados(){return this.firestore.collection("Grados").snapshotChanges().pipe((0,lt.U)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Gg))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Kg=n(8253);let Yg=(()=>{class t extends Kg.x{constructor(t){super(),this.firestore=t}getAllCursos(t){return this.firestore.collection("Grados").doc(t).collection("Cursos").snapshotChanges().pipe((0,lt.U)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Gg))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Wg=n(1008);let Jg=(()=>{class t extends Wg.s{constructor(t){super(),this.firestore=t}getAllTemas(t,e){const n=`/Grados/${t}/Cursos/${e}`;return this.firestore.collection("Temas",t=>t.where("curso","==",n)).snapshotChanges().pipe((0,lt.U)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}createTema(t){return this.firestore.collection("Temas").add(t)}updateTema(t,e){return this.firestore.collection("Temas").doc(t).update(e)}deleteTema(t){return this.firestore.collection("Temas").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Gg))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Qg=n(6603);let Xg=(()=>{class t extends Qg.G{constructor(t){super(),this.firestore=t}getAllSubTemas(t){const e=`/Temas/${t}`;return this.firestore.collection("SubTemas",t=>t.where("idTema","==",e)).snapshotChanges().pipe((0,lt.U)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}createSubTema(t){return this.firestore.collection("SubTemas").add(t)}updateSubTema(t,e){return this.firestore.collection("SubTemas").doc(t).update(e)}deleteSubTema(t){return this.firestore.collection("SubTemas").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Gg))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var tm=n(5986);let em=(()=>{class t extends tm._{constructor(t){super(),this.firestore=t}getAllPreguntas(t){const e=`/SubTemas/${t}`;return this.firestore.collection("Preguntas",t=>t.where("idSubTema","==",e)).snapshotChanges().pipe((0,lt.U)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}createPregunta(t){return this.firestore.collection("Preguntas").add(t)}updatePregunta(t,e){return this.firestore.collection("Preguntas").doc(t).update(e)}deletePregunta(t){return this.firestore.collection("Preguntas").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Gg))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var nm=n(9131),rm=n(1538);let im=(()=>{class t extends rm.d{constructor(t){super(),this.firestore=t}getAllRespuestas(){return this.firestore.collection("Respuestas").snapshotChanges().pipe((0,lt.U)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}createRespuesta(t){return this.firestore.collection("Respuestas").add(t)}updateRespuesta(t,e){return this.firestore.collection("Respuestas").doc(t).update(e)}deleteRespuesta(t){return this.firestore.collection("Respuestas").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Gg))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),om=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t,bootstrap:[it]}),t.\u0275inj=i.cJS({providers:[{provide:zg.L,useClass:Hg},{provide:$g.G,useClass:Zg},{provide:Kg.x,useClass:Yg},{provide:Wg.s,useClass:Jg},{provide:Qg.G,useClass:Xg},{provide:tm._,useClass:em},{provide:rm.d,useClass:im}],imports:[[L,j,Gt,F.JX,M.u5,M.UX,Xt.hO.initializeApp(ot),Bg,xg.ww,nm.cD]]}),t})();(0,i.G48)(),N().bootstrapModule(om).catch(t=>console.error(t))},6304:(t,e,n)=>{"use strict";function r(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var s=t.apply(e,n);function a(t){r(s,i,o,a,u,"next",t)}function u(t){r(s,i,o,a,u,"throw",t)}a(void 0)})}}n.d(e,{Z:()=>i})},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,_T:()=>s,mG:()=>a,Jh:()=>u,XA:()=>c,CR:()=>l,ev:()=>h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}}},t=>{"use strict";t(t.s=9497)}]);